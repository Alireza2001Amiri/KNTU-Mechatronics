"use strict";(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[8220],{88967:(e,t,n)=>{n.d(t,{Z:()=>o});var a,o,r=n(10334),i=n(17171),s=n(66202),l=n(84647),c=n(95934),d=n(80074),p=n(60575),m=n(42902),u=n(5692),h=n(43308),g=n(78339),f=n(15491),C=n(95168),E=n(65390),_=n(22835),v=n(58193),y=n(95008),M=n(37107),b=n(86003),w=n(59815);!function(e){e.codec=c.NW({userAccount:y.bb.sharedCodec},"sharedState"),e.toPersistentState=e=>({userAccount:(0,i._)((0,r._)({},e.userAccount),{settings:M.tl.parse(M.Zb.read(e.userAccount.userProfile.id))})})}(a||(a={})),function(e){var t=e.STATE_KEY="appState",n=e.QUERY_KEY="q";const o=b.u.getItemOfType(t,a.codec),r=b.u.setItemOfType(t,a.codec),i=b.u.getItemOfType(n,c.Yj),y=b.u.setItemOfType(n,c.Yj);let M;!function(e){const t=[{name:"page reload",active:()=>null!=performance&&performance.getEntriesByType("navigation").some((e=>"reload"===e.type))},{name:"external referrer",active:()=>!document.referrer.includes(location.origin)}];e.reasonToInvalidate=()=>(0,l.pipe)(t.find((e=>e.active())),E.fromNullable,E.map(_.Up("name")))}(M||(M={}));const S=(0,l.flow)(o,E.map(s.map(a.toPersistentState)),E.getOrElse((()=>s.right(w._.defaultInitialState))));function k(e){return null!==e&&u.j.isOk(e.subscription)}e.create=()=>{const e=p.Bx.Logging.getLogger("PersistentApp"),t=t=>{e.debug("Invalidating app state: ",t),b.u.clear()};(0,l.pipe)(M.reasonToInvalidate(),v.Mi(t));const n=(0,l.pipe)(S(),s.fold((t=>(t.forEach((({input:t,error:n})=>e.error("Error decoding persistent app state from session storage:",n,t))),b.u.clear(),w._.defaultInitialState)),(t=>(e.debug("Retrieved persistent app state from storage"),t)))),a=d.s.create(w._.defaultState(n)),o=a.pipe(h.E("userAccount"),g.p(k),f.T((e=>({userAccount:_.cJ(e,"settings")}))),C.M((0,l.flow)(r,s.fold((t=>{e.error(t.message,t)}),(()=>{e.debug("App state persisted to session storage")}))))).subscribe(),c=(0,l.pipe)(location.search,E.fromPredicate((e=>e.startsWith("?"))),v.Mi(y),E.alt((0,l.flow)(i,E.chain(s.fold((t=>(t.forEach((({input:t,error:n})=>e.error("Error decoding persistent search query from session storage:",n,t))),E.none)),E.some)))),E.getOrElse((()=>"")));return{appState:a,query:new m.L(c),invalidate:t,dispose:()=>o.unsubscribe()}}}(o||(o={}))},94109:(e,t,n)=>{n.d(t,{w:()=>C,t:()=>f});var a=n(23988),o=n(10334),r=n(17171),i=n(50659),s=n(80074),l=n(87574),c=n(19840),d=n(65141),p=n(15491),m=n(50581),u=n(35426),h=n(22409);const g=JSON.parse('{"KZ":"_4ef28322-dropzone-dropZoneElement","vu":"_8d62b4bc-dropzone-active","eh":"_d35edbcd-dropzone-dropzone","L$":"_d835c977-dropzone-progressContainer","iU":"_886ec073-dropzone-message","iC":"_13180ec2-dropzone-dropzoneMiddleblock","yo":"_bb302841-dropzone-hovered"}');class f extends i.Component{componentDidMount(){this._subs=[d.R(document,"dragover").subscribe(this.onDragOver),d.R(document,"drop").subscribe(this.onDrop)]}componentWillUnmount(){this._unsubscribe(),this.props.documentUpload.navigated()}render(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)}_unsubscribe(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}constructor(...e){super(...e),(0,a._)(this,"isDropZoneVisible",s.s.create(!1)),(0,a._)(this,"isDropZoneHovered",s.s.create(!1)),(0,a._)(this,"timeout",void 0),(0,a._)(this,"isDocumentUploading",s.s.create(!1)),(0,a._)(this,"onLeave",(()=>{this.isDropZoneVisible.set(!1),this.isDropZoneHovered.set(!1)})),(0,a._)(this,"onDragOver",(e=>(this.isDropZoneVisible.set(!0),this.isDropZoneHovered.set(this.props.canDrop(e)),Boolean(this.timeout)&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.onLeave()),100),e.stopPropagation(),e.preventDefault(),!1))),(0,a._)(this,"onDrop",(e=>{e.preventDefault(),e.stopPropagation(),this.onLeave(),this.props.canDrop(e)&&(this.isDocumentUploading.set(!0),this.props.documentUpload.upload({files:e.dataTransfer.files,notify:!0,allowMultiple:this.props.multiple,isDragNDrop:!0}).then((()=>this.isDocumentUploading.set(!1))))})),(0,a._)(this,"_subs",[])}}const C=e=>{const t=i.useContext(u.k.Context);return i.createElement(f,(0,r._)((0,o._)({},e),{canDrop:e=>m.hasParentWithClassName(e.target,g.eh),render:(e,n,a)=>i.createElement(l.F.div,(0,c.Ly)(g.KZ,e.pipe(p.T((e=>e&&g.vu))),n.pipe(p.T((e=>e&&g.yo))),a.pipe(p.T((e=>e&&(0,c.Ly)(g.vu,g.yo).className)))),i.createElement(l.F.div,{className:g.eh},a.pipe(p.T((e=>e?i.createElement("div",{className:g.L$,key:"uploading"},i.createElement("div",{className:g.iU},t.modalUploadingDocumentText),i.createElement(h.y,{size:18})):i.createElement("div",{className:g.iC,key:"dropAFile"},"Drop a text file here"))))))}))}},11871:(e,t,n)=>{n.d(t,{k:()=>p});var a=n(23988),o=n(50659),r=n(86922),i=n(5692),s=n(81870),l=n(74056),c=n(98719);const d=JSON.parse('{"P":"_630bf5cf-upload-uploadContainer","S":"_2c13a91d-upload-upload"}');class p extends s.$G{componentWillUnmount(){this.props.documentUpload.navigated()}render(){const{hideTooltip:e,ariaHidden:t}=this.props;return o.createElement(l.OH.Context.Consumer,null,(n=>o.createElement(r.S.Context.Consumer,null,(a=>{return o.createElement("input",{ref:this._onMount,id:"upload","data-name":"upload-element",type:"file",tabIndex:-1,accept:(r=n.info.browser,"safari"===r?c.jj.Pm.join(","):c.jj.$G.join(",")),title:a.tooltipUploadElementInput,multiple:this.props.multiple,className:Boolean(e)?d.S:d.P,onChange:this._onChange(),"aria-label":a.tooltipUploadElementInput,"aria-hidden":t});var r}))))}constructor(...e){super(...e),(0,a._)(this,"_inputElement",void 0),(0,a._)(this,"_onMount",(e=>{var t,n;null===(t=(n=this.props).mount)||void 0===t||t.call(n,e),null!=e&&(this._inputElement=e,this._inputElement.onchange=e=>this._onChange()(e))})),(0,a._)(this,"_onChange",(()=>e=>{Boolean(e.persist)&&e.persist();const t="dataTransfer"in e?e.dataTransfer.files:e.target.files;if(!Boolean(t)||!t.length||i.j.isInProgress(this.props.documentUpload.state.get()))return;const n=this.props.documentUpload.upload({files:t,notify:1===t.length,allowMultiple:this.props.multiple,isDragNDrop:!1}).then((()=>{this._inputElement.value=""}));void 0!==this.props.onUpload&&this.props.onUpload(n)}))}}},70736:(e,t,n)=>{n.d(t,{r:()=>l});var a=n(23988),o=n(50659),r=n(65390),i=n(84647),s=n(785);class l extends o.Component{componentDidMount(){const e=this.context;this.props.external?(e.scheduleReloadOnNavigation(),e.navigate(this.props.destination,(0,i.pipe)(e.locationState,r.toUndefined))):e.replace(this.props.destination,(0,i.pipe)(e.locationState,r.toUndefined))}render(){return null}constructor(...e){super(...e),(0,a._)(this,"context",void 0)}}(0,a._)(l,"contextType",s.L.Context)},45268:(e,t,n)=>{n.d(t,{T:()=>a});var a,o=n(10334),r=n(17171),i=n(69384),s=n(37578),l=n(85791),c=n(28874),d=n(43922),p=n(87840),m=n(63724),u=n(48581),h=n(34681),g=n(8094),f=n(19160);!function(e){e.create=({persistentApp:e,env:t,platformEnv:n,config:a,router:C,telemetryPageContext:E,productMetricsClient:_,createGnarStorages:v=f.E4})=>{const y=(0,f.ki)(a,t,v);y.getContainerId().then(_.updateContainerInfo);const M=(0,f.pq)(window.location.origin,a.api.tokensUrl),b=new h.n(y,a,t,(e=>M(e).getAccessToken())),w=(0,f.Gd)(b,y,a,t,n,C,E,_),{cache:S}=w,k=(0,i._)(w,["cache"]);return t=>t((0,r._)((0,o._)({},k),{persistentApp:e,dapi:new m.lK(a.api.dapiUrl,s.j.createTE(u.pM.request({target:m.lK.targetTag,cache:S})),k.fingerprints),institution:new c.X9(a.api.institutionUrl,s.j.create(u.pM.request({target:c.X9.targetTag,cache:S})),k.fingerprints),subscriptionApi:new l.DI(a.api.subscriptionUrl,s.j.create(u.pM.request({target:l.DI.targetTag,cache:S})),k.fingerprints),settingsRegistryApi:new p.v(a.api.settingsRegistryUrl,s.j.createTE(u.pM.request({target:p.v.targetTag,cache:S})),k.fingerprints),vitoClient:new g.WG(k.fingerprints),passportClient:new d.t.PassportClient(a.api.passportUrl,s.j.create(u.pM.request({target:l.DI.targetTag,cache:S})),k.fingerprints)}))}}(a||(a={}))},73238:(e,t,n)=>{var a=n(2071),o=n(50659),r=n(53493),i=n(78952),s=n(60575),l=n(53917),c=n(12061),d=n(81870),p=n(69204),m=n(75967),u=n(96750),h=n(16721),g=n(74056),f=n(88967),C=n(80029),E=n(45268),_=n(84647),v=n(87574),y=n(41548),M=n(41797),b=n(15491),w=n(89769),S=n(66202),k=n(65390),L=n(70736),x=n(82937),N=n(11213),F=n(11864),T=n(27917),D=n(16117),B=n(86922),P=n(84714),I=n(36840),A=n(86562),O=n(40884),U=n(78254),W=n(944),R=n(48732),$=n(23988),H=n(10334),V=n(19840),z=n(14973),q=n(58193),j=n(5875),Z=n(27024),G=n(54242),K=n(19967),Y=n(82608),J=n(40046),Q=n(23231);const X=JSON.parse('{"dh":"_3e7e5fe2-compare-options-optionsTable","i2":"_81366118-compare-options-optionsTableColumn1","b5":"_93696e3e-compare-options-optionsTableColumn2 _8728f2da-compare-options-optionsHeadCell","WL":"_1bcd23c5-compare-options-optionsTableColumn3 _8728f2da-compare-options-optionsHeadCell","HY":"_5dcaa0c3-compare-options-columnTitle","tv":"_9f7056f1-compare-options-columnDescription","sb":"_462f147b-compare-options-optionCell","uK":"_dce003a6-compare-options-option","Ee":"_e0473725-compare-options-optionTitle","_A":"_7c9d94b7-compare-options-optionTitleTextWithBadge","zp":"_80eb6777-compare-options-questionMarkIcon","XX":"_6e31babc-compare-options-optionChecked _462f147b-compare-options-optionCell","Av":"_a5231352-compare-options-optionCheckedIcon"}'),ee=({desc:e})=>{const t=o.useContext(B.S.Context);return o.createElement(T.In.CheckmarkOutcomes,{role:"figure",title:t.proofitOrderModal.promo.step3.header.editingOptions.checkedLabel,desc:e,className:X.Av,width:16})},te=({option:{title:e,description:t,availableInCorrectness:n,availableInClarity:a,isNew:r}})=>{const i=o.useContext(B.S.Context).proofitOrderModal.promo;return o.createElement("tr",{className:X.uK},o.createElement("th",{className:X.sb},o.createElement(Y.Typography.Base,{className:X.Ee},o.createElement("span",{className:X._A},e,r&&o.createElement(G.v,{variant:"success",label:"New"})),(0,_.pipe)(t,q.dQ((e=>o.createElement(J.m_,{title:e,align:"right"},o.createElement(T.In.QuestionMark,{className:X.zp}))),null)))),o.createElement("td",{className:X.XX},n?o.createElement(ee,{desc:i.step3.header.editingOptions.featureIsAvailable(e,i.step3.header.correctness.h1)}):o.createElement(Q.m,null,i.step3.header.editingOptions.unavailable)),o.createElement("td",{className:X.XX},a?o.createElement(ee,{desc:i.step3.header.editingOptions.featureIsAvailable(e,i.step3.header.correctnessClarity.h1)}):o.createElement(Q.m,null,i.step3.header.editingOptions.unavailable)))},ne=({title:e,description:t,className:n})=>o.createElement("th",{className:n},o.createElement(Y.Typography.Base,{className:X.HY},e),o.createElement(Y.Typography.Small,{className:X.tv},t)),ae=()=>{const e=o.useContext(B.S.Context).proofitOrderModal.promo.step3,t=[{title:e.spelling.h1,description:k.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.grammar.h1,description:k.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.punctuation.h1,description:k.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.conciseness.h1,description:k.some(e.conciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.preciseness.h1,description:k.some(e.preciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.focus.h1,description:k.some(e.focus.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0},{title:e.flow.h1,description:k.some(e.flow.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0}];return o.createElement("table",{className:X.dh},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",{className:X.i2},o.createElement(Q.m,null,e.header.features)),o.createElement(ne,{title:e.header.correctness.h1,description:e.header.correctness.h2,className:X.b5}),o.createElement(ne,{title:e.header.correctnessClarity.h1,description:e.header.correctnessClarity.h2,className:X.WL}))),o.createElement("tbody",null,t.map((e=>o.createElement(te,{option:e,key:`proofit-option-${e.title}`})))))};var oe;!function(e){e.Dots=()=>o.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},o.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(16 16)"},o.createElement("circle",{cx:"10",cy:"10",r:"26",fill:"#EFF4FF"}),o.createElement("circle",{cx:"10",cy:"10",r:"18",fill:"#DCE7FF"}),o.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#9DBBFF"}))),e.PathFrom1To2=()=>o.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 99"},o.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M1 0v58c0 8.837 7.163 16 16 16h280c8.837 0 16 7.163 16 16V89"})),e.PathFrom2To3=()=>o.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},o.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M313 0v8.5c0 8.837-7.163 16-16 16H17c-8.837 0-16 7.163-16 16v8.054"})),e.Illustration=()=>o.createElement("svg",{viewBox:"0 0 432 296",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.createElement("defs",null,o.createElement("path",{d:"M562,3 C562,83 430.204272,225.039762 318.380193,227 C251.656819,228.169638 194.76078,245.646649 156.426437,283 C122.849899,315.7173 28.718061,288.818016 12.9452193,301.609489 C-20.6124065,328.824083 12.9452193,419 94.3182261,362.425988 C175.691233,305.851977 173.663757,404.669157 238.24,392.399927 C269.889017,386.386739 323.865886,388.63911 362.242863,396.392987 C511.421672,426.533823 511.844211,635.1185 548,615.5 C605.82398,584.124119 562,-42.6094389 562,3 Z",id:"path-1"}),o.createElement("path",{d:"M19.3089215,7.937541 C17.6497662,9.75781021 11.3030739,19.3772256 10.9573251,21.58956 C10.6111662,23.8014846 9.82369558,40.4892442 10.9573251,40.6740835 C12.0905445,40.8589229 15.6173464,40.6740835 15.6173464,40.6740835 C15.6173464,40.6740835 17.6217051,25.3197123 18.1934416,23.656568 C18.7647679,21.9934237 27.4076677,15.0137914 31.660419,10.9481454 C35.9135805,6.88290921 34.064255,2.91029763 34.064255,2.91029763 L20.0579422,0.319267969 C20.0579422,0.319267969 7.57079144,7.18291455 1.97728943,15.2236312 C-0.695188878,19.0655028 0.323601194,33.676828 0.323601194,33.676828 C0.323601194,33.676828 3.2155049,34.1965094 4.57799307,33.1940326 C4.94794019,29.6824948 5.23339828,24.3360883 6.50155404,20.4544619 C6.66437999,19.9565022 6.94286568,19.5048549 7.32921843,19.1507502",id:"path-3"}),o.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-5"},o.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),o.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"})),o.createElement("path",{d:"M0.260606478,48.0753261 L12.1340822,48.0753261 C17.114047,57.187615 26.7976771,63.3697253 37.9276223,63.3697253 C54.1444201,63.3697253 67.2907322,50.2452817 67.2907322,34.0554601 C67.2907322,25.5804005 63.6882211,17.9453528 57.9285812,12.593295 L57.9285812,0.815669031 C68.6856756,7.78180737 75.8017785,19.8765665 75.8017785,33.6306157 C75.8017785,55.2170445 58.2733624,72.7163027 36.6509653,72.7163027 C20.1393555,72.7163027 6.01510052,62.5118246 0.260610064,48.0753266 Z",id:"path-6"}),o.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-8"},o.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),o.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"}))),o.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"Initial---Proofread-02-08",transform:"translate(-288 -265)"},o.createElement("g",{id:"Popup",transform:"translate(288 60)"},o.createElement("g",{id:"Left",transform:"translate(0 68)"},o.createElement("g",{transform:"translate(-28 -27)",id:"Illustration"},o.createElement("g",{id:"Group-3"},o.createElement("mask",{id:"mask-2",fill:"#fff"},o.createElement("use",{xlinkHref:"#path-1"})),o.createElement("use",{id:"Oval-5",fill:"#F5F5FF",xlinkHref:"#path-1"}),o.createElement("path",{d:"M146.788506,257.081856 L280.453567,257.081856 C287.080984,257.081856 292.453567,262.454439 292.453567,269.081856 L292.453567,390.02113 L134.788506,372.12887 L134.788506,269.081856 C134.788506,262.454439 140.161089,257.081856 146.788506,257.081856 Z",id:"Rectangle",fill:"#E4E6F2",mask:"url(#mask-2)"})),o.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"130.315",cy:"408.986",rx:"43.706",ry:"5.763"}),o.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"329.556",cy:"436.032",rx:"75.885",ry:"12.968"}),o.createElement("g",{id:"Paper",transform:"translate(131.678 263.563)"},o.createElement("path",{d:"M8,0 L144.952351,-3.01980663e-14 C149.370629,-3.10096908e-14 152.952351,3.581722 152.952351,8 L152.952351,126.001947 C152.952351,130.386158 149.423632,133.953611 145.039682,134.001471 L70.9944988,134.809829 L0,112.933059 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z",id:"Rectangle",fill:"#FFF"}),o.createElement("path",{d:"M25.1170739,54.1515434 C24.314287,54.1515434 23.6634997,53.5038202 23.6634997,52.7048131 C23.6634997,51.905806 24.314287,51.2580827 25.1170739,51.2580827 L128.391903,51.2580827 C129.19469,51.2580827 129.845477,51.905806 129.845477,52.7048131 C129.845477,53.5038202 129.19469,54.1515434 128.391903,54.1515434 L25.1170739,54.1515434 Z M25.1170739,65.002021 C24.314287,65.002021 23.6634997,64.3542978 23.6634997,63.5552907 C23.6634997,62.7562835 24.314287,62.1085603 25.1170739,62.1085603 L76.1646321,62.1085603 C76.967419,62.1085603 77.6182064,62.7562835 77.6182064,63.5552907 C77.6182064,64.3542978 76.967419,65.002021 76.1646321,65.002021 L25.1170739,65.002021 Z M71.0771224,42.9393832 C70.2743355,42.9393832 69.6235482,42.29166 69.6235482,41.4926529 C69.6235482,40.6936458 70.2743355,40.0459225 71.0771224,40.0459225 L128.391903,40.0459225 C129.19469,40.0459225 129.845477,40.6936458 129.845477,41.4926529 C129.845477,42.29166 129.19469,42.9393832 128.391903,42.9393832 L71.0771224,42.9393832 Z M25.1170739,75.8524986 C24.314287,75.8524986 23.6634997,75.2047754 23.6634997,74.4057682 C23.6634997,73.6067611 24.314287,72.9590379 25.1170739,72.9590379 L128.391903,72.9590379 C129.19469,72.9590379 129.845477,73.6067611 129.845477,74.4057682 C129.845477,75.2047754 129.19469,75.8524986 128.391903,75.8524986 L25.1170739,75.8524986 Z M25.1170739,30.3457684 C24.314287,30.3457684 23.6634997,29.6980452 23.6634997,28.8990381 C23.6634997,28.100031 24.314287,27.4523077 25.1170739,27.4523077 L128.391903,27.4523077 C129.19469,27.4523077 129.845477,28.100031 129.845477,28.8990381 C129.845477,29.6980452 129.19469,30.3457684 128.391903,30.3457684 L25.1170739,30.3457684 Z M25.1170739,86.7029762 C24.314287,86.7029762 23.6634997,86.0552529 23.6634997,85.2562458 C23.6634997,84.4572387 24.314287,83.8095155 25.1170739,83.8095155 L58.7217415,83.8095155 C59.5245284,83.8095155 60.1753157,84.4572387 60.1753157,85.2562458 C60.1753157,86.0552529 59.5245284,86.7029762 58.7217415,86.7029762 L25.1170739,86.7029762 Z",id:"Combined-Shape",fill:"#E4E6F2",fillRule:"nonzero"}),o.createElement("path",{d:"M64.5360384,86.7029762 C63.7332515,86.7029762 63.0824642,86.0552529 63.0824642,85.2562458 C63.0824642,84.4572387 63.7332515,83.8095155 64.5360384,83.8095155 L87.7932259,83.8095155 C88.5960128,83.8095155 89.2468001,84.4572387 89.2468001,85.2562458 C89.2468001,86.0552529 88.5960128,86.7029762 87.7932259,86.7029762 L64.5360384,86.7029762 Z M25.1170739,42.9393832 C24.314287,42.9393832 23.6634997,42.29166 23.6634997,41.4926529 C23.6634997,40.6936458 24.314287,40.0459225 25.1170739,40.0459225 L64.5360384,40.0459225 C65.3388253,40.0459225 65.9896126,40.6936458 65.9896126,41.4926529 C65.9896126,42.29166 65.3388253,42.9393832 64.5360384,42.9393832 L25.1170739,42.9393832 Z M81.978929,65.002021 C81.1761421,65.002021 80.5253548,64.3542978 80.5253548,63.5552907 C80.5253548,62.7562835 81.1761421,62.1085603 81.978929,62.1085603 L128.391903,62.1085603 C129.19469,62.1085603 129.845477,62.7562835 129.845477,63.5552907 C129.845477,64.3542978 129.19469,65.002021 128.391903,65.002021 L81.978929,65.002021 Z",id:"Combined-Shape",fill:"#EC5050",fillRule:"nonzero"})),o.createElement("g",{id:"Man-w-Pencil",transform:"translate(85.83 290.871)"},o.createElement("g",{id:"Pencil",transform:"rotate(-20 53.447 9.198)"},o.createElement("polygon",{id:"Fill-7",fill:"#6089F3",points:"42.7306681 76.025911 38.0871006 78.5584871 5.7923657 19.3303867 10.4363805 16.7978106"}),o.createElement("polygon",{id:"Fill-9",fill:"#7CA1FF",points:"47.3737436 73.4936929 42.7306234 76.0258215 10.4363358 16.7981685 15.0799033 14.2651451"}),o.createElement("polygon",{id:"Fill-14",fill:"#A2BCFF",points:"52.0172216 70.9610721 47.3736541 73.4936481 15.0798138 14.2655477 19.7233813 11.7329717"}),o.createElement("path",{d:"M52.6528102,81.32316 L53.0585241,87.968432 C53.0938619,88.6260697 52.3455054,89.0345208 51.8190167,88.6444119 L46.4534843,84.7044018 L52.6528102,81.32316 Z",id:"Fill-16",fill:"#EC5050"}),o.createElement("polygon",{id:"Fill-19",fill:"#FFF",points:"19.7232471 11.7331059 5.79254463 19.3299393 3.91695668 15.889197 17.8467646 8.29191616"}),o.createElement("path",{d:"M17.8466304,8.29178195 L3.91682248,15.8890627 L0.608487518,9.82269085 C-0.349659249,8.06406932 0.298051544,5.86165421 2.05644321,4.90293482 L9.61962974,0.777712456 C11.3780214,-0.181006937 13.5801486,0.4672359 14.5387427,2.22496268 L17.8466304,8.29178195 Z",id:"Fill-21",fill:"#FFC2C2"})),o.createElement("g",{id:"Foots",transform:"translate(20.342 66.04)"},o.createElement("path",{d:"M22.9728849,46.0241608 C22.9728849,46.0241608 21.9372998,46.5011779 20.2725812,46.4607201 L20.3172716,49.3228228 C20.3172716,49.3228228 21.4903955,49.511626 22.2682401,49.3659778 L22.5687447,48.62926 L23.2051981,49.4106741 C23.2051981,49.4106741 26.9314554,49.9512678 28.8535292,49.7882806 C28.8535292,49.7882806 29.0738993,48.9529226 28.1581307,48.5676099 C27.2419769,48.1826825 25.1542403,47.6494098 24.5624773,47.2259511 C23.9703291,46.8024925 22.9728849,46.0241608 22.9728849,46.0241608",id:"Fill-23",fill:"#3B3E4D"}),o.createElement("path",{d:"M4.13320993,43.43983 C4.13320993,43.43983 3.0267365,43.166258 1.7511329,42.095474 L-0.000269683636,44.3588008 C-0.000269683636,44.3588008 0.79837914,45.238855 1.49685976,45.6110671 L2.19148775,45.2226718 L2.20073405,46.2302646 C2.20073405,46.2302646 4.77428646,48.9794707 6.37736304,50.0517959 C6.37736304,50.0517959 7.07160577,49.5370181 6.59657731,48.6646702 C6.12116358,47.7915516 4.82321477,46.071901 4.62480467,45.3714026 C4.42677983,44.6705188 4.13320993,43.43983 4.13320993,43.43983",id:"Fill-27",fill:"#3B3E4D"}),o.createElement("path",{d:"M7.77756387,2.8459536 C4.72919113,8.61268399 11.8341253,20.6008102 14.5745244,24.8489352 L14.5745244,24.8489352 C15.2562232,25.9060036 15.7062805,27.095158 15.8990002,28.3419567 L15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 L23.2079906,24.1999585 C22.5497205,20.0438355 21.233558,6.05724289 21.233558,6.05724289 L21.233558,6.05724289 C21.233558,6.05724289 15.8555438,0.360372931 11.5612947,0.360372931 L11.5612947,0.360372931 C10.0841546,0.360372931 8.73511643,1.03454517 7.77756387,2.8459536",id:"Fill-33",fill:"#C6CBDE"}),o.createElement("path",{d:"M6.76242072,28.533 C6.07445196,30.0274634 1.70046824,40.3121095 1.70046824,40.3121095 L6.66086342,43.2651117 C6.66086342,43.2651117 14.3506694,30.8491914 15.3564142,27.5225733 C18.010205,20.3519742 22.5283497,6.65570873 20.917261,3.88569821 C20.917261,3.88569821 17.7020601,3.3933421 14.1358546,3.3933421 C9.65376155,3.39372025 4.61801741,4.17120425 4.71817068,7.68047057 C4.89882098,13.9816456 7.45038948,27.0389147 6.76242072,28.533 Z",id:"Clip-37",fill:"#E4E6F2"}),o.createElement("path",{d:"M15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 C22.9678434,22.6837403 22.6401371,19.8591813 22.3207189,16.8826816",id:"Fill-33",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M4.38018352,7.17986789 C4.43184215,9.38630245 4.71940381,12.415885 5.04863335,15.492005 C5.66561059,21.2566637 6.42892078,27.1847565 6.06024614,28.1651834 C5.49484045,29.6691633 1.90009107,40.0193007 1.90009107,40.0193007 L5.97678149,42.9911073 C5.97678149,42.9911073 13.5016783,30.5767367 14.3282476,27.2289352 C15.8990002,24.0434641 17.0905734,21.1594864 17.9675545,17.6725218",id:"Clip-37",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),o.createElement("g",{id:"Group-53",transform:"translate(23.743 31.196)"},o.createElement("path",{d:"M5.88330653,16.7886512 C7.71829147,14.4054718 11.7570817,13.3014505 14.1361803,16.3023169 C17.4145376,20.4378064 18.8620539,42.1072252 18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",fill:"#FFF"}),o.createElement("path",{d:"M18.6917335,39.5094009 L18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M14.9421691,6.41326474 C14.9962749,6.53196769 15.0809118,6.73057424 15.1705729,6.94454687 C15.3603297,7.397462 15.7529832,7.70132618 16.1916267,7.92567091 C16.2426408,7.95140909 16.278969,7.98713522 16.2901766,8.03592251 C16.3160701,8.14771073 16.1672791,8.35745768 15.9995511,8.5499178 C15.7522103,8.83572684 15.6629357,9.22256784 15.7553021,9.58828048 C15.9381024,10.3108703 16.1576174,11.4456551 15.8101808,11.6784512 C15.2923109,12.0257245 13.5605386,12.6253857 13.5605386,12.6253857 L13.0909775,15.5234279 C13.0909775,15.5234279 12.4730119,16.4661367 9.75651385,15.8707012 C8.83671512,15.6694056 8.451018,15.2871744 8.451018,15.2871744 L8.80541104,12.4456026 C8.80541104,12.4456026 6.16929879,9.67471467 7.54088102,6.97796808 C8.91284972,4.28045319 13.6583155,3.58244913 14.9421691,6.41326474",id:"Fill-41",fill:"#FFF"}),o.createElement("path",{d:"M8.86995889,8.11469929 C9.21616083,7.20911238 11.7652159,6.145276 13.841969,5.96876698 C15.917805,5.79225796 18.9854752,3.72675465 18.028032,2.76073731 C17.0701302,1.79471997 14.8594818,1.50474087 14.2207277,1.6855974 C13.5815151,1.86688868 14.5687638,0.307870601 13.5310751,0.190053005 C12.4929278,0.0722354085 6.21910668,1.50126286 5.62162174,4.7505939 C4.94022295,8.45510954 6.59144572,11.67053 8.8589538,12.9252222 L8.79521596,11.3579438 C8.79521596,11.3579438 6.91151056,10.5271341 7.1793012,9.5476395 C7.34942162,8.92507567 8.18168192,9.13940805 8.56502606,9.52590193 C8.56502606,9.52590193 8.74064903,8.45337053 8.86995889,8.11469929",id:"Fill-45",fill:"#3B3E4D"}),o.createElement("path",{d:"M22.1015227,32.9159145 C22.9821402,33.1976128 26.5951289,32.8827012 26.9494449,32.731806 C27.555489,32.4738901 27.4128144,32.2475474 27.4128144,32.2475474 C28.0925666,32.0560582 28.0214448,31.655448 28.0214448,31.655448 C28.7339561,31.2376161 27.8498903,31.0022524 27.8498903,31.0022524 C28.4878315,30.2088228 26.7028892,30.2289148 26.1843465,30.300262 C25.9033075,30.3388059 24.6748396,30.3215841 24.6748396,30.3215841 C24.6748396,30.3215841 24.7382027,30.0296348 25.053725,29.811903 C25.3024359,29.6405058 25.8597723,29.5023219 26.0317578,29.034875 C26.1472769,28.7220136 24.1950906,29.3026319 23.5226661,29.7134931 C22.9812781,30.0443963 22.1105746,31.1535576 22.1105746,31.1535576 L16.7876448,30.0800699 L15.6165055,32.6235552 L22.1015227,32.9159145 Z",id:"Fill-47",fill:"#FFF"}),o.createElement("path",{d:"M13.9235043,20.3536067 C13.7079836,22.6699292 14.0597134,26.8658803 14.566618,27.8548996 M17.4433881,33.6118774 C17.4433881,33.6118774 12.4351185,32.5711929 11.3368251,31.4837638 C9.57731428,29.7410889 6.91261659,24.0698097 7.28288112,20.0723185 C7.53719552,17.3283231 10.6174171,15.5606357 12.440291,16.8022403",id:"Fill-49",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M17.2332067,35.5617231 C17.2332067,35.5617231 18.6601238,35.9953446 19.5185243,35.786864 C19.5185243,35.786864 20.0910119,31.1840821 19.2306259,30.0664823",id:"Fill-51",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),o.createElement("g",{id:"Man-on-the-ladder",transform:"translate(324.404 272.184)"},o.createElement("g",{id:"Ladder",transform:"translate(0 53.704)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"},o.createElement("path",{d:"M42.2873305,0.458915597 L63.6754936,103.759193",id:"Path-3",stroke:"#8189A9"}),o.createElement("path",{d:"M32.9242085,34.1090085 L44.562667,103.759193",id:"Path-3",stroke:"#8189A9"}),o.createElement("path",{d:"M32.9242085,8.08373708 L16.0882387,103.759193",id:"Path-3",stroke:"#C6CBDE"}),o.createElement("path",{d:"M18.1687635,14.8540285 L0.61595046,103.759193",id:"Path-3",stroke:"#C6CBDE"}),o.createElement("path",{d:"M0.910134603,95.109066 L14.1070863,95.109066",id:"Path-4",stroke:"#C6CBDE"}),o.createElement("path",{d:"M48.237134,95.109066 L61.4340857,95.109066",id:"Path-4",stroke:"#8189A9"}),o.createElement("path",{d:"M33.6749803,22.2982978 L46.8719321,22.2982978",id:"Path-4",stroke:"#8189A9"}),o.createElement("path",{d:"M4.55067302,79.6367778 L17.7476248,79.6367778",id:"Path-4",stroke:"#C6CBDE"}),o.createElement("path",{d:"M10.0114806,65.0746241 L23.2084324,65.0746241",id:"Path-4",stroke:"#C6CBDE"}),o.createElement("path",{d:"M10.0114806,50.5124705 L23.2084324,50.5124705",id:"Path-4",stroke:"#C6CBDE"}),o.createElement("path",{d:"M12.7418844,35.0401822 L25.9388362,35.0401822",id:"Path-4",stroke:"#C6CBDE"})),o.createElement("g",{id:"Group-26",transform:"translate(6.502 20.418)"},o.createElement("path",{d:"M9.75957787,4.94046636 C9.70096056,4.96496089 7.92645459,4.90005037 7.38004284,5.42586642 C7.07670849,5.72388328 4.6406057,5.16132543 4.27578465,5.44342084 C4.03885593,5.62141447 3.76708474,5.80675646 3.48383604,5.97291107 C3.21083512,5.87901535 1.43263995,5.25317994 1.09241358,2.89803026 C1.66956868,2.83434446 0.252505354,2.4861138 0.252505354,2.4861138 C1.04814317,2.24198492 1.29572958,1.88477293 0.612817377,1.15810168 C0.471807893,1.00827677 0.353753442,0.462865091 0.428357297,0.257519227 C0.530425208,-0.0449882986 0.861633529,0.0272705839 1.0313368,0.27425716 C1.86878556,1.45407733 2.9193882,1.53613403 3.80889569,2.4175291 C3.86259407,2.46366048 8.4716366,3.5589745 8.61141635,3.48385792 C9.60053229,2.9090528 10.7417253,4.47180423 9.75957787,4.94046636",id:"Fill-16",fill:"#E4E6F2"}),o.createElement("path",{d:"M19.1178936,61.1367709 C18.9617174,59.9696062 18.3821028,57.9504399 18.3821028,57.9504399 L16.5395516,58.1945688 C16.5395516,58.1945688 16.1427574,58.8383669 14.7556176,59.2437515 C13.3705274,59.6536267 11.7304723,59.3119279 10.9135191,59.6287239 C10.4413013,59.8095752 10.2392151,60.6517791 10.1478049,61.330686 C10.128539,61.4809191 10.1150119,61.6229874 10.1059939,61.7487261 C10.0863182,62.0144918 10.2998819,62.2398415 10.5683738,62.2382085 C12.3908394,62.2275942 18.7665996,62.1712568 19.0773124,61.9287609 C19.1724118,61.8569103 19.171592,61.5486873 19.1178936,61.1367709",id:"Fill-18",fill:"#3B3E4D"}),o.createElement("path",{d:"M16.024744,55.4544875 L16.2956954,58.3966896 C16.343655,58.9176067 16.7711924,59.3229913 17.2962888,59.3446281 C17.8845115,59.3695309 18.3780447,58.9061759 18.3882925,58.3195318 L18.4374818,55.4508133 L16.024744,55.4544875 Z",id:"Fill-20",fill:"#FBD4C1"}),o.createElement("path",{d:"M9.41693303,53.5304825 C9.00251271,52.4274118 7.98470298,50.5886886 7.98470298,50.5886886 L6.24339983,51.2365691 C6.24339983,51.2365691 6.00073235,51.9526261 4.74025513,52.6564358 C3.48182748,53.3643279 1.80652004,53.3957625 1.08138697,53.8864697 C0.662047722,54.1681569 0.653439585,55.0336305 0.716565924,55.7158034 C0.732142553,55.8664448 0.750588561,56.0081048 0.769854391,56.133027 C0.81084552,56.3963432 1.06990945,56.5682132 1.33020312,56.5069769 C3.10429918,56.0905698 9.30625698,54.6172234 9.55466322,54.3110417 C9.63090672,54.2200037 9.56163171,53.9199456 9.41693303,53.5304825",id:"Fill-22",fill:"#3B3E4D"}),o.createElement("path",{d:"M5.12647355,48.6801968 L6.05123342,51.4880872 C6.21478802,51.984918 6.72266811,52.2845679 7.23833651,52.1890392 C7.81795107,52.0820797 8.19506946,51.5207466 8.07291589,50.9467579 L7.47731479,48.1396841 L5.12647355,48.6801968 Z",id:"Fill-24",fill:"#FFF"})),o.createElement("g",{id:"Pants",transform:"translate(11.147 37.124)"},o.createElement("path",{d:"M1.97728943,15.6736851 C-0.695188878,19.5155567 0.323601194,35.5397524 0.323601194,35.5397524 C0.323601194,35.5397524 3.2155049,36.0594337 4.57799307,35.0569569 C4.94794019,31.5454191 5.23339828,26.1990126 6.50155404,22.3173862 C6.66437999,21.8194265 7.28479942,19.3389047 7.67115217,18.9848 L14.5536139,14.3084832 C13.4338227,16.1287524 11.2610683,19.7492958 10.9573251,23.3763675 C10.6111662,25.5882921 9.82369558,42.3521685 10.9573251,42.5370079 C12.0905445,42.7218472 15.6173464,42.5370079 15.6173464,42.5370079 C15.6173464,42.5370079 17.6217051,27.1826366 18.1934416,25.5194923 C18.7647679,23.856348 27.4076677,16.8767157 31.660419,12.8110697 C35.9135805,8.74583353 34.4643543,3.84193529 34.4643543,3.84193529 L20.0579422,2.18219229 C19.5823752,2.04419469 18.4615527,1.58713727 17.2986473,2.18219229 C13.2916383,4.23256619 7.237262,7.62135444 2.90194591,13.8534159 L1.97728943,15.6736851 Z",id:"pants",fill:"#E4E6F2"}),o.createElement("mask",{id:"mask-4",fill:"#fff"},o.createElement("use",{xlinkHref:"#path-3"})),o.createElement("use",{id:"pants",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xlinkHref:"#path-3"})),o.createElement("g",{id:"Group-45",transform:"translate(11.963)"},o.createElement("path",{d:"M18.3145525,16.5980195 C20.3469798,14.9770238 24.6738011,16.4716869 22.9237479,20.3879993 C21.1741111,24.3043117 12.6000165,27.8383448 10.7108586,28.4741098 C8.82211722,29.1094646 1.8906237,27.745236 0.367552635,27.2009391 L0.483750837,23.8670694 L9.55720621,25.077484 C9.55720621,25.077484 16.1151163,18.3527309 18.3145525,16.5980195",id:"Fill-30",fill:"#F37878"}),o.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586 C17.2645622,39.0967586 16.8559943,23.8289646 17.8151501,17.3466225 C18.2353794,14.5037276 23.3314411,13.1776448 23.3314411,13.1776448",id:"Fill-32",fill:"#FFC2C2"}),o.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586",id:"Fill-32",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M16.8292146,4.5304204 C16.8292146,4.5304204 16.469375,6.32860994 16.4069028,7.1386976 C16.3448472,7.94960561 15.5389564,8.19037597 15.482315,8.44550232 C15.4331702,8.66371327 15.9741791,9.19570502 15.9741791,9.19570502 C15.9741791,9.19570502 16.1045376,11.5911035 16.8429585,12.2646042 C17.5817958,12.938105 18.9174504,12.6948736 18.9174504,12.6948736 L19.1964927,15.1887131 C19.1964927,15.1887131 18.926613,16.6181589 23.8806546,14.0094715 L23.609109,12.2412245 C23.609109,12.2412245 26.2462668,7.07471093 24.0755678,4.54723741 C21.9052852,2.01935372 16.8292146,4.5304204 16.8292146,4.5304204",id:"Fill-34",fill:"#FFF"}),o.createElement("path",{d:"M18.841276,5.5197938 C18.0924432,5.64776714 17.338196,5.76958792 16.5835324,5.68222151 C15.4211339,5.5480956 14.5515216,5.2810743 14.0629894,3.99231711 C13.1754683,1.64942052 14.3828468,0.250737514 14.3828468,0.250737514 C14.3828468,0.250737514 15.0071518,1.06574723 17.5989132,0.495609584 C19.1199018,0.160910072 22.0481798,0.417266928 24.183478,2.66664453 C27.2362838,5.88361545 25.0293509,11.2273229 23.6091507,12.2412655 L23.2538924,10.1046849 C23.2538924,10.1046849 23.8490437,9.87129763 24.0222998,9.33233297 C24.1918076,8.8048531 23.5679191,7.34505462 22.6566586,8.1563728 C21.7766342,8.94020952 22.3372177,11.4779373 21.2364583,12.3872864 C20.135699,13.2962252 17.0999689,13.2921235 16.4006973,12.1510279 C15.6485326,10.9237963 16.0433566,9.90780284 16.0433566,9.90780284 C16.0433566,9.90780284 17.8346414,9.51814042 19.3189797,10.2543973 C20.7670842,10.9721965 21.6625184,8.96071807 21.3784784,7.77163243 C21.1277568,6.72282526 20.1032135,5.30404387 18.841276,5.5197938",id:"Fill-36",fill:"#3B3E4D"}),o.createElement("path",{d:"M20.961183,18.9681961 C22.6955209,16.6950306 27.7604342,17.1340365 26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219 L2.02895649,31.9626816 L15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961",id:"Fill-43",fill:"#F37878"}),o.createElement("path",{d:"M15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961 M26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219",id:"Fill-43",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),o.createElement("g",{id:"Microscope",transform:"translate(235.569 289.818)"},o.createElement("path",{d:"M18.7214141,98.1589757 L27.5103085,98.1589757 C32.7568134,105.752299 41.5416826,110.73039 51.4934723,110.73039 C67.5630006,110.73039 80.5899271,97.7506293 80.5899271,81.7392826 C80.5899271,74.4458025 77.8868661,67.7813704 73.4244562,62.6862814 L73.4244562,51.5460728 C85.3038994,58.0661856 93.3524515,70.661726 93.3524515,85.1303003 C93.3524515,106.291867 76.1352753,123.446706 54.8968121,123.446706 C38.2493548,123.446706 24.0725672,112.906811 18.7214141,98.1589757 Z",id:"Combined-Shape",fill:"#FFF"}),o.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"48.756",y:"115.255",width:"11.832",height:"20.933"}),o.createElement("g",{id:"Combined-Shape-2",transform:"translate(13 48)"},o.createElement("mask",{id:"mask-7",fill:"#fff"},o.createElement("use",{xlinkHref:"#path-6"})),o.createElement("use",{id:"Combined-Shape",fill:"url(#linearGradient-5)",xlinkHref:"#path-6"}),o.createElement("circle",{id:"Oval",fill:"#8FABF4",mask:"url(#mask-7)",cx:"59",cy:"7",r:"14"})),o.createElement("path",{d:"M68.9407352,60.0450769 L68.9407352,48.815669 C80.7802671,55.3357818 88.8017785,67.9313222 88.8017785,82.3998965 C88.8017785,103.561463 71.6424468,120.716303 50.4753383,120.716303 M15.0808757,97.1240807 L15.0808757,97.1240807 M25.4898376,97.1240807 C30.5355849,105.663304 39.8363985,111.391004 50.4753383,111.391004 C66.4908779,111.391004 79.474038,98.4112431 79.474038,82.3998965",id:"Combined-Shape",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M0.518722035,89.7717262 L35.103837,89.7717262",id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M0.518722035,93.4122646 L35.103837,93.4122646",id:"Rectangle",stroke:"#E4E6F2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("polyline",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",points:"35.9670574 138.00886 68.1689333 138.00886 77.7675693 138.00886 83.3409709 138.00886 83.3409709 144.379802 74.3616017 144.379802 47.7331274 144.379802 30.0840224 144.379802 23.2720871 144.379802"}),o.createElement("g",{id:"Group-2",transform:"rotate(-45 94.818 5.34)"},o.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",y:"5.922",width:"96.041",height:"7.106"}),o.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"87.741",y:"2.369",width:"8.3",height:"14.212"}),o.createElement("path",{d:"M53.3483652,22.3447006 C53.1368783,27.7177952 48.7090794,32.0089156 43.2778645,32.0089156 C37.8466496,32.0089156 33.4188507,27.7177952 33.2073637,22.3447006 L15.0426441,22.3447006 C13.9380746,22.3447006 13.0426441,21.4492701 13.0426441,20.3447006 L13.0426441,2 C13.0426441,0.8954305 13.9380746,-1.84720821e-12 15.0426441,-1.84741111e-12 L70.1467549,-1.84741111e-12 C71.2513244,-1.8436898e-12 72.1467549,0.8954305 72.1467549,2 L72.1467549,20.3447006 C72.1467549,21.4492701 71.2513244,22.3447006 70.1467549,22.3447006 L53.3483652,22.3447006 Z",id:"Combined-Shape",fill:"#FFF"}),o.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"10.312",width:"64.565",height:"18.704",rx:"2"}),o.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"url(#linearGradient-8)",strokeLinecap:"round",strokeLinejoin:"round",x:"13.043",width:"59.285",height:"18.949"}),o.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"15.592",y:"2.547",width:"54.185",height:"4.517",rx:"1"}),o.createElement("ellipse",{id:"Oval",fill:"#FFF",cx:"43.278",cy:"19.541",rx:"10.078",ry:"10.067"}),o.createElement("path",{d:"M52.6436093,23.2665564 C53.1034261,22.1142813 53.3562713,20.8571999 53.3562713,19.5411324 C53.3562713,13.9814784 48.8440149,9.47448842 43.2778645,9.47448842 C37.7117141,9.47448842 33.1994577,13.9814784 33.1994577,19.5411324 C33.1994577,25.1007863 37.7117141,29.6077763 43.2778645,29.6077763 L43.2778645,29.6077763",id:"Oval",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(-110 43.278 19.541)"})),o.createElement("path",{d:"M56.4920001,122.536572 L56.4920001,134.368322",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M48.3007887,120.812477 L48.3007887,134.758379",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}))))))))}(oe||(oe={}));const re=JSON.parse('{"gY":"_7e885823-left-stepWrapper","Fb":"_947ef538-left-stepTitle","h_":"_dadbbd97-left-description","o$":"_20938e5f-left-step1Illustration","cD":"_055c4b43-left-step2Path","xn":"_be605ed9-left-step2PathLi","iv":"_7f477ef7-left-step2PathLi1","d$":"_9366a7fb-left-step2PathLi2","kN":"_7245e371-left-step2PathLi3","oS":"_dad19443-left-step2LiDescription","kb":"_4f20674f-left-left","pG":"_3fc431f3-left-right","r$":"_005abe14-left-dots","Gg":"_e4c84840-left-dotIndex","WV":"_22e3980a-left-pathFrom1To2","q$":"_33c22502-left-pathFrom2To3","a3":"_6cb7a849-left-moreInformation","P0":"_643fd868-left-moreInformationIcon","C$":"_30908097-left-nav","oi":"_cfe7aceb-left-navButton _96c39aa6-left-base","uV":"_48c1a0b1-left-delimiter","Gv":"_723680a7-left-backButton _cfe7aceb-left-navButton _96c39aa6-left-base","HZ":"_2f101e66-left-backButtonText","a_":"_d0d07473-left-terms","Yk":"_332eb453-left-termsTitle","uw":"_e89a24f8-left-termsSubTitle","_e":"_30bf9256-left-termsList","yq":"_38d99dfc-left-termListItem"}'),ie=()=>{const e=o.useContext(B.S.Context).proofitOrderModal.promo.step2;return o.createElement(o.Fragment,null,o.createElement(Y.Typography,{nodeType:"h3",styleType:Y.Typography.Type.H1,className:re.Fb},e.title),o.createElement("ul",{className:re.cD},o.createElement("li",(0,V.Ly)(re.xn,re.iv),o.createElement(se,{index:1}),o.createElement(Y.Typography.Base,{className:re.oS},e.li1),o.createElement("div",{className:re.WV},o.createElement(oe.PathFrom1To2,null))),o.createElement("li",(0,V.Ly)(re.xn,re.d$),o.createElement(se,{index:2,position:re.pG}),o.createElement(Y.Typography.Base,{className:re.oS},e.li2),o.createElement("div",{className:re.q$},o.createElement(oe.PathFrom2To3,null))),o.createElement("li",(0,V.Ly)(re.xn,re.kN),o.createElement(se,{index:3}),o.createElement(Y.Typography.Base,{className:re.oS},e.li3)),o.createElement("li",(0,V.Ly)(re.xn,re.a3),o.createElement(Y.Typography.Base,{className:re.oS},e.moreInformation(),o.createElement(T.In.OuterLink,{className:re.P0})))))},se=({index:e,position:t})=>o.createElement("div",(0,V.Ly)(re.r$,Boolean(t)?t:re.kb),o.createElement(Y.Typography.Base,{className:re.Gg},e),o.createElement(oe.Dots,null)),le=()=>{const e=o.useContext(B.S.Context).proofitOrderModal.promo.step1,t=o.useContext(z.aF.TitleIdContext);return o.createElement(o.Fragment,null,o.createElement(Y.Typography,{nodeType:"h2",styleType:Y.Typography.Type.H1,id:t,className:re.Fb},e.title),o.createElement(Y.Typography.Base,{className:re.h_},e.description),o.createElement("div",{className:re.o$},o.createElement(oe.Illustration,null)))};var ce=n(50993),de=n(20408);const pe=()=>{const e=o.useContext(B.S.Context).proofitOrderModal.promo.step5,t=o.useContext(de._.Context);return o.createElement("section",{className:re.a_},o.createElement(Y.Typography.H4,{className:re.Yk},e.title),o.createElement(Y.Typography.Small,null,o.createElement("p",{className:re.uw},e.credits,o.createElement(ce.w,{href:t.termsOfService},e.termsOfService),e.andFollowingTerms)),o.createElement(Y.Typography.SmallLight,null,o.createElement("ul",{className:re._e},o.createElement("li",{className:re.yq},e.term1),o.createElement("li",{className:re.yq},e.term2),o.createElement("li",{className:re.yq},e.term3),o.createElement("li",{className:re.yq},e.term4))))};var me=n(17171),ue=n(80074),he=n(82293),ge=n(90875),fe=n(24290),Ce=n(35198),Ee=n(41425),_e=n(10486),ve=n(60280),ye=n(42543),Me=n(19772),be=n(38886),we=n(13110),Se=n(38908),ke=n(35426);const Le=JSON.parse('{"DD":"_4c8c473e-user-inputs-title","VA":"_7237d3f2-user-inputs-subtitle","Cz":"_e7053ff8-user-inputs-userInputsWrapper","b7":"_87b6cf14-user-inputs-userInputWrapper","$r":"_2e8f5675-user-inputs-userInputWrapperSparse","zP":"_b10c3a47-user-inputs-userInputContainer","OS":"_49d9efc5-user-inputs-userInputTitle","Ad":"_90c19e3e-user-inputs-newBadge","YL":"_7fd62e09-user-inputs-tooltip","uQ":"_140ea7b6-user-inputs-noteContainer","tb":"_5a1a59e6-user-inputs-noteTextarea","dT":"_935d7644-user-inputs-noteCounter","Wm":"_d57a371d-user-inputs-dropdown","OY":"_f4cc3f7f-user-inputs-dropdownButton","es":"_de145be4-user-inputs-dropdownList","b1":"_d8edb710-user-inputs-dropdownOptionsContainer","VM":"_0ec93a54-user-inputs-dropdownOption","vI":"_9588337f-user-inputs-dropdownSearchContainer","_S":"_340b7012-user-inputs-dropdownSearch","Pj":"_983a02b6-user-inputs-dropdownSearchIcon","zR":"_df36906d-user-inputs-dropdownSearchClear","IT":"_fba511c5-user-inputs-dropdownSearchNoMatches","QD":"_89ae4e06-user-inputs-dialectDropdown","Zf":"_818fe205-user-inputs-splitButton","Yy":"_9b9882bd-user-inputs-splitButtonOption","Di":"_badd48cb-user-inputs-languageDropdownOption","fr":"_50070dc3-user-inputs-iconArrow","wG":"_ec2264cc-user-inputs-loader"}'),xe=()=>o.createElement("span",{"aria-hidden":!0,className:Le.fr},"▼"),Ne=()=>o.useContext(B.S.Context).proofitOrderModal.promo.step4,Fe=({title:e,id:t,tooltip:n})=>o.createElement(Y.Typography,{id:t,nodeType:"label",styleType:Y.Typography.Type.Base,className:Le.OS},e,Boolean(n)&&o.createElement(J.m_,{title:o.createElement("p",{className:Le.YL},n),align:"topCenter"},o.createElement("span",{"aria-describedby":n},o.createElement(T.In.QuestionMark,null)))),Te=(e,t,n)=>(0,_.pipe)(t,k.fold((()=>({labelTitle:e.choose,active:!1,iconSelected:e=>{}})),(e=>({labelTitle:n(e),active:!0,iconSelected:t=>t===e?o.createElement(T.In.DocumentSettings.Selected,null):void 0})))),De=({name:e,selected:t,items:n,ariaDescribedBy:a,onSelect:r,selectedLabel:i=_.identity})=>{const s=Ne(),{labelTitle:l,active:c,iconSelected:d}=Te(s,t,i);return o.createElement(Ee.m,{name:`proofit-user-inputs-dropdown-${e}`,id:e,showDelay:0,label:o.createElement(Be,{ariaDescribedBy:a,active:c,name:e},l),theme:{dropdownList:Le.es},activeDescendantId:k.toUndefined(t)},o.createElement(Oe,{name:e,items:n,iconSelected:d,onSelect:(0,_.flow)(k.some,r)}))},Be=({name:e,children:t,active:n,ariaDescribedBy:a})=>o.createElement(K.$n.White,{active:n,name:`proofit-user-inputs-dropdown-button-${e}`,className:Le.Wm,"aria-describedby":a,tag:fe.f.div},o.createElement("span",{className:Le.OY},t),o.createElement(xe,null)),Pe=({name:e,selected:t,items:n,ariaDescribedBy:a,onSelect:r,selectedLabel:i=_.identity,extra:s})=>{const l=o.useRef(new ye.B7),c=Ne(),{labelTitle:d,active:p,iconSelected:m}=Te(c,t,i);return o.createElement(Ee.m,{name:`proofit-user-inputs-dropdown-${e}`,id:e,showDelay:0,dontCloseOnClickInside:!0,forceHide:l.current,label:o.createElement(Be,{ariaDescribedBy:a,active:p,name:e},d),theme:{dropdownList:Le.es},activeDescendantId:k.toUndefined(t)},o.createElement(Ie,{name:e,items:n,extra:s,iconSelected:m,onSelect:e=>(l.current.next(),r(k.some(e)))}))},Ie=e=>{const t=ue.s.create(""),n=o.useContext(ke.k.Context);return o.createElement(o.Fragment,null,o.createElement(Ae,{value:t,placeholder:n.search}),o.createElement(Ee.m.Delimiter,null),o.createElement(v.F.div,{className:Le.b1},t.view((t=>(0,_.pipe)(e.items,be.pb((e=>e.value.toLowerCase().includes(t.toLowerCase()))),we.ci,k.fold((()=>o.createElement(Y.Typography.Base,{key:"empty",className:Le.IT},n.noMatches)),(t=>o.createElement(o.Fragment,{key:"items"},t.map((({value:t,content:n})=>o.createElement(Ue,(0,me._)((0,H._)({},e),{key:t,value:t,content:n})))))))))),e.extra&&o.createElement(o.Fragment,null,o.createElement(Ee.m.Delimiter,null),o.createElement(Ue,(0,H._)({},e,e.extra)))))},Ae=e=>o.createElement("div",{className:Le.vI},o.createElement(T.In.SearchQuestion,{className:Le.Pj}),o.createElement(_e.pd,{className:Le._S,value:e.value,placeholder:e.placeholder,autofocus:!0}),o.createElement(K.$n.Tertiary,{name:"clearSearch",className:Le.zR,onClick:()=>e.value.set("")},o.createElement(T.In.Close,null))),Oe=e=>o.createElement("div",{className:Le.b1},e.items.map((({value:t,content:n})=>o.createElement(Ue,(0,me._)((0,H._)({},e),{key:t,value:t,content:n}))))),Ue=({name:e,value:t,content:n,iconSelected:a,onSelect:r})=>o.createElement(K.$n.Flat,{id:t,name:`proofit-user-inputs-dropdown-${e}-item-${Se.PT(t)}`,className:Le.VM,tag:fe.f.div,onClick:()=>r(t)},o.createElement(Y.Typography.Base,null,n),a(t)),We=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const a=Ne(),r=Object.values(he.KJ.PrimaryLanguage).filter((e=>e!==he.KJ.PrimaryLanguage.Other)).map((e=>({value:e,content:o.createElement(Re,null,e)})));return o.createElement("div",{className:n?Le.b7:Le.$r},o.createElement("div",{className:Le.zP},o.createElement(Fe,{id:"native-language-title",title:a.primaryLanguage}),o.createElement(Pe,{name:"language",ariaDescribedBy:"native-language-title",selected:e,items:r,extra:{value:he.KJ.PrimaryLanguage.Other,content:o.createElement(Re,null,o.useContext(ke.k.Context).primaryLanguageNotListed)},onSelect:t})))},Re=e=>o.createElement("span",{className:Le.Di},e.children),$e=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const a=Ne(),r=e=>o.createElement("span",null,(e=>{switch(e){case ge.c.Dialect.American:return o.createElement(T.In.DocumentSettings.USFlag,null);case ge.c.Dialect.British:return o.createElement(T.In.DocumentSettings.GBFlag,null);case ge.c.Dialect.Canadian:return o.createElement(T.In.DocumentSettings.CanadianFlag,null);case ge.c.Dialect.Australian:return o.createElement(T.In.DocumentSettings.AustralianFlag,null);default:return o.createElement(T.In.DocumentSettings.USFlag,null)}})(e),e," English");return o.createElement("div",{className:n?Le.b7:Le.$r},o.createElement("div",{className:Le.zP},o.createElement(Fe,{id:"dialect-title",title:a.dialect}),o.createElement("div",{className:Le.QD},o.createElement(De,{name:"dialect",ariaDescribedBy:"dialect-title",selected:e,selectedLabel:r,items:Object.keys(ge.c.Dialect).map((e=>({value:e,content:r(e)}))),onSelect:t}))))},He=({ariaDescribedBy:e,left:t,right:n,selected:a,onSelect:r})=>{const{leftSelected:i,rightSelected:s}=((e,t,n)=>k.fold((()=>({leftSelected:!1,rightSelected:!1})),(n=>({leftSelected:e===n,rightSelected:t===n})))(n))(t.value,n.value,a);return o.createElement(K.$n.Group,{sticky:!0,className:Le.Zf},o.createElement(K.$n.White,{name:`proofit-user-inputs-split-button-${t.value}`,key:t.value,active:i,className:Le.Yy,"aria-describedby":e,onClick:()=>r(i?k.none:k.some(t.value))},t.title),o.createElement(K.$n.White,{name:`proofit-user-inputs-split-button-${n.value}`,key:n.value,active:s,className:Le.Yy,"aria-describedby":e,onClick:()=>r(s?k.none:k.some(n.value))},n.title))},Ve=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const a=Ne();return o.createElement("div",{className:n?Le.b7:Le.$r},o.createElement("div",{className:Le.zP},o.createElement(Fe,{id:"quotation-type-title",title:a.quotationType,tooltip:a.quotationTypeTooltip}),o.createElement(He,{ariaDescribedBy:"quotation-type-title",left:{title:a.quotationTypeSingle,value:ge.c.QuotationType.Single},right:{title:a.quotationTypeDouble,value:ge.c.QuotationType.Double},selected:e,onSelect:t})))},ze=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const a=Ne();return o.createElement("div",{className:n?Le.b7:Le.$r},o.createElement("div",{className:Le.zP},o.createElement(Fe,{id:"space-type-title",title:a.spaceType,tooltip:a.spaceTypeTooltip}),o.createElement(He,{ariaDescribedBy:"space-type-title",left:{title:a.spaceTypeSingle,value:ge.c.SpaceType.Single},right:{title:a.spaceTypeDouble,value:ge.c.SpaceType.Double},selected:e,onSelect:t})))},qe=({note:e,onChange:t})=>{const n=Ne(),a=(0,_.pipe)(e,k.getOrElse((()=>"")));return o.createElement("div",{className:Le.b7},o.createElement("span",null,o.createElement(Ce.E.New,{className:Le.Ad}),o.createElement(Fe,{id:"note-to-editor",title:n.noteToEditor})),o.createElement("div",{className:Le.uQ},o.createElement("textarea",{placeholder:n.notePlaceholder,maxLength:200,value:a,onChange:t,className:Le.tb}),o.createElement("span",{className:Le.dT},a.length,"/",200," characters")))},je=({proofit:e})=>{Me.R.useSubscriptionTo(e.requestPlans);const t=Ne(),n=e.noteToEditor;return o.createElement(o.Fragment,null,o.createElement(Y.Typography.H2,{className:Le.DD},t.title),o.createElement(Y.Typography.H4,{className:Le.VA},t.subtitle),o.createElement(v.F.div,{className:Le.Cz},e.viewState.pipe(b.T(k.fold((()=>o.createElement(ve.y,{variation:"blue",className:Le.wG})),(({userInputs:{nativeLanguage:t,dialect:a,quotationType:r,spaceType:i,noteToEditor:s}})=>o.createElement(o.Fragment,null,o.createElement(We,{selected:t,onSelect:t=>e.selectUserInput("nativeLanguage",t),showNoteToEditor:n}),o.createElement($e,{selected:a,onSelect:t=>e.selectUserInput("dialect",t),showNoteToEditor:n}),o.createElement(Ve,{selected:r,onSelect:t=>e.selectUserInput("quotationType",t),showNoteToEditor:n}),o.createElement(ze,{selected:i,onSelect:t=>e.selectUserInput("spaceType",t),showNoteToEditor:n}),n&&o.createElement(qe,{note:s,onChange:t=>e.selectUserInput("noteToEditor",k.of(t.target.value))}))))))))};var Ze=n(96011),Ge=n(90405),Ke=n(65621),Ye=n(27199);const Je={position:"absolute",width:F.Ks.percent(100),background:Ye.Q1.CoreNeutral0,transition:`transform ${F.Ks.seconds(.5)}`,willChange:"transform"},Qe={},Xe={pointerEvents:"none"},et={pointerEvents:"none"},tt={position:"relative"},nt={},at=F.Ks.stylesheet({animation:[Je],stepShow:[Je,Qe],step1Hide:[Je,Xe,{transform:"translateX(-100%)"}],step2Hide:[Je,et,{transform:"translateX(100%)"}],step1:[Je,tt],step2:[Je,nt]}),ot=F.Ks.stylesheet({animation:[Je],stepShow:[Je,Qe],step1Hide:[Je,Xe,{transform:"translateY(-100%)"}],step2Hide:[Je,et,{transform:"translateY(100%)"}],step1:[Je,tt],step2:[Je,nt]});var rt;!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal"}(rt||(rt={}));class it extends Ze.kp{}const st=e=>{const{ref:t,onMount:n}=Me.R.useElWatcher();return Me.R.useSubscriptionTo(t.pipe(Ge.oE,Ke.J(),b.T((([e,t])=>{e.setAttribute("inert","true"),t.removeAttribute("inert")})))),o.createElement(it,{state:e.state,stateToClassMapper:t=>((t,n)=>void 0===t?{prev:{start:n.step1Hide,end:n.stepShow},next:{start:"",end:n.stepShow}}:t<e.state.get()?{prev:{start:n.stepShow,end:n.step1Hide},next:{start:n.step2Hide,end:n.stepShow}}:{prev:{start:n.stepShow,end:n.step2Hide},next:{start:n.step1Hide,end:n.stepShow}})(t,e.direction===rt.Vertical?ot:at)},(t=>Boolean(e.steps[t.state])?o.createElement(v.F.div,{key:"step"+(t.state+1),"data-step":t.state,mount:n,className:t.view,onTransitionEnd:e=>{"prev"===t.type&&"top"===e.propertyName&&t.done()}},e.steps[t.state]):(0,A.xb)(t.state)))},lt=({proofit:e})=>{const t=o.useContext(B.S.Context),{gnarSpec:n,pageId:a,docId:r}=o.useContext(h.Y.Context);return o.createElement(o.Fragment,null,o.createElement("div",{className:re.gY},o.createElement(v.F.Fragment,null,e.leftStep.view((n=>n>0&&o.createElement(K.$n,{name:"proofit-order-promo-to-step-1",className:re.Gv,onClick:()=>e.changeLeftStep(j.N$.Step1)},"←",o.createElement("span",{className:re.HZ},t.back))))),o.createElement(st,{state:e.leftStep,direction:rt.Horizontal,steps:[o.createElement(le,{key:"PromoStep1"}),o.createElement(ie,{key:"PromoStep2"}),o.createElement(ae,{key:"PromoStep3"}),o.createElement(je,{key:"PromoStep4",proofit:e}),o.createElement(pe,{key:"PromoStep5"})]})),o.createElement("div",{className:re.C$},o.createElement(K.$n,{name:"proofit-order-promo-to-step-2",className:re.oi,disabled:e.leftStep.view((e=>e===j.N$.Step2)),onClick:()=>{n.professionalProofreadingLearningButtonClick(r,a),e.changeLeftStep(j.N$.Step2)}},t.proofitOrderModal.promo.stepsNavigation.howItWorks),o.createElement("div",{className:re.uV}),o.createElement(K.$n,{name:"proofit-order-promo-to-step-3",className:re.oi,disabled:e.leftStep.view((e=>e===j.N$.Step3)),onClick:()=>{n.professionalProofreadingCompareOptionsButtonClick(r,a),e.changeLeftStep(j.N$.Step3)}},o.createElement(G.v,{variant:"success",label:"New",inline:!0}),t.proofitOrderModal.promo.stepsNavigation.compareOptions),o.createElement("div",{className:re.uV}),o.createElement(K.$n,{name:"proofit-order-promo-to-step-4",className:re.oi,disabled:e.leftStep.view((e=>e===j.N$.Step4)),onClick:()=>{n.professionalProofreadingProvideDetailsButtonClick(r,a),e.changeLeftStep(j.N$.Step4)}},t.proofitOrderModal.promo.stepsNavigation.provideDetails)))};var ct,dt=n(51707),pt=n(7886),mt=n(38548),ut=n(36094),ht=n(80189);!function(e){e.SlowPlane=()=>o.createElement("svg",{"aria-hidden":!0,width:"48",height:"46",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"M2.99 37.27l31.972 8.01a3 3 0 0 0 3.63-2.144l8.463-32.043a3 3 0 0 0-4.433-3.345L2.187 31.78a3 3 0 0 0 .803 5.49z",fill:"#C5F7EB"}),o.createElement("path",{d:"M3.314 26.08l9.196 2.235a1 1 0 0 1 .634.479l4.621 8.153a1 1 0 0 0 1.83-.21l1.56-5.308a1 1 0 0 1 1.21-.686l11.6 3.007a1 1 0 0 0 1.218-.712l8.12-30.675a1 1 0 0 0-1.477-1.116l-38.786 23a1 1 0 0 0 .274 1.833z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),o.createElement("path",{d:"M12.929 28.5L42.25 1.803a.5.5 0 0 1 .733.675L21.429 30.5l-1.838 6.247a1 1 0 0 1-1.827.214L12.929 28.5z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}))),e.MiddlePlane=()=>o.createElement("svg",{"aria-hidden":!0,width:"59",height:"34",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"M6.865 15.93a13.498 13.498 0 0 1-.19-2.153c0-7.49 6.153-13.563 13.74-13.563 5.966 0 11.028 3.762 12.928 9.005 1.41-.773 3.01-1.255 4.74-1.255 4.822 0 8.813 3.444 9.638 7.97 3.473.802 6.065 3.86 6.065 7.53 0 4.28-3.516 7.75-7.852 7.75H8.638c-4.337 0-7.852-3.47-7.852-7.75 0-3.674 2.599-6.737 6.079-7.534z",fill:"#CDDBFF",fillRule:"nonzero"}),o.createElement("path",{d:"M45.341 21.214l1.34 8.994a1 1 0 0 1-.518 1.03l-3.053 1.626a1 1 0 0 1-1.181-.18l-8.143-8.239",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M40.616 10.086A20.928 20.928 0 0 1 52.99 8.548l3.235.584c1.036.187 1.72 1.158 1.528 2.168-.06.314-.2.607-.41.852l-1.49 1.745a18.883 18.883 0 0 1-8.918 5.794l-22.534 6.786a38.953 38.953 0 0 1-9.334 1.607l-2.64.129c-.686.033-1.271-.483-1.306-1.153a1.19 1.19 0 0 1 .13-.604l.707-1.378a.91.91 0 0 0-.06-.932l-3.952-4.6a.916.916 0 0 1 .265-1.29l1.607-1.045a.975.975 0 0 1 .956-.058l7.632 2.79c.26.128-2.172 1.516-1.908 1.396l24.118-11.253z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M29.343 18.964L15.347 10.47a1 1 0 0 1 .077-1.752l2.732-1.342a1 1 0 0 1 .68-.074l22.776 5.595a1 1 0 0 1 .107 1.91l-11.511 4.242a1 1 0 0 1-.865-.084z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M52.786 9.214a17.195 17.195 0 0 1-3.796 1.927l-.204.073",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),e.QuickPlane=()=>o.createElement("svg",{"aria-hidden":!0,width:"42",height:"55",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"M21 29c6.684 4.124 8.984 13.275 5.136 20.439a14.624 14.624 0 0 1-4.209 4.88L21 55l-.927-.681c-6.362-4.673-7.986-13.989-3.626-20.808A14.392 14.392 0 0 1 21 29zM35 27c4.785 3.027 6.422 9.726 3.654 14.961a10.64 10.64 0 0 1-2.989 3.538L35 46l-.665-.5c-4.553-3.43-5.704-10.248-2.569-15.23A10.421 10.421 0 0 1 35 27zM7 27c4.785 3.027 6.422 9.726 3.654 14.961A10.64 10.64 0 0 1 7.665 45.5L7 46l-.665-.5C1.782 42.07.631 35.251 3.766 30.27A10.421 10.421 0 0 1 7 27z",fill:"#FFC2C2"}),o.createElement("path",{d:"M2.337 27.657l16-14.28a4 4 0 0 1 5.326 0l16 14.28A4 4 0 0 1 41 30.641V35H1v-4.359a4 4 0 0 1 1.337-2.984z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}),o.createElement("path",{d:"M15.963 4.877L18 2.5a3.951 3.951 0 0 1 6 0l2.037 2.377A4 4 0 0 1 27 7.48V39H15V7.48a4 4 0 0 1 .963-2.603z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),o.createElement("path",{d:"M18 7.414l.249-.366 1.02-1.5c.975-1.435 2.487-1.435 3.462 0l1.027 1.51.242.356",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M21 21v15",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round"})))}(ct||(ct={}));const gt=JSON.parse('{"Qs":"_edb7f18c-order-form-content","HX":"_44d7e1c1-order-form-proofitDetailsWrapper","Ko":"_f8bf8f60-order-form-tierTitleContainer","TJ":"_8603babe-order-form-tierTitle","tX":"_e4b39f11-order-form-helpMeChooseBtn _e293693a-order-form-base","BG":"_1d83a5a5-order-form-helpMeChoose","tr":"_11c9811d-order-form-plansTitle","id":"_841b1701-order-form-plansContainer","KS":"_2157cb75-order-form-planTitle","to":"_1a8f2294-order-form-priceWrapper","q9":"_623056b0-order-form-price","mM":"_5096fbed-order-form-priceFree","JP":"_39c11f94-order-form-termsContainer","tz":"_c76a0025-order-form-agreeTermsCheckbox","_q":"_a2390065-order-form-termsLinkBtn","WE":"_b8099a1b-order-form-termsLink","W2":"_ca1dbb49-order-form-recommended _b7bc782f-order-form-label","vx":"_34b786a3-order-form-planWrapper","JI":"_535ad9cd-order-form-planWrapperDisabled _34b786a3-order-form-planWrapper","vw":"_f0dbb926-order-form-plans","ff":"_21288cbf-order-form-planContainer","SZ":"_b0ad93e7-order-form-freeCreditsRemained","gO":"_ebc669c7-order-form-selectPlanButton","Up":"_f94a9008-order-form-selectFreePlanButton","fM":"_5f602e5f-order-form-paymentWarning","wG":"_e6f9779d-order-form-loader","zc":"_09ae44a3-order-form-iconContainer","cO":"_05e6a201-order-form-planLoading","kX":"_02ed7d78-order-form-placeOrderButton","b":"_4e11aeb5-order-form-closeButton","z":"_2ddfe54a-order-form-summary","Qf":"_e211c4ad-order-form-summaryButtons","pI":"_c79a0270-order-form-claritySplitButton","yU":"_dfce1f68-order-form-claritySplitButtonBase","Vl":"_1aec4fc1-order-form-claritySplitButtonClarity"}'),ft=({proofit:e})=>{Me.R.useSubscriptionTo(e.requestPlans);const t=o.useContext(B.S.Context),n=o.useContext(de._.Context),{gnarSpec:a,pageId:r,docId:i}=o.useContext(h.Y.Context),{isInternalUser:s}=e;return o.createElement("div",{className:gt.Qs},o.createElement(v.F.div,{className:gt.HX},e.viewStateAndSubscription.pipe(b.T((([l,c])=>(0,_.pipe)(l,k.fold((()=>o.createElement(ve.y,{variation:"blue",className:gt.wG})),(l=>{var d;const p=c.value,m=Boolean(s||(null===(d=p)||void 0===d?void 0:d.paymentMethod)),u=l.selectedPlans.some((e=>e.details.enabled&&(0,_.pipe)(e.details.credits,k.fold((()=>!1),(e=>e.canBeUsed&&e.balance>0)))));return ht.Yi.isSendingState(l.proofitState)?o.createElement(ve.y,{variation:"blue",className:gt.wG}):o.createElement(o.Fragment,null,o.createElement("div",{className:gt.Ko},o.createElement(Y.Typography,{nodeType:"h3",id:"tier-title",styleType:Y.Typography.Type.Base,className:gt.TJ},t.proofitOrderModal.order.tierTitle),o.createElement(K.$n,{name:"helpMeChoose",className:gt.tX,disabled:e.leftStep.view((e=>e===j.N$.Step3)),onClick:()=>{a.professionalProofreadingHelpMeChooseButtonClick(i,r),e.changeLeftStep(j.N$.Step3)}},o.createElement("span",{className:gt.BG},t.proofitOrderModal.order.compareOptions))),o.createElement(K.$n.Group,{sticky:!0,className:gt.pI},o.createElement(K.$n.White,{name:"proofit-order-split-button-tier-base",key:"proofit-order-split-button-tier-base",active:l.selectedPlanTier===ge.c.PlanTier.Base,className:gt.yU,"aria-describedby":"tier-title",onClick:()=>{a.professionalProofreadingSelectPlanTierButtonClick(i,r,ge.c.PlanTier.Base),e.selectPlanTier(ge.c.PlanTier.Base)}},t.proofitOrderModal.order.tierBase),o.createElement(K.$n.White,{name:"proofit-order-split-button-tier-clarity",key:"proofit-order-split-button-tier-clarity",active:l.selectedPlanTier===ge.c.PlanTier.Clarity,className:gt.Vl,"aria-describedby":"tier-title",onClick:()=>{a.professionalProofreadingSelectPlanTierButtonClick(i,r,ge.c.PlanTier.Clarity),e.selectPlanTier(ge.c.PlanTier.Clarity)}},t.proofitOrderModal.order.tierClarity)),o.createElement(Y.Typography.Base,{className:gt.tr},t.proofitOrderModal.order.title),o.createElement(v.F.div,{className:gt.id,"data-name":"proofit-order"},l.selectedPlans.map(((t,n)=>o.createElement(Ct,{key:`${t.details.tier}-${t.details.turnaround}`,proofitState:l.proofitState,freeProofit:u,hasBillingInfo:m,plan:t,allPlans:l.selectedPlans,words:l.words,index:n,onPlanSelect:()=>(a.professionalProofreadingSelectButtonClick(i,r,ge.c.getPlanName(t.details.turnaround),t.details.tier),e.changeLeftStep(j.N$.Step4),t.select()),onPlanUnselect:()=>(a.professionalProofreadingUnselectButtonClick(i,r,ge.c.getPlanName(t.details.turnaround),t.details.tier),t.unselect())})))),o.createElement("div",{className:gt.z},(0,_.pipe)(l.selectedPlan,k.fold((()=>o.createElement(Y.Typography.Lawyer,{className:gt.fM},m||!u?t.proofitOrderModal.order.warningConfirm():o.createElement(ce.w,{href:n.account.subscription},t.proofitOrderModal.order.paymentWarnings.updateBilling))),(n=>{const{canBeUsed:s,balance:c,maxWordsPerCredit:d}=(0,_.pipe)(n.details.credits,k.fold((()=>({canBeUsed:!1,balance:0,maxWordsPerCredit:0})),(e=>e)));return Boolean(u&&s&&c>0&&d>=l.words)?o.createElement("div",{className:gt.JP},o.createElement(pt.S,{className:gt.tz,checked:e.freeProofitTermsAgreed,name:"agreeTerms"},o.createElement(Y.Typography.Lawyer,null,t.proofitOrderModal.order.iAgree)),o.createElement(K.$n,{name:"termsAndConditions",className:gt._q,disabled:e.leftStep.view((e=>e===j.N$.Step5)),onClick:()=>{a.professionalProofreadingTermsAndConditionsButtonClick(i,r),e.changeLeftStep(j.N$.Step5)}},o.createElement(Y.Typography.Lawyer,{className:gt.WE},t.proofitOrderModal.order.terms))):o.createElement(Et,{key:"PaymentWarning"+n.details.turnaround,price:n.details.price,subscription:p})}))),o.createElement("div",{className:gt.Qf},(0,_.pipe)(l.selectedPlan,k.fold((()=>o.createElement(K.$n.Primary,{key:"place-order",name:"place-order",className:gt.kX,title:t.proofitOrderModal.order.chooseOptions,disabled:!0},t.proofitOrderModal.order.placeOrder)),(n=>{const{canBeUsed:s,balance:c,maxWordsPerCredit:d}=(0,_.pipe)(n.details.credits,k.fold((()=>({canBeUsed:!1,balance:0,maxWordsPerCredit:0})),(e=>e))),p=Boolean(u&&s&&c>0&&d>=l.words),m=e.freeProofitTermsAgreed.view((e=>p&&!e));return o.createElement(K.$n.Primary,{key:"place-order",name:"place-order",className:gt.kX,onClick:dt.qO((()=>(a.professionalProofreadingPlaceOrderButtonClick(i,r,ge.c.getPlanName(n.details.turnaround),n.details.tier,e.requirePaymentCheck.get(),p),!p&&e.requirePaymentCheck.get()?e.changeRightStep(j._S.Step2):n.placeOrder(k.none,p)))),active:!0,disabled:ht.Yi.isSendingState(l.proofitState)||m},p?t.proofitOrderModal.order.orderForFree:t.proofitOrderModal.order.placeOrder,(0,_.pipe)(l.proofitState,k.fold((()=>o.createElement(ve.y,{className:gt.cO,variation:"white",size:18})),(()=>null))))}))),o.createElement(K.$n.Ghost,{key:"close",name:"close",className:gt.b,onClick:()=>{a.professionalProofreadingCloseButtonClick(i,r),e.closeModal()}},t.actions.close))))}))))))))},Ct=({plan:e,allPlans:t,words:n,proofitState:a,freeProofit:r,hasBillingInfo:i,index:s,onPlanSelect:l,onPlanUnselect:c})=>{const d=e.details,{label:p}=d,m=o.useContext(B.S.Context),{canBeUsed:u,balance:h,maxWordsPerCredit:g}=(0,_.pipe)(d.credits,k.fold((()=>({canBeUsed:!1,balance:0,maxWordsPerCredit:0})),(e=>e))),f=Boolean(r&&u)&&h>0&&g>=n,C=e.details.enabled&&(!r||f||i),E=`$${Se.$g(d.price)}`,y=`$${d.perWord}`,M=ut.wd(e.active);return o.createElement(v.F.div,{className:C?gt.vx:gt.JI,"data-name":p.replace(" ","")},o.createElement("div",{className:gt.zc},(e=>{const t=[o.createElement(ct.SlowPlane,null),o.createElement(ct.MiddlePlane,null),o.createElement(ct.QuickPlane,null)];return Boolean(t[e])?t[e]:(0,A.xb)(e)})(s)),o.createElement(v.F.div,{className:gt.vw},o.createElement(v.F.div,{className:gt.ff},o.createElement("div",null,e.isRecommended(t)&&o.createElement(Y.Typography.Button,{className:gt.W2},m.proofitOrderModal.order.recommended),o.createElement(Y.Typography.Base,{className:gt.KS},p),o.createElement("div",{className:gt.to},o.createElement(Y.Typography.Base,{className:f?gt.mM:gt.q9,"data-name":"turnaround-price"},E),o.createElement(Y.Typography.Small,{className:f?gt.mM:""},o.createElement("span",{"data-name":"price-per-word"},y)," ",m.proofitOrderModal.order.perWord))),o.createElement(K.$n.Animated,(0,me._)((0,H._)({name:e.active.view((e=>e?"selected-order":"select-order")),styleType:M(Y.Typography.Type.Button,Y.Typography.Type.Base)},(0,V.Ly)(f?gt.Up:gt.gO,M(mt.zB,mt.ON))),{"aria-label":M(m.proofitOrderModal.order.planIsSelected(p,E,y),m.proofitOrderModal.order.selectPlan(p,E,y)),"aria-live":M("assertive","off"),onClick:()=>e.active.get()?c():l(),active:e.active,disabled:!C||ht.Yi.isSendingState(a)}),M(m.statuses.selected,C?f?m.actions.free:m.actions.select:m.statuses.unavailable))),o.createElement(Y.Typography.SmallLight,{className:gt.SZ},f?m.proofitOrderModal.order.freeReviewsLeft(h):"")))},Et=({price:e,subscription:t})=>{const n=o.useContext(de._.Context),a=o.useContext(B.S.Context).proofitOrderModal.order.paymentWarnings;switch(t.paymentMethod){case"payPal":return o.createElement(Y.Typography.Small,{className:gt.fM},a.payPal(e));case"creditCard":return t.creditCard||s.Bx.Logging.getLogger("ProofitView").warn("Missing credit card"),o.createElement(Y.Typography.Small,{className:gt.fM},a.creditCard(e)," ",o.createElement(ce.w,{href:n.account.subscription},a.updateBilling));default:return s.Bx.Logging.getLogger("ProofitView").warn("Unknown payment method: "+t.paymentMethod),o.createElement(o.Fragment,null)}},_t=JSON.parse('{"g":"_ca02fd3b-right-stepWrapper"}'),vt=dt.RZ((()=>Promise.all([n.e(5637),n.e(2383)]).then(n.bind(n,1919)))),yt=({proofit:e})=>{const t=o.createElement("div",{className:_t.g},o.createElement(ft,{key:"OrderStep1",proofit:e})),n=o.createElement("div",{className:_t.g},o.createElement(o.Suspense,{fallback:o.createElement(ve.y,{variation:"blue",className:N.A.spinner})},o.createElement(vt,{key:"OrderStep2",proofit:e})));return o.createElement(st,{state:e.rightStep,direction:rt.Vertical,steps:[t,n]})},Mt=JSON.parse('{"iE":"_3995e1ae-order-wrapper","nM":"_87694a02-order-row","nz":"_d5b7da38-order-col","uF":"_88bf7f72-order-leftCol _d5b7da38-order-col"}'),bt=({proofit:e})=>o.createElement("div",{className:Mt.iE},o.createElement("div",{className:Mt.nM},o.createElement("div",{className:Mt.uF},o.createElement(lt,{proofit:e})),o.createElement("div",{className:Mt.nz},o.createElement(yt,{proofit:e})))),wt=JSON.parse('{"proofitModal":"_d5199d01-proofit-modals-proofitModal","proofitModalBody":"_2909cbe7-proofit-modals-proofitModalBody","proofitOrderModal":"_9aa2aeac-proofit-modals-proofitOrderModal","proofitOrderSuccess":"_94dba52c-proofit-modals-proofitOrderSuccess","proofitExitSurvey":"_7c2079aa-proofit-modals-proofitExitSurvey"}');class St extends o.Component{render(){const{proofit:e}=this.props;return o.createElement(h.Y.Context.Consumer,null,(t=>o.createElement(v.F.Fragment,null,e.isVisibleModal.view((n=>n?o.createElement(z.hJ,{positionType:"fixed",visible:e.isVisibleModal,animate:!0,smallResolution:"resize",key:"overlay"},o.createElement(z.aF,{close:()=>{t.gnarSpec.professionalProofreadingCloseButtonClick(t.docId,t.pageId),e.closeModal()},className:wt.proofitModal,focusTrapMode:"dynamic",key:"modal"},o.createElement(v.F.div,(0,H._)({name:"modalBody"},(0,V.Ly)(wt.proofitModalBody,e.modal.view(k.fold((()=>""),(e=>this._modalClassName(e.type,wt)))))),e.modal.view((0,_.flow)(k.map((t=>o.createElement(kt,{key:t.type,proofit:e,modal:t}))),q.Xd))))):null)))))}componentWillUnmount(){this.props.proofit.clearModals()}constructor(...e){super(...e),(0,$._)(this,"_modalClassName",((e,t)=>{switch(e){case j.V.Order:return t.proofitOrderModal;case j.V.Success:return t.proofitOrderSuccess;default:return(0,A.xb)(e)}}))}}const kt=({proofit:e,modal:t})=>{switch(o.useEffect((()=>()=>{e.changeLeftStep(j.N$.Step1),e.freeProofitTermsAgreed.modify((()=>!1))}),[e]),t.type){case j.V.Order:return o.createElement(bt,{proofit:e,key:"order"});case j.V.Success:return o.createElement(Z.p,{payload:t.payload,close:()=>e.closeModal(),key:"success"});default:return(0,A.xb)(t)}};var Lt=n(24376),xt=n(65873),Nt=n(94109),Ft=n(92723),Tt=n(4885),Dt=n(72747),Bt=n(57014);const Pt=F.Ks.keyframes({from:{transform:"scale(0)"},to:{transform:"scale(6)"}}),It={margin:`${F.Ks.rem(1.7)} 0 ${F.Ks.rem(1.15)}`,$nest:{"@media print":{marginTop:0}}},At=(0,me._)((0,H._)({},(0,Bt.sg)()),{padding:F.Ks.rem(0),width:F.Ks.percent(95),outline:"none",border:"none",background:"transparent",lineHeight:"normal",$nest:{"@media print":{display:"none"},"&::placeholder":{color:Tt.aD}}}),Ot={position:"relative",zIndex:Dt.yg,paddingTop:F.Ks.rem(4)},Ut={color:Tt.aD},Wt={display:"block",minHeight:F.Ks.px(100)},Rt={position:"absolute",top:0,left:0,zIndex:Dt.kW,overflow:"hidden",width:F.Ks.percent(100),height:F.Ks.percent(100),background:Ye.Q1.CoreNeutral0},$t={position:"absolute",top:F.Ks.percent(32),left:F.Ks.percent(38),margin:"0 auto",width:F.Ks.px(300),height:F.Ks.px(300),border:`20px solid ${Ye.Q1.CoreNeutral1}`,borderRadius:F.Ks.percent(50),pointerEvents:"none"},Ht={animation:`${Pt} 4s infinite linear`},Vt={animation:`${Pt} 3s infinite linear`},zt={animation:`${Pt} 2s infinite linear`},qt=F.Ks.stylesheet({textWrapper:[Ot],text:[Ut],titleWrap:[Ut,It],title:[Ut,At],content:[Ut,Wt],animation:[Rt],circle:[$t],one:[$t,Ht],two:[$t,Vt],three:[$t,zt]}),jt=e=>{const t=o.useContext(B.S.Context);return o.createElement(Nt.t,{documentUpload:e.documentUpload,multiple:!1,canDrop:()=>!0,render:(n,a)=>o.createElement(v.F.Fragment,null,ue.s.combine(n,a,((n,a)=>(n||a)&&o.createElement(g.v0,{className:qt.animation,onMount:()=>e.modalManager.hideAll()},o.createElement("div",{className:qt.one}),o.createElement("div",{className:qt.two}),o.createElement("div",{className:qt.three}),o.createElement(Ft.j,{position:"center",className:qt.textWrapper},o.createElement("div",{className:qt.titleWrap},o.createElement(xt.H1,{className:qt.title},t.uploadDropZone)),o.createElement(xt.tu,{className:qt.content},t.uploadDropZoneTypes))))))})};var Zt=n(21476),Gt=n(95168),Kt=n(61198),Yt=n(2061),Jt=n(78339),Qt=n(19711),Xt=n(6987),en=n(62723),tn=n(5692),nn=n(54988),an=n(68533),on=n(35749),rn=n(62822),sn=n(14342),ln=n(21216),cn=n(68101),dn=n(76720),pn=n(78018),mn=n(31373),un=n(67804),hn=n(9654),gn=n(93959);class fn{init(){var e;const t=this._documentLoaderState.view("text").pipe(Jt.p(k.isNone),Qt.$(),Jt.p((()=>(0,_.pipe)(this._appRouter.locationState,k.exists((t=>!(null===(e=t.showDocumentUploadedNotification)||void 0===e||!e)))))),Xt.n((()=>this._showUploadNotification(this._documentModel.rtfMode)))),n=this._userAccount.features.denali.gbBillingMigrationNotification.pipe(Ge.Kc(this._showGBBillingMigrationNotification)),a=this._userAccount.settings.dunningSettings.pipe(en.z(this._userAccount.settings.dunningStatus,this._userAccount.subscription.state.pipe(Jt.p(tn.j.isOk))),Qt.$(),Jt.p((([e,t,n])=>this._shouldShowDunningModal(e,t,n.value))),Xt.n((()=>this._showDunningModal())));return this._loadModal().pipe(Gt.M((()=>this._loaderViewModel.init())),Xt.n(k.fold((()=>nn.w),(e=>this._modalManager.showPreloaded(e)))),an.h(on.x(t,this._showChangePlanNotification()),this._showPremiumUngatingRenewalNotification(),n,this._showSafariExtActivationNotification(),a))}_loadModal(){return this._shouldShowTour()?this._modalManager.preload(hn.uF.tour).pipe(b.T(k.some)):this._shouldShowWhatsNew()?this._modalManager.preload(hn.uF.news).pipe(b.T(k.some)):this._shouldShowSetGoals()?this._modalManager.preload(Kt.ug.setGoals("setGoalsLoader")).pipe(b.T(k.some),Gt.M((()=>this._loaderViewModel.init())),Xt.n((e=>this._loaderViewModel.loaderState.pipe(Qt.$(q.gR(gn.H.Checking)),rn.u(e)))),sn.c(50),b.T((e=>this._cheetahUsedDuringSession.get()?k.none:e))):ln.of(k.none)}_shouldShowTour(){return k.isSome(this._userAccount.features.denali.tour)}_shouldShowWhatsNew(){return this._userAccount.features.denali.showcaseNewFeaturesOnStartup}_shouldShowSetGoals(){const e=this._userAccount.features.denali.removeWelcomeTour&&this._documentModel.isDemoDocument;return this._documentModel.isInitialRevision&&this._userAccount.settings.enableSetGoalsLoader.get()&&!e}_shouldShowDunningModal(e,t,n){const a=(0,_.pipe)(t,k.map((e=>"IN_PROGRESS"===e)),k.getOrElse((()=>Boolean(n.isDunning))));return O.DY.isPremium(this._userAccount.features.denaliUserType)&&(0,mn.m)(e)&&!this._shouldShowTour()&&a}_showDunningModal(){return this._telemetry.gnarSpec.inProductDunningNotificationShow(this._telemetry.pageId),this._modalManager.show(hn.uF.dunning)}_showUploadNotification(e){const t=e===pn.l1.FormattingMode.compatibility?"denaliFormattingCompatibility":"denaliDocumentUploaded";return this._notificationsManager.enqueue(t).pipe(Jt.p((e=>"navigateToDocuments"===e)),Gt.M((()=>this._appRouter.navigateAndReload(d.Lz.routes.documents.href()))))}_handleGBBillingMigrationNotificationAction(e){switch(e){case"shown":return this._telemetry.gnarSpec.gbBillingMigrationNotificationShow(this._telemetry.pageId);case"closedByUser":return this._telemetry.gnarSpec.gbBillingMigrationCloseButtonClick(this._telemetry.pageId),this._userAccount.settings.dismissGBBillingMigrationNotification();case"cta":return this._telemetry.gnarSpec.gbBillingMigrationUpdateBillingButtonClick(this._telemetry.pageId),this._environment.actions.openPopup(new dn.U(this._config.account.adminSubscription,new URLSearchParams({popup:"add_billing_info"}))),Promise.resolve();default:return(0,A.xb)(e)}}_showChangePlanNotification(){return this._userAccount.features.denali.changePlanHook.pipe(Ge.Kc((()=>this._userAccount.subscription.state)),Jt.p(tn.j.isOk),Qt.$(),b.T((({value:e})=>un.RG.create(e,this._userAccount.subscription))),Xt.n(S.fold((e=>(s.Bx.Logging.getLogger("change.plan.hook").warn(e),nn.w)),(e=>e.shouldShowOffer?this._notificationsManager.enqueue("changePlanCta",{model:e}).pipe(cn.v((0,I.AU)((e=>Yt.H.isCloseAction(e)||"changePlan"===e)),!0),Xt.n((t=>this._handleChangePlanNotificationAction(t,e)))):nn.w))))}_handleChangePlanNotificationAction(e,t){switch(e){case"shown":return this._telemetry.gnarSpec.changePlanNotificationShow(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.changePlanHookSeen();case"closedByUser":return this._telemetry.gnarSpec.changePlanNotificationCloseButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.dismissChangePlanHook();case"changePlan":return this._telemetry.gnarSpec.changePlanNotificationSwitchPlanButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._modalManager.show(hn.uF.changePlan(t)).pipe(Jt.p((e=>"closed"===e)),Qt.$(),Xt.n((()=>this._userAccount.settings.dismissChangePlanHook()))).toPromise().catch((e=>s.Bx.Logging.getLogger("change.plan.modal").error(e)));default:return Promise.resolve()}}_showSafariExtActivationNotification(){return this._userAccount.features.denali.safariExtActivationWeb?this._notificationsManager.enqueue("safariExtActivation",{}).pipe(Gt.M((e=>{switch(e){case"shown":return this._telemetry.gnarSpec.safariExtensionActivationNotificationShow(this._telemetry.pageId),void this._userAccount.settings.markSafariExtNotificationSeen();case"activate":return this._telemetry.gnarSpec.safariExtensionActivationCtaButtonClick(this._telemetry.pageId),void this._environment.actions.openUrl(new dn.U("grammarly.extension://enable"));case"closedByUser":return void this._telemetry.gnarSpec.safariExtensionActivationCloseButtonClick(this._telemetry.pageId);case"timeout":case"closedByMaxNotificationOnScreen":case"closedByNotificationWithMorePriority":return;default:(0,A.xb)(e)}}))):nn.w}_showPremiumUngatingRenewalNotification(){return this._userAccount.features.denali.premiumUngatingRenewalNotification.pipe(Ge.Kc((e=>(this._telemetry.gnarSpec.premiumUngatingRenewalNotificationShow(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationSeen(),this._notificationsManager.enqueue("premiumUngatingRenewal",{trialEndDate:e}).pipe(Qt.$((e=>Yt.H.isCloseAction(e)?(this._telemetry.gnarSpec.premiumUngatingRenewalDismissButtonClick(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationDismissed(),!0):"ctaManageSubscription"===e&&(this._telemetry.gnarSpec.premiumUngatingRenewalCtaButtonClick(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationDismissed(),this._environment.actions.openPopup(new dn.U(this._config.account.adminSubscription)),!0))))))))}constructor(e,t,n,a,o,r,i,s,l,c,d){(0,$._)(this,"_modalManager",void 0),(0,$._)(this,"_userAccount",void 0),(0,$._)(this,"_documentModel",void 0),(0,$._)(this,"_loaderViewModel",void 0),(0,$._)(this,"_documentLoaderState",void 0),(0,$._)(this,"_appRouter",void 0),(0,$._)(this,"_notificationsManager",void 0),(0,$._)(this,"_config",void 0),(0,$._)(this,"_telemetry",void 0),(0,$._)(this,"_environment",void 0),(0,$._)(this,"_cheetahUsedDuringSession",void 0),(0,$._)(this,"_showGBBillingMigrationNotification",void 0),this._modalManager=e,this._userAccount=t,this._documentModel=n,this._loaderViewModel=a,this._documentLoaderState=o,this._appRouter=r,this._notificationsManager=i,this._config=s,this._telemetry=l,this._environment=c,this._cheetahUsedDuringSession=d,this._showGBBillingMigrationNotification=({expiryDate:e})=>this._notificationsManager.enqueue("gbBillingMigration",{expiryDate:e}).pipe(cn.v((0,I.AU)((e=>Yt.H.isCloseAction(e)||"cta"===e)),!0),Xt.n((e=>this._handleGBBillingMigrationNotificationAction(e))))}}const Cn=({userAccount:e,documentModel:t,documentLoader:n,notificationsManager:a,modalManager:r,cheetahUsedDuringSession:i,loaderViewModel:s})=>{const l=o.useContext(d.Lz.Context),c=o.useContext(de._.Context),p=o.useContext(h.Y.Context),m=o.useContext(Zt.f.Context),u=ue.s.create(!1),g=new fn(r,e,t,s,n.state,l,a,c,p,m,u);return Me.R.useSubscriptionTo(g.init()),Me.R.useEffectOnWillUnmount((()=>s.dispose())),Me.R.useSubscriptionTo((0,_.pipe)(i,Gt.M((e=>u.set(e))))),o.createElement(o.Fragment,null)};var En;!function(e){var t=e.factory={Dropzone:(e,t)=>o.createElement(jt,{documentUpload:t.uploadModel,modalManager:e}),StartupManager:(e,t,n,a,r,i)=>o.createElement(Cn,{loaderViewModel:i,cheetahUsedDuringSession:r,userAccount:e.userAccount,subscription:e.userAccount.subscription,documentModel:t,documentLoader:a,notificationsManager:e.notificationsManager,modalManager:n}),ProofitButton:(e,t,n)=>{const a=t.state.view("isSidebarOpen"),r=o.useContext(B.S.Context),{gnarSpec:i,pageId:s}=o.useContext(h.Y.Context),l=e=>"disabled"===e.kind&&(e.reason===P.M7.EmptyDocument||e.reason===P.M7.DemoDoc);return o.createElement(R.C,{name:"proofread",isDisabled:t.documentActions.view((e=>e.proofit)).view(l),tooltipAlignment:"left",tooltip:t.documentActions.view((e=>e.proofit)).view((e=>l(e)?r.documentActions.proofit.tooltip.disabled(e.reason):r.documentActions.proofit.tooltip.available)),title:o.createElement(v.F.div,{className:a.view((0,I.Sw)("",W.R))},r.sidebar.sendToProofreaders),"aria-label":r.sidebar.sendToProofreadersLabel,onClick:()=>{n.proofit.get()===O.Fh.enabled?e.showOrderModal():t.popover.set(k.some(P.Qh.ProofitHook)),i.professionalProofreadingButtonClick(s,a.get()?"wiritingAssistant":"writingMode")},className:a.view((0,I.Sw)(F.Ks.joinClasses([W.U5,W.Eb]),W.ot))},o.createElement(T.In.ProofreadOutcomes,{className:a.view((0,I.Sw)(F.Ks.joinClasses([W._B,W.j_]),W.gE))}))},ProofitModals:(e,t)=>o.createElement(t,null,o.createElement(St,{proofit:e})),PlagiarismCounter:(e,t)=>o.createElement(D.Q.PlagiarismOutcomesMeter,{key:"plagiarism-counter",className:F.Ks.joinClasses([W.mw,W.j_]),isChecking:e.checkingState.view((e=>"checking"===e)),count:t}),BlockUnsavedChanges:(e,t)=>o.createElement(U.TX,{actions:e.actions,documentModel:t}),DocumentToolbar:(e,t,n)=>{switch(e.features.denali.documentToolbar){case O.Wk.documentSettings:return o.createElement(Lt.E,{documentSettingsViewModel:t,isSidebarOpen:n.state.view("isSidebarOpen"),isDemoMode:e.features.demoMode,showOnboardingTourA11yUpdates:e.features.denali.showOnboardingTourA11yUpdates});case O.Wk.none:return null;default:return(0,A.xb)(e.features.denali.documentToolbar)}}};e.bindAll=e=>({Dropzone:()=>t.Dropzone(e.denaliViewModels.modalManager,e.denaliViewModels.uploadViewModel),StartupManager:()=>t.StartupManager(e.appModel,e.engine.sessionModel,e.denaliViewModels.modalManager,e.denaliViewModels.documentLoader,e.denaliViewModels.cheetahViewModel.usedDuringSession,e.denaliViewModels.loaderViewModel),ProofitModals:n=>t.ProofitModals(e.denaliViewModels.proofitViewModel,n),ProofitButton:()=>t.ProofitButton(e.denaliViewModels.proofitViewModel,e.denaliViewModels.navigationViewModel,e.appModel.userAccount.features),PlagiarismCounter:n=>t.PlagiarismCounter(e.engine.plagiarismModel,n),BlockUnsavedChanges:()=>t.BlockUnsavedChanges(e.environment,e.engine.sessionModel),DocumentToolbar:()=>t.DocumentToolbar(e.appModel.userAccount,e.denaliViewModels.documentSettingsViewModel.viewModel,e.denaliViewModels.navigationViewModel)})}(En||(En={}));var _n=n(52680),vn=n(70932),yn=n(53782),Mn=n(8811),bn=n(22409),wn=n(83531),Sn=n(65011),kn=n(30720),Ln=n(54463),xn=n(92422),Nn=n(46013),Fn=n(99854),Tn=n(77338),Dn=n(21138),Bn=n(11555),Pn=n(80837),In=n(21662),An=n(11298),On=n(24946),Un=n(68594),Wn=n(36644),Rn=n(98719),$n=n(58251),Hn=n(58508),Vn=n(76035),zn=n(12704),qn=n(91242),jn=n(94855),Zn=n(77396);function Gn(e,t,n,a,o,r=s.Bx.Logging.getLogger("BackendManagedStorage.CAPIMessageHandler")){const i=[],l={onCannotSaveEntry:e=>r.warn("storage:save not allowed",{key:e.request.key}),onStorageGetError:e=>r.warn("storage:get error "+String(e.error),e.error,{keyPrefixes:e.request.keyPrefixes}),onStorageSaveError:e=>r.warn("storage:save error "+String(e.error),e.error,{key:e.request.key}),onStorageClearError:e=>r.warn("storage:clear error "+String(e.error),e.error,{keyPrefixes:e.request.keyPrefixes}),onStorageGetSuccess:e=>{i.push(e),e.entriesDropped>0&&r.warn("storage:get data dropped",{entriesDropped:e.entriesDropped,keyPrefixes:e.request.keyPrefixes})},onStorageSaveSuccess:e=>i.push(e),onStorageClearSuccess:e=>r.info("storage:clear success",{keyPrefixes:e.request.keyPrefixes})},c=new Vn.T(n,(n=>(0,_.pipe)(function(e,t,a){return(0,_.pipe)(Zn.NQ(e.enqueueExternalCommand((()=>n)),(e=>!0===qn.Xb.isNotConnectedError(e)?k.some(function(e){return(0,_.pipe)(e,Jt.p(Ln.om.is("session_started")),On.s(1),b.T(_.constVoid),ut.FM)}(t)):k.none),1e4),(0,qn.L5)([Hn.Oh(2),Hn.Ed(200)],(0,I.Ub)(qn.zN.isDroppedError,qn.MU.isTimeoutError)))}(t,e),jn.Tj((()=>{})))),a,o,l);return t.registerExternalMessageHandler((e=>c.handleMessage(e)?zn.Q.Result.STOP_HANDLING:zn.Q.Result.CONTINUE_HANDLING)),{dispose:()=>function(){const e=i.filter((e=>"storage:get"===e.request.action)),t=i.filter((e=>"storage:save"===e.request.action));e.length>0&&r.info("storage:get success aggregate",{eventsCount:e.length,averageEntryCount:e.reduce(((e,t)=>e+t.entriesCount),0)/e.length,averageEntriesDropped:e.reduce(((e,t)=>e+t.entriesDropped),0)/e.length}),t.length>0&&r.info("storage:save success aggregate",{eventsCount:t.length,averageBytesCount:t.reduce(((e,t)=>e+t.bytesCount),0)/t.length}),i.splice(0,i.length)}()}}var Kn=n(57279),Yn=n(17931),Jn=n(29145),Qn=n(46238),Xn=n(52138),ea=n(41949),ta=n(58347),na=n(46669);class aa{static createDoxEventsCollector(){return{dox:new ye.B7,acceptedMessage:new ye.B7,droppedMessages:new ye.B7}}dispose(){this._subs.forEach((e=>e.unsubscribe()))}_updateSettings(e){this._docModel.saved.next(!1),this._settingsHolder=e,this._updateMetadata({settings:e})}_updateTitle(e){this._docModel.saved.next(!1),this._title=e,this._updateMetadata({title:e})}_updateMetadata(e){(0,_.pipe)(this._doxInit.remoteDocument.updateMetadata(e),jn.qE((e=>{qn.Xb.isNotConnectedError(e.error)?this._log.warn("Could not update document metadata",e.error):this._log.error("Error on update document metadata",e.error)})),Zn.hq).catch(I.Yi)}_groupMessages(e){return e.reduce(((e,t)=>("change"===t.kind?(void 0===e[t.kind]&&(e[t.kind]={count:0,amount:0,length:0}),e[t.kind].count++,e[t.kind].amount+=t.change.amount,e[t.kind].length+=t.change.length):(void 0===e[t.kind]&&(e[t.kind]=0),e[t.kind]++),e)),{})}constructor(e,t,n,a){(0,$._)(this,"_docModel",void 0),(0,$._)(this,"_doxInit",void 0),(0,$._)(this,"_doxEvents",void 0),(0,$._)(this,"_log",void 0),(0,$._)(this,"_subs",void 0),(0,$._)(this,"_settingsHolder",void 0),(0,$._)(this,"_title",void 0),this._docModel=e,this._doxInit=t,this._doxEvents=n,this._log=s.Bx.Logging.getLogger("DoxSyncManager"),this._log.debug("Got initial text, len: "+t.initialDelta.length),this._settingsHolder=t.meta.settings,this._title=t.meta.title;const o=(0,_.pipe)(n.dox,Jt.p((e=>"metadata_change"===e.kind)),b.T((e=>e)));this._subs=[a.subscribe((()=>this._docModel.saved.next(!1))),this._docModel.title.pipe(Jt.p((e=>e!==this._title)),Gt.M((e=>this._docModel.saved.next(!1))),ta.B(1e3)).subscribe((e=>{this._updateTitle(Boolean(e)?e:"")})),this._docModel.context.pipe(Un.i(1)).subscribe((e=>{const t=this._settingsHolder.changeContext(e);this._updateSettings(t)})),this._docModel.extraSettings.changes.subscribe((e=>{const t=this._settingsHolder.changeExtra(e);this._updateSettings(t)})),this._docModel.checkingState.pipe(en.z(this._docModel.counters),Jt.p((([e,t])=>"idle"===e&&ea.fn.isValid(t))),b.T((([e,t])=>t)),Un.i(1),ta.B(1e3),na.F()).subscribe((e=>{this._updateMetadata({errors:e.advanced+e.critical})})),o.subscribe((({documentMetadata:e})=>{this._settingsHolder=e.settings,(0,_.pipe)(e.proofit,k.fold(I.Yi,(e=>this._docModel.proofit.updateState(e)))),this._title=e.title,this._docModel.title.set(e.title)})),this._doxEvents.acceptedMessage.subscribe((()=>{this._docModel.saved.next(this._doxInit.remoteDocument.inSync)})),this._doxEvents.droppedMessages.subscribe((({messages:e,reason:t})=>{const n=this._groupMessages(e);Boolean(n.change)&&this._log.warn("got dropped messages",{counts:n,reason:t}),this._docModel.saved.next(this._doxInit.remoteDocument.inSync)}))]}}var oa=n(14e3),ra=n(12495),ia=n(52444);class sa extends ia.A{static create(e,t,n,a,o,r,i,l,c,d,p,m,u,h,g,f){const C=new Pn.y.Keeper;r.setState({type:"wsDox",state:{type:"online"}});const E=c.features.denali.supportUkraineCardAppearanceLimit,v="Style/Sensitivity/SupportUkraine/WarLanguage",y=e=>"alert_received"===e.kind&&e.alert.pname===v||"message_received"===e.kind&&"alert"===e.message.action&&e.message.pname===v,M=new ye.B7,w=M.pipe(In.E(c.settings.supportUkraineCardAppearanceCount),Jt.p((([e,t])=>!y(e)||t<E)),b.T(Sn.Es),Gt.M((e=>{"alert_received"===e.kind&&y(e)&&c.settings.supportUkraineCardSeen()})),An.u());C.push(M.pipe(Jt.p((e=>"session_inbound"===e.kind)),On.s(1)).subscribe((()=>(0,Wn.TE)("capiSessionInbound"))),ia.A._createCAPIEventsForAlertsCount(w).subscribe((e=>ee.warn("CAPI finish didn't happen within timeout",{suggestionsReceived:e,timeout:12e4}))),ia.A._trackSessionEnd(M,h,a).subscribe());const S=pn.l1.getFormattingMode(e.meta.originalFilename,e.meta.createdAt,c.features.denali),L=sa._createCAPIWS({userAccount:c,accessToken:u,createWSInstance:g,capiEvents:M,wsConnectivity:r,environment:d,context:(0,_.pipe)(e.meta.settings.context,k.getOrElse((()=>kn.T0.unset))),docid:l,rtfMode:S,isDemoDoc:e.meta.isDemoDocument,config:n,backendManagedStorageManager:f}),x=new Fn.F(w,L.client,i,L),N=new Tn._(w,x);if(c.features.denali.backendManagedStorageEnabled&&void 0!==f){const{instance:e,setupErrors:t,canSaveToStorage:n}=f.getStorageInstanceForUser(c.profile.get().email);C.push(t.subscribe((e=>s.Bx.Logging.getLogger("BackendManagedStorage.Setup").warn(String(e),e)))),C.push(e),C.push(Gn(w,N,e,n,(()=>L.maxWsMessageSize)))}const F=sa._getDocumentModel(l,e,i,N.requestDocStats,o,c.features,S),T=new aa(F,e,t,m.outgoingChanges),{observableCapi:D,latestCAPIMessageByActionName:B,capiWatcher:P,capi:A}=sa._createCAPI(w,N,F,c,a,e.initialDelta.length);let O=k.none;const U=()=>(0,_.pipe)(O,k.fold((()=>e.initialDelta.delta),(e=>e()))),{alertManager:W,alertsService:R,alertsReader:$,alertsRepository:H,positionManager:V,altManager:z}=(0,Nn.h)(U,_.identity,D,w,F.counters);(0,I.hJ)("alertManager",W);const{changesSources:j,dedSync:Z,formattingModel:G,synonymsModel:K}=sa._createModels(V,U,D,i,F,W),Y=new ra.L(F,w,D),J=c.features.denali.toneDetector?k.some(oa.A.create(w,D,s.Bx.Logging.getLogger("EmotionsModel"))):k.none;C.push(Bn.d.init(Z,w,Dn.vr.ignoreTEResult(D),Dn.vr.ignoreResult(Dn.vr.pushDeleteThenInsert(V)),z,j).subscribe(sa._getChangesDispatcherFailHandler()));const{cacheManager:Q,mutedAlertsModel:X}=sa._createMutedCategoriesWithCache(w,D,W,R,n,c.features),ee=s.Bx.Logging.getLogger("StEngine");try{(0,_.pipe)(Q.getMutedCategories(),q.Mi((e=>{ee.debug("Loading muted alerts categories from cache..."),X.loadCachedMutedCategories(e)})))}catch(e){ee.warn("Cannot read alerts OR muted categories cache",e)}O=k.some((()=>i.getContents().delta));const{sduiFactory:te,sduiInlineFactory:ne}=sa._createSDUI(M,W,H),ae=Kn.r.create({checkingDomain:W,alertsRepository:H,alertsService:R,observableCapi:D,latestCAPIMessageByActionName:B,telemetry:a,environment:d,platformEnvironment:p,ded:i,positionManager:V}),oe=new sa(ae,D,B,e.remoteDocument,F,V,z,W,R,$,H,K,Y,G,J,X,te,ne,(()=>C.dispose()),L,e.remoteConnection,P,T,x);return C.push(M.pipe(Jt.p(Ln.om.is("connect")),Un.i(1),Gt.M(oe.resetSDUI("CAPI reconnect"))).subscribe()),(0,I.hJ)("engine",oe),(0,I.hJ)("text",(()=>{A.getText().then((e=>{const t=i.getText();t!==e?console.log("Text DIFF",{capiText:e,capiLen:e.length,dedText:t,dedTextLen:t.length}):console.log("Texts are the same, len: "+t.length)})).catch((e=>{throw e}))})),oe}shutdown(){var e=this,t=()=>super.shutdown;return(0,wn._)((function*(){yield t().call(e),yield e._doxConnection.close(void 0,"StEngine shutdown"),e._doxSyncManager&&e._doxSyncManager.dispose(),e.plagiarismModel.dispose()}))()}static _getDocumentModel(e,t,n,a,o,r,i){return new Yn.F(e,t,n,a,o,r.enableTrackingOnDownload.get(),i,(e=>(0,_.pipe)(r.proofitTest,k.fold((()=>new ht.y5(t.remoteDocument,e)),(e=>new ht.YJ.Mock(e,r.proofitLastJob))))))}constructor(e,t,n,a,o,r,i,s,l,c,d,p,m,u,h,g,f,C,E,_,v,y,M,b){super(e,t,n,o,r,i,s,l,c,d,p,u,h,g,f,C,E,_,y,b),(0,$._)(this,"_remoteDocument",void 0),(0,$._)(this,"sessionModel",void 0),(0,$._)(this,"plagiarismModel",void 0),(0,$._)(this,"_doxConnection",void 0),(0,$._)(this,"_doxSyncManager",void 0),this._remoteDocument=a,this.sessionModel=o,this.plagiarismModel=m,this._doxConnection=v,this._doxSyncManager=M}}(0,$._)(sa,"getDoxInit",((e,t,n,a,o)=>{const r=xn.b.Queue.create({acceptedMsgHandler:e=>a.acceptedMessage.next(e),droppedMsgsHandler:e=>a.droppedMessages.next(e)});return t.openDocumentById(e,function(e,t,n){const a=s.Bx.Logging.getLogger("DoxConnectivity");return{changeHandler:(t,n)=>e.dox.next({kind:"change",doc:t,change:n}),connectHandler:()=>{a.debug("WS DOX connectivity online"),t.setState({type:"wsDox",state:{type:"online"}})},disconnectHandler:(o=(0,wn._)((function*(e,n,o){a.debug("Disconnected from dox",{reason:e,reconnectStatus:n,reconnectResult:o});const r=e=>{S.isLeft(o)?a.debug(`WS DOX connectivity error: ${e}`):a.debug(`WS DOX connectivity error, reconnecting: ${e}`),t.setState({type:"wsDox",state:{type:e}})};switch(e.code){case Xn.C.WsCodes.NOT_FOUND:r("documentNotFoundError");break;case Xn.C.WsCodes.UNAUTHORIZED:r("unauthorized");break;case Xn.C.WsCodes.BLOCKED_BY_CLIENT:r("blockedByClient");break;case Xn.C.WsCodes.CLIENT_MALFUNCTION:case Xn.C.WsCodes.PRECONDITION_FAILED:r("unknownConnectionError");break;default:n.iterNumber>=2?[0,Xn.C.WsCodes.UNKNOWN_WS_ERROR,Xn.C.WsCodes.CLOSED_ABNORMALLY].indexOf(e.code)>=0?r("unknownConnectionError"):r("serverError"):S.isLeft(o)&&r("serverError")}})),function(e,t,n){return o.apply(this,arguments)}),metadataChangeHandler:(t,n)=>e.dox.next({kind:"metadata_change",doc:t,documentMetadata:n}),updateTokenHandler:(0,_.pipe)(n,k.fromNullable,k.map((e=>(0,_.pipe)("function"==typeof e?e:Qn.of(e),jn.Gg,jn.Tj(k.fromNullable)))),k.getOrElse((()=>jn.pG(k.none))))};var o}(a,n,o),r,5e3)}));const la=(e,t,n,a,o,r)=>{const i=aa.createDoxEventsCollector();return ut.RF((()=>Promise.all([t.backendManagedStorageManager.catch((()=>k.none)),sa.getDoxInit(e,t.apis.doxWS,t.wsConnectivity,i,t.fingerprints.accessToken)]).then((([s,l])=>{const c={id:e,rtfMode:Rn.jj.l1.getFormattingMode(l.meta.originalFilename,l.meta.createdAt,t.userAccount.features.denali)},d=Jn.N.create(l,i.dox,t.userAccount.features),p=(0,$n.c)(t.userAccount,n,c,d);return[p,sa.create(l,i,o,t.telemetry,t.apis.dox,t.wsConnectivity,p,e,t.userAccount,n,a,d,t.fingerprints.accessToken,r,void 0,k.toUndefined(s))]})))).pipe(An.u())};var ca,da=n(15966),pa=n(72204),ma=n(63790),ua=n(36465),ha=n(3346);class ga{downloadOriginal(){this._subs.push(M.H(this._documentModel.downloadOriginal(this._documentModel.rtfMode===Rn.jj.l1.FormattingMode.on?k.some("docx"):k.none)).pipe(ha.W(this._handleDownloadError)).subscribe())}downloadProofread(){this._subs.push(M.H(this._documentModel.downloadProofread()).pipe(ha.W(this._handleDownloadError)).subscribe())}dispose(){this._subs.dispose()}constructor(e,t){(0,$._)(this,"_documentModel",void 0),(0,$._)(this,"_notificationsManager",void 0),(0,$._)(this,"_subs",void 0),(0,$._)(this,"_log",void 0),(0,$._)(this,"_handleDownloadError",void 0),this._documentModel=e,this._notificationsManager=t,this._subs=new Pn.y.Keeper,this._log=s.Bx.Logging.getLogger("downloadViewModel"),this._handleDownloadError=e=>(this._log.error("downloadDocument failed",e),e instanceof ua.h.UnauthorizedError?this._notificationsManager.enqueue("unauthorizedError"):e instanceof ua.h.DocumentNotFoundError?this._notificationsManager.enqueue("downloadDocumentNotFoundError"):e instanceof ua.h.TooManyRequestsError||e instanceof ua.h.ConnectionError?this._notificationsManager.enqueue("isTemporaryDownloadError"):this._notificationsManager.enqueue("error"))}}!function(e){e.Mock=class{constructor(){(0,$._)(this,"dispose",I.Yi),(0,$._)(this,"downloadOriginal",I.Yi),(0,$._)(this,"downloadProofread",I.Yi)}}}(ca||(ca={}));var fa=n(33373);class Ca extends ma.M{dispose(){super.dispose(),this.proofitViewModel.dispose(),this.downloadViewModel.dispose()}constructor(e,t,n,a,o,r,i,s,l,c,d,p,m,u,h,f,C,E){const _=new ga(e.sessionModel,d);super(e,t,n,a,o,r,i,s,l,d,p,m,u,f,C,(n=>a.has(g.OH.Flag.supportsDownloadPDF)?k.some(new pa.zL(e,C.profile,C.features,d,t.contentUpdated.pipe(w.Z(null),sn.c(0),b.T(t.getHTML)),(0,da.eu)(t.getContents),(()=>this.marksViewModel),(()=>this.navigationViewModel),n.view("lenses"),r)):k.none),h,k.some(_),k.some(c),(()=>E.logout())),(0,$._)(this,"uploadViewModel",void 0),(0,$._)(this,"logoutViewModel",void 0),(0,$._)(this,"proofitViewModel",void 0),(0,$._)(this,"downloadViewModel",void 0),this.uploadViewModel=c,this.logoutViewModel=E,this.downloadViewModel=_,this.proofitViewModel=new j.Md(C.subscription,e.sessionModel,t,C,d,this._router,u)}}var Ea=n(769),_a=n(60083),va=n(72613);function ya({environment:e,platformEnvironment:t,productMetricsClient:n}){const a=f.Z.create(),r=e.platform===g.OH.Platform.IPAD,F=s.Bx.Logging.getLogger("router"),T=(0,i.zR)(),D=new l.kI(F,T,window.localStorage,window.location,a.query),B=(0,p.Z)((0,C.W)(),D.query.get("config")),P=(0,g.W$)(e),I={pageId:"root",pageSessionId:h.Y.createPageSessionId()},A=((e,t,n,a,r,i,l)=>{const c=(0,x.h)(e,i,{pageId:"root",pageSessionId:h.Y.createPageSessionId()},n);return{new_document:c("editor",d.Lz.routes.new_document,(e=>()=>o.createElement(v.F.div,null,M.H(e.documentActions.createDocument()()).pipe(b.T((0,_.flow)(S.map((e=>e.id.toString())),S.fold((e=>(0,yn.M)(e)?(s.Bx.Logging.getLogger("routes").warn("Fail create new document: enterprize key unavailable",e),o.createElement(_n.J,null)):(s.Bx.Logging.getLogger("routes").fatal("Fail create new document",e),o.createElement(vn.l,null))),(e=>o.createElement(L.r,{destination:d.Lz.routes.denali_editor.href({docId:e})}))))),w.Z(o.createElement(bn.y,{className:N.A.spinner})))))),denali_editor:c("editor",d.Lz.routes.denali_editor,(e=>({docId:i})=>o.createElement(y.q.DefaultManager,null,o.createElement(h.Y.ContextProviderInherited,{pageId:"document",docId:i},o.createElement(y.q.Context.Consumer,null,(s=>o.createElement(h.Y.Context.Consumer,null,(c=>o.createElement(d.Lz.Context.Consumer,null,(d=>{const p=new _a.J(d,e.userAccount.features.denali),m=Mn.l.create(e.userAccount,e.notificationsManager),u=Ea.X.create((e=>t=>new Ca(t.engine,t.ded,t.appModel.upgradeHook,t.environment,t.platformEnvironment,t.telemetry,t.remSize,t.appModel.networkState,t.docId,new fa.M(t.appModel.apis.dox,t.router,t.appModel.notificationsManager,t.telemetry,t.environment,t.config),t.appModel.notificationsManager,t.documentLoader,t.textResources,t.config,t.router,t.appModel.experimentClient,t.appModel.userAccount,e))(m))({docId:i,appModel:e,environment:a,platformEnvironment:r,config:n,router:d,remSize:s,telemetry:c,textResources:t,documentLoader:p,engineDedStream:la(i,e,a,r,n,l)});return o.createElement(va.A,{appStream:u,selfUpdate:e.selfUpdate,docId:i,userAccount:e.userAccount,notificationsManager:e.notificationsManager,environment:a,documentLoader:p,logoutViewModel:k.some(m),slots:En.bindAll})}))))))))))}})(E.T.create({persistentApp:a,env:e,platformEnv:t,config:B,router:D,telemetryPageContext:I,productMetricsClient:n}),P,B,e,t,D,n);return(0,m.e)(r),o.createElement(c.j.Context.Provider,{value:T},o.createElement(c.a.Wrapper,{routesMap:A,renderer:({match:a},r)=>o.createElement(u.x,{pageName:"EditorCore",environment:e,platformEnvironment:t,productMetricsClient:n},o.createElement(d.Lz.Context.Provider,{value:D},r.component(a.params)))}))}const{environment:Ma,platformEnvironment:ba,productMetricsClient:wa}=(0,a.I)();r.render(o.createElement(ya,{environment:Ma,platformEnvironment:ba,productMetricsClient:wa}),document.getElementById("page"))},8811:(e,t,n)=>{n.d(t,{l:()=>a});var a,o=n(23988),r=n(84647),i=n(15491),s=n(12884),l=n(89769),c=n(68101),d=n(6987),p=n(68745),m=n(36094),u=n(82718),h=n(45232),g=n(54988),f=n(21216),C=n(28421);!function(e){e.create=(e,n,a=r.constVoid)=>{const o=new t(n,a);return{logout:()=>(0,r.pipe)(e.logout,o.handler).subscribe()}};class t{_errorState(e,t){return(0,r.pipe)(t,i.T((e=>(0,r.pipe)(s.Y(1e3),l.Z(-1),i.T((t=>e.status.previousDelay/1e3-(t+1))),c.v((e=>e>-1))))),d.n((t=>this._notificationsManager.enqueue("logoutError",{resetHandler:e,timeToRetry:t}))),i.T(r.constVoid))}constructor(e,t){(0,o._)(this,"_notificationsManager",void 0),(0,o._)(this,"_onFatal",void 0),(0,o._)(this,"handler",void 0),(0,o._)(this,"_fatalState",void 0),this._notificationsManager=e,this._onFatal=t,this.handler=e=>{const t=new p.t(m.q6),n=()=>t.next(m.q6);return(0,r.pipe)(t,u.K(e),h.M2("type"),h.YW({[C.ZU.InProgress]:()=>g.w,[C.ZU.Success]:()=>f.of(void 0),[C.ZU.Error]:e=>this._errorState(n,e),[C.ZU.Fatal]:this._fatalState}))},this._fatalState=()=>(this._onFatal(),this._notificationsManager.enqueue("logoutError",{resetHandler:r.constVoid,timeToRetry:f.of(-1)}).pipe(i.T(r.constVoid)))}}}(a||(a={}))}}]);