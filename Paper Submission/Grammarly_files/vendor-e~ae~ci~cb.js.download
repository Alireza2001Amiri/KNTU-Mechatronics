"use strict";(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[190],{19309:(e,t,n)=>{n.d(t,{$:()=>i,C:()=>r});var r="https://assets.grammarly.com/emoji/v1/",i="https://assets.grammarly.com/animations/v1/"},38832:(e,t,n)=>{n.d(t,{EF:()=>a,UA:()=>i,hI:()=>r});var r,i,a,o=n(19147),s=n(6922),l=n(23988),c=n(10334),u=n(17171),d=n(91817),p=n(56610),h=n(9899),f=n(38886),m=n(82094),g=n(84647),y=n(84906),v=n(99002),b=n(60575),w=n(28986),_=n(86562),C=n(65390),S=n(44869),k=n(58193),I=n(66202),A=n(55172),T=n(13110),E=n(23121),x=n(96719),R=n(88105),P=n(32454);!function(e){var t,n;!function(e){e.Important="important",e.Main="main",e.Optional="optional"}(t=e.Type||(e.Type={})),function(e){e.OptionalContext="optional_context"}(n=e.TypeExt||(e.TypeExt={}));var i=function(e){return"object"==typeof e&&null!==e},a=e.eqAttributes=m.nZ(S.ee((function(e,t){return i(e)&&i(t)?a.equals(e,t):S.w_.equals(e,t)}))),d=(e.eq=S.OW({type:S.w_,group:C.getEq(v.Eq),insert:v.Eq,delete:y.Eq,retain:y.Eq,attributes:a}),e.isInsert=function(e){return"insert"in e}),f=(e.isInsertString=function(e){return d(e)&&f(e.insert)},e.isInsertGap=function(e){return d(e)&&b(e.insert)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.isOptionalContextRetain=function(e){return"retain"in e&&r.isOptionalContextType(e.type)},function(e){return"string"==typeof e}),b=function(e){return"object"==typeof e&&null!==e&&"gap"in e};e.isMain=function(e){return e.type===r.Type.Main},e.isOptionalType=function(e){return e===r.Type.Optional},e.isOptionalContextType=function(e){return e===r.TypeExt.OptionalContext},e.isSignificant=function(e){switch(e.type){case t.Main:case t.Important:return!0;case t.Optional:return!1;default:return(0,_.xb)(e.type)}},e.fromRawAbsAlternative=function(e){if(a=e.ops[0],Boolean(a)&&"retain"in a&&Boolean(a.attributes)&&"optional_context"===a.attributes.type){var t=(0,p._)(e.ops),r=t[0],i=t.slice(1);return[{retain:r.retain,type:n.OptionalContext,group:C.none}].concat((0,h._)(i.map(T)))}return e.ops.map(T);var a};var k=e.length=w.R.Op.length,I=(e.anonymize=function(e){return d(e)?(0,u._)((0,c._)({},e),{insert:"string"==typeof e.insert?"<".concat(k(e),">"):"<embed>"}):e},function(){function e(t){(0,o._)(this,e),(0,l._)(this,"ops",void 0),(0,l._)(this,"index",void 0),(0,l._)(this,"offset",void 0),this.ops=t,this.index=0,this.offset=0}return(0,s._)(e,[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(e){Boolean(e)||(e=1/0);var n=this.ops[this.index];if(Boolean(n)){var i=n.type,a=this.offset,o=k(n);return e>=o-a?(e=o-a,this.index+=1,this.offset=0):this.offset+=e,r.isDelete(n)?{delete:e,type:i,group:n.group}:r.isRetain(n)?{retain:e,type:i,group:n.group,attributes:!r.isOptionalContextType(i)&&n.attributes}:r.isInsertString(n)?{insert:n.insert.substr(a,e),type:i,group:n.group,attributes:n.attributes}:n}return{retain:1/0,type:t.Optional,group:C.none,attributes:{}}}},{key:"peekLength",value:function(){return Boolean(this.ops[this.index])?k(this.ops[this.index])-this.offset:1/0}},{key:"peekType",value:function(){return Boolean(this.ops[this.index])?r.isDelete(this.ops[this.index])?"delete":r.isRetain(this.ops[this.index])?"retain":"insert":"retain"}}]),e}());e.Iterator=I;var A=(0,g.flow)(C.fromNullable,C.map(m.D("type")),C.map(m.D("group")),C.getOrElse((function(){return{}}))),T=function(e){var n,r=function(e){var n;if(null!=(null===(n=e)||void 0===n?void 0:n.type))switch(e.type){case"main":return t.Main;case"important":return t.Important;default:return(0,_.xb)(e.type)}return t.Optional}(e.attributes),i=(n=e.attributes,(0,g.pipe)(C.fromNullable(n),C.chain((function(e){return C.fromNullable(e.group)}))));return"insert"in e?{insert:e.insert,type:r,group:i,attributes:A(e.attributes)}:"delete"in e?{delete:e.delete,type:r,group:i}:{retain:e.retain,type:r,group:i,attributes:A(e.attributes)}}}(r||(r={})),function(e){var t=e.fromAlternative=function(e){var t=e.alternative,n=e.fullText;return(0,g.pipe)(t.delta.invert(n),a.fromRawDelta)};e.fromAlternativeBoldified=function(e){var n=e.alternative,r=e.fullText,i=(0,g.pipe)(n.delta.map(R.E.match((function(e){return(0,g.pipe)(e,C.fromPredicate(R.E.isInsertString),C.chain((function(e){return(0,g.pipe)(C.fromNullable(e.attributes),C.map((function(t){return{attributes:t,retain:e.insert.length}})))})),C.filter((function(e){var t=e.attributes;return Boolean(t.bold)})),C.map((function(e){return{retain:e.retain,attributes:{bold:!1}}})))}),(function(e){return C.none}),(function(e){return C.some({retain:e.retain})}))),f.oE,(function(e){return new w.R(e)}),(function(e){return r.compose(e)}));return t({alternative:n,fullText:i})},e.fromAlternativeListified=function(e){var n=e.alternative,r=e.fullText;return(0,g.pipe)(t({alternative:n,fullText:r}),(function(e){return(0,g.pipe)(e.delta.ops,f.Kl((function(e){return R.E.isInsertString(e)&&"\n"===e.insert&&Boolean(!e.attributes||!Boolean(e.attributes.list))})),C.map((function(t){var n=e.delta.ops,r=n[t];return new w.R((0,h._)(n.slice(0,t)).concat([(0,u._)((0,c._)({},r),{attributes:(0,u._)((0,c._)({},r.attributes),{list:!1})})],(0,h._)(n.slice(t+1))))})),C.getOrElse((function(){return e.delta})))}),a.fromRawDelta)}}(i||(i={})),function(e){var t,n,i=function(e){return function(t){return r.isInsertGap(t)?(0,u._)((0,c._)({},t),{insert:e}):t}},m=function(e){return new L(e)};e.hasOptionalContext=function(e){return Boolean(e[0])&&r.isOptionalContextRetain(e[0])},function(e){e.Insert="insert",e.Remove="remove",e.Substitution="substitution"}(t=e.Type||(e.Type={})),function(e){function n(e){return e.type===r.Type.Main?C.some(r.isInsert(e)?t.Insert:t.Remove):C.none}e.eq=v.Eq,e.fromOperation=n;var i=e.semigroup={concat:function(e,n){switch(e){case t.Insert:return n===t.Remove?t.Substitution:n;case t.Remove:return n===t.Insert?t.Substitution:n;case t.Substitution:return t.Substitution;default:return(0,_.xb)(e)}}},a=e.monoid=C.getMonoid(i);e.parse=(0,f.ue)(a)(n)}(t=e.Type||(e.Type={})),e.eq=S.OW({lengthAffected:y.Eq,type:C.getEq(t.eq),ops:(0,f.nZ)(r.eq)}),e.fromRawDelta=(0,g.flow)(P.d.AbsAlternative.unsafeFromDelta,r.fromRawAbsAlternative,m),e.fillGaps=function(e,t){return a.hasOptionalContext(e.ops)?m([e.ops[0]].concat((0,h._)(e.ops.slice(1).map(i(t))))):m(e.ops.map(i(t)))},e.dismissTransformGroups=function(e,t){var n=f.x1((function(e){return(0,g.pipe)(e.group,C.filter((function(e){return t.has(e)})),C.fold((function(){return C.some(e)}),(function(){return function(e){return r.isDelete(e)?C.some({type:e.type,group:e.group,retain:e.delete,attributes:{}}):r.isInsert(e)?C.none:C.some(e)}(e)})))}));if(a.hasOptionalContext(e.ops)){var i=(0,p._)(e.ops),o=i[0],s=i.slice(1);return m([o].concat((0,h._)((0,g.pipe)(s,n))))}return m((0,g.pipe)(e.ops,n))},e.getTransformGroups=function(e){var t=new Set;return e.ops.forEach((function(e){return(0,g.pipe)(e.group,k.Mi((function(e){return t.add(e)})))})),t},e.getDeleteOpsGroupsList=function(e){return(0,g.pipe)(e.ops.filter(r.isDelete),f.Tj((function(e){return e.group})),f.oE)},e.create=m,e.validate=(0,g.flow)((function(e){return e.ops}),I.fromPredicate(A.EH(r.isOptionalContextRetain),(function(e){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),(n=e.Group||(e.Group={})).fromSerialized=function(e){return{context:e.context,alternatives:(0,g.pipe)(e.alternatives,T.Tj((function(e){return e.ops})),T.Tj(a.create))}},n.fromSubalerts=function(e,t){return{context:e,alternatives:T.Tj((0,g.flow)(r.fromRawAbsAlternative,m))(t)}},n.fromRawTransform=function(e){return{context:T.of(e.context),alternatives:T.Tj((0,g.flow)(r.fromRawAbsAlternative,m))(e.alternatives)}},n.rebase=function(e){return function(t){return{context:(0,g.pipe)(t.context,T.Tj((function(t){return{s:e.transformPosition(t.s,!0),e:e.transformPosition(t.e,!0)}}))),alternatives:(0,g.pipe)(t.alternatives,T.Tj((function(t){return(0,g.pipe)(t.rebase(e),C.fold((function(){return t}),g.identity))})))}}},n.copy=function(e){return{context:T.C(e.context),alternatives:T.C(e.alternatives)}};var L=function(){function e(n){(0,o._)(this,e),(0,l._)(this,"ops",void 0),(0,l._)(this,"lengthAffected",void 0),(0,l._)(this,"type",void 0),this.ops=n,this.type=t.parse(this.ops),this.lengthAffected=R.E.calcAffectedLength(this)}return(0,s._)(e,[{key:"rebase",value:function(e){var t=e.ops[0];if(!Boolean(t)||R.E.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&w.R.Op.length(t)>this.lengthAffected)return C.some(this);var n=this.ops.length>=2&&R.E.isDelete(this.ops[this.ops.length-2])&&R.E.isInsert(this.ops[this.ops.length-1]);return!Boolean(t)||n&&R.E.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&w.R.Op.length(t)===this.lengthAffected?C.some(this):this._internalRebase(e)}},{key:"_internalRebase",value:function(t){for(var n=this,i=w.R.Op.iterator(t.ops),o=new r.Iterator(this.ops),s=C.some(new e([])),l=!1;o.hasNext();)if("insert"===i.peekType()){if(l&&(0,g.pipe)(s,k.Lw((function(e){return e.ops[e.ops.length-1].type===r.Type.Main}))))return C.none;var c=w.R.Op.length(i.next()),u=(0,g.pipe)(s,C.map((function(e){return e.ops[e.ops.length-1]})),k.$v);if(l&&k.Lw((function(e){return e.lengthAffected>0}))(s)){var d={retain:c,type:u.type,group:u.group,attributes:"attributes"in u&&!r.isOptionalContextType(u.type)?u.attributes:{}};s=e._pushOp(s,d)}else s=e._pushOp(s,{retain:c,type:r.Type.Optional,group:C.none,attributes:{}})}else if("insert"===o.peekType()){var p=o.next();if(p.type===r.Type.Main&&"delete"===i.peekType()&&i.offset>0)return C.none;s=e._pushOp(s,p)}else{var h=Math.min(i.peekLength(),o.peekLength()),f=i.next(h),m=o.next(h);R.E.isDelete(f)||(l=o.offset>0,s=e._pushOp(s,r.isDelete(m)?m:r.isOptionalContextType(m.type)?{retain:h,type:r.TypeExt.OptionalContext,group:C.none}:{retain:h,type:m.type,group:m.group,attributes:m.attributes}))}return(0,g.pipe)(s,C.map((function(e){return e.type=a.Type.parse(n.ops),e})))}},{key:"_push",value:function(e){var t=this.ops.length,n=this.ops[t-1];if(Boolean(n)){if(r.isOptionalContextRetain(e))return r.isOptionalContextRetain(n)?n.retain+=e.retain:r.isRetain(n)&&t<=2?2===t?((0,_.V1)(r.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.ops[0].retain+=e.retain):(this.ops[t]=n,this.ops[t-1]=e):(0,_.V1)(r.isOptionalContextRetain(n)||r.isRetain(n)&&1===t,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.lengthAffected+=e.retain,this;if(r.isDelete(e)&&r.isDelete(n))return e.type===n.type?n.delete+=e.delete:this.ops.push(e),this.lengthAffected+=e.delete,this;if(r.isInsert(e)&&r.isInsert(n))return e.type===n.type&&"string"==typeof e.insert&&"string"==typeof n.insert&&r.eqAttributes.equals(e.attributes,n.attributes)?n.insert+=e.insert:this.ops.push(e),this;if(r.isRetain(e)&&r.isRetain(n))return e.type===n.type?n.retain+=e.retain:this.ops.push(e),this.lengthAffected+=e.retain,this;this.ops.push(e)}else this.ops=[e];return r.isInsert(e)||(this.lengthAffected+=r.length(e)),this}},{key:"delta",get:function(){return R.E.normalizeDelta(new w.R(this))}},{key:"toJSON",value:function(){return{ops:this.ops}}}],[{key:"_pushOp",value:function(e,t){return(0,g.pipe)(e,C.chain((function(e){return(0,g.pipe)(E.zb((function(){return e._push(t)})),I.mapLeft((function(e){return b.Bx.Logging.getLogger("Alternative").error("Alternative push error",e),e})),C.fromEither)})))}}]),e}();e.compose=function(e,t){var n={composedDelta:new w.R,currentFullText:t,reversedAlternatives:[]},r=e.reduce((function(e,t,n){var r=(0,d._)(t,2),i=r[0],a=r[1];return(0,g.pipe)(i.rebase(e.composedDelta),C.fold((function(){e.reversedAlternatives.push(I.left({error:new Error("Could not rebase alternative to composed delta"),delta:i.delta,alternativeIndex:n}))}),(function(t){var r=a({alternative:t,fullText:e.currentFullText});e.composedDelta=e.composedDelta.compose(t.delta),e.currentFullText=e.currentFullText.compose(t.delta),function(e,t){e.forEach((function(n,r){return(0,g.pipe)(n,I.fold(g.constVoid,(function(n){e[r]=(0,g.pipe)(n.reversedAlternative.rebase(t.delta),I.fromOption((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),I.map((function(e){return(0,u._)((0,c._)({},n),{reversedAlternative:e})})))})))}))}(e.reversedAlternatives,t),e.reversedAlternatives.push(I.right({reversedAlternative:r,alternativeIndex:n}))}))),e}),n),i=(0,g.pipe)(r.reversedAlternatives,f.sj,x.s.fromSeparatedArray);return(0,u._)((0,c._)({},r),{reversedAlternatives:i})},e.withoutOptionalOps=function(e){return a.create(e.filter((function(e){return!r.isOptionalType(e.type)})))}}(a||(a={}))},66799:(e,t,n)=>{n.d(t,{$A:()=>ke,BU:()=>c,DG:()=>T,EK:()=>u,Fc:()=>A,J5:()=>d,MW:()=>N,Mq:()=>S,O4:()=>f,Sl:()=>x,Sm:()=>_,U3:()=>M,XM:()=>O,ZI:()=>y,Zq:()=>w,ch:()=>P,cq:()=>a,dV:()=>Se,hN:()=>I,l:()=>v,lH:()=>C,mq:()=>L,r5:()=>p,rP:()=>R,t5:()=>E,tI:()=>h,uG:()=>k,xD:()=>s,yj:()=>b,yp:()=>g});var r,i,a,o,s,l,c,u,d,p,h,f,m,g,y,v,b,w,_,C,S,k,I,A,T,E,x,R,P,L,B,N,M,O,D,K,F,$,H,G,W,V,q,U,j,z,Q,Y,J=n(10334),Z=n(17171),X=n(69384),ee=n(91817),te=n(9899),ne=n(34937),re=n(38886),ie=n(84647),ae=n(95934),oe=n(60575),se=n(65390),le=n(13110),ce=n(22835),ue=n(55172),de=n(36840),pe=n(23121),he=n(66202),fe=n(45419),me=n(58193),ge=n(86562),ye=n(88105),ve=n(28986),be=n(38832),we=n(62228),_e=n(32454);r||(r={}),function(e){var t=e.RelatedMaterial=ae.NW({iconUrl:ae.tB(ae.Yj),title:ae.tB(ae.Yj),link:ae.tB(ae.Yj)}),n=(e.RelatedMaterials=ae.QZ(t),e.CommunicationMethod=ae.NW({iconUrl:ae.tB(ae.Yj),title:ae.tB(ae.Yj),link:ae.tB(ae.Yj)})),r=e.PointPerson=ae.NW({firstName:ae.tB(ae.Yj),lastName:ae.tB(ae.Yj),displayName:ae.tB(ae.Yj),jobTitle:ae.tB(ae.KC([ae.Yj,ae.Vx])),avatarUrl:ae.tB(ae.KC([ae.Yj,ae.Vx])),communicationMethods:ae.QZ(n)});e.PointPeople=ae.QZ(r),e.Aliases=ae.QZ(ae.NW({name:ae.tB(ae.Yj)}))}(i||(i={})),function(e){e.empty=[],e.isLeaf=function(e){return 0===e.length};var t=e.Tree=ae.FX("Tree",(function(){return ae.YO(ae.PV([ae.ai,t]))}))}(a||(a={})),function(e){var t;(t=e.DomainCategory||(e.DomainCategory={})).sales_crm="sales_crm",t.sales_engagement="sales_engagement",t.sales_enablement="sales_enablement",t.marketing_email_automation="marketing_email_automation",t.marketing_content="marketing_content",t.customer_service="customer_service",t.customer_surveys_surveys="customer_surveys_surveys",t.recruiting="recruiting",t.training_learning="training_learning",t.project_management="project_management",t.legal="legal",t.contractors="contractors",t.human_resources="human_resources",t.email="email",t.business_chat="business_chat"}(o||(o={})),function(e){var t,n;(e.SpecialCategory||(e.SpecialCategory={})).InQuotes="InQuotes",(n=e.ScopeType||(e.ScopeType={})).GLOBAL="GLOBAL",n.SESSION="SESSION",n.DOCUMENT="DOCUMENT",(t=e.MutedByType||(e.MutedByType={})).MUTED_BY_USER="MUTED_BY_USER",t.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",t.NOT_MUTED="NOT_MUTED"}(s||(s={})),function(e){var t;(t=e.SuggestionRejectionReason||(e.SuggestionRejectionReason={})).NOT_RELEVANT="NOT_RELEVANT",t.WRONG_TONE="WRONG_TONE",t.INCORRECT="INCORRECT",t.WRONG_GRAMMAR="WRONG_GRAMMAR",t.OFFENSIVE="OFFENSIVE",t.OTHER="OTHER"}(l||(l={})),function(e){e.mock={bundle:"Test bundle",bundleRank:10,group:"Test Group",rank:1,outcome:"Correctness"}}(c||(c={})),function(e){var t=function(e){return function(t){return{s:e.s+t.s,e:e.s+t.e,type:t.type}}},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 0===e.s?ie.unsafeCoerce:function(n){return(0,ie.unsafeCoerce)({ops:[{retain:e.s,attributes:t?void 0:{type:_e.d.Edit.TypeExt.OPTIONAL_CONTEXT}}].concat((0,te._)(n.ops))})}};e.prependContextToHighlight=t,e.prependContext=n,e.toAbs=function(e){return p.create({highlights:e.highlights.map(t(e.context)),alternatives:(0,ie.pipe)(e,se.fromPredicate((function(e){return void 0!==e.alternatives&&e.alternatives.length>0})),se.map((function(e){return(0,Z._)((0,J._)({},e),{alternatives:le.Tj(n(e.context))(e.alternatives)})})),se.map(be.EF.Group.fromRawTransform))})}}(u||(u={})),function(e){var t,n;!function(e){e.create=function(e){return e.toString()}}(t=e.Id||(e.Id={})),function(e){e.rebase=function(e,t){var n=t.transformPosition(e.begin,!0),r=t.transformPosition(e.end,!0),i=(new ve.R).insert(e.text).compose(t.slice(e.begin)).reduce((function(e,t){return ye.E.isInsert(t)?"".concat(e).concat(t.insert):e}),"").slice(0,r-n);return(0,Z._)((0,J._)({},e),{begin:n,end:r,text:i})},e.isSquashed=function(e){return e.begin>=e.end},e.fromAttentionHeatmapMessage=function(e){return(0,Z._)((0,J._)({},e),{id:t.create(e.id)})}}(n=e.Range||(e.Range={})),e.fromAttentionHeatmapMessage=function(e){return(0,Z._)((0,J._)({},e),{add:e.add.map(n.fromAttentionHeatmapMessage),update:e.update.map(n.fromAttentionHeatmapMessage),remove:e.remove.map(t.create),attentionScore:(0,ie.pipe)(e,se.fromPredicate(we.QB.AttentionHeatmap.hasAttentionInfo),se.map(ce.Up("attentionScore"))),showAttentionCard:(0,ie.pipe)(e,se.fromPredicate(we.QB.AttentionHeatmap.hasAttentionInfo),se.map(ce.Up("showAttentionCard")))})}}(d||(d={})),function(e){var t=e.create=function(e){return e};e.isSquashed=function(e){return e.highlights.some(_e.d.Range.isEmpty)},e.isValidAfterTransform=function(e,t){var r=n(e),i=n(t);return Boolean(ue.qm(r.highlights,i.highlights,(function(e,t){return e.e-e.s==t.e-t.s})))&&ue.qm(r.alternatives,i.alternatives,(function(e,t){return ue.qm(e.ops.filter((0,de.AU)(ye.E.isRetain)),t.ops.filter((0,de.AU)(ye.E.isRetain)),ye.E.isEqual((function(){return!0})))}))},e.rebase=function(e,n){return t({highlights:e.highlights.map((function(e){return{s:n.transformPosition(e.s,!0),e:n.transformPosition(e.e,!0),type:e.type}})),alternatives:(0,ie.pipe)(e.alternatives,se.map(be.EF.Group.rebase(n)))})};var n=function(e){return{highlights:e.highlights,alternatives:(0,ie.pipe)(e.alternatives,se.fold((function(){return[]}),(function(e){return e.alternatives.map((function(e){return e.delta}))})))}}}(p||(p={})),K=h||(h={}),G=function(e){return void 0===e.drilldownTree&&void 0===e.knowledgeHubSuggestCorrectionUrl&&void 0===e.knowledgeHubRelatedMaterials&&void 0===e.knowledgeHubPointPeople&&void 0===e.knowledgeHubAliases?e:(0,Z._)((0,J._)({},e),{drilldownTree:void 0===e.drilldownTree?void 0:(0,ie.pipe)(e.drilldownTree,(function(e){return"object"==typeof e?e:JSON.parse(e)}),a.Tree.decode,pe.$v),knowledgeHubRelatedMaterials:(0,ie.pipe)(e.knowledgeHubRelatedMaterials,se.fromNullable,se.chain((function(e){return(0,ie.pipe)(he.parseJSON(e,he.toError),he.chain((0,ie.flow)(i.RelatedMaterials.decode,he.mapLeft(he.toError))),he.fold((function(e){return oe.Bx.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubRelatedMaterials",e),se.none}),se.some))})),se.toUndefined),knowledgeHubPointPeople:(0,ie.pipe)(e.knowledgeHubPointPeople,se.fromNullable,se.chain((function(e){return(0,ie.pipe)(he.parseJSON(e,he.toError),he.chain((0,ie.flow)(i.PointPeople.decode,he.mapLeft(he.toError))),he.fold((function(e){return oe.Bx.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubPointPeople",e),se.none}),se.some))})),se.toUndefined),knowledgeHubAliases:(0,ie.pipe)(e.knowledgeHubAliases,se.fromNullable,se.chain((function(e){return(0,ie.pipe)(he.parseJSON(e,he.toError),he.chain((0,ie.flow)(i.Aliases.decode,he.mapLeft(he.toError))),he.fold((function(e){return oe.Bx.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubAliases",e),se.none}),se.some))})),se.toUndefined)})},W=function(e,t){(0,ie.pipe)(e.ops,re.i8((function(e){return ye.E.isInsert(e)&&(0,ie.pipe)(ye.E.getAttr(e,"type"),se.exists((function(e){return e===_e.d.Edit.Type.MAIN})))&&"string"==typeof e.insert})),se.map((function(e){var n=e.insert;return t(n)})))},V=function(e,t){var n=function(t){var n,a=e[t];if(r.length>0){if(void 0===a.transformJson.alternatives)return{v:he.left(new Error("The alternatives are missing from subalert, expected length: ".concat(r.length)))};if(a.transformJson.alternatives.length!==r.length)return{v:he.left(new Error("Subalert has incorrect alternatives length: expected ".concat(r.length,", got ").concat(a.transformJson.alternatives.length)))}}o=(0,ie.pipe)(o,se.map((function(e){var t=function(e){var t=a.transformJson.alternatives[e];W(t,(function(t){return r[e].replacements.add(t)})),s[e]=(0,ie.pipe)(new ve.R(s[e]),(function(e){return e.compose(e.transform(new ve.R(u.prependContext(a.transformJson.context,!0)(t)),!0))}),_e.d.AbsAlternative.unsafeFromDelta)},n=(0,ee._)(e,2),o=n[0],s=n[1];i[a.label].matches+=1,o.push(a.transformJson.context);for(var l=0;l<s.length;l++)t(l);return[o,s]}))),(n=s).push.apply(n,(0,te._)(a.transformJson.highlights.map(u.prependContextToHighlight(a.transformJson.context)))),l.push(a.highlightText)};if(e.length<2)return he.left(new Error("There should be more than one subalert, got "+e.length));var r=t.map((function(e){return{matches:0,replacements:new Set,label:e}})),i=r.reduce((function(e,t){return e[t.label]=t,e}),{}),a=fe.FM(e[0].transformJson.alternatives);if(r.length>0&&Boolean(se.isNone(a))||!Boolean((0,ie.pipe)(a,me.Lw((function(e){return r.length===e.length})))))return he.left(new Error("Alternatives array length must match labels array length"));for(var o=(0,ie.pipe)(a,se.map(le.rO((function(t,n){return W(n,(function(e){return r[t].replacements.add(e)})),u.prependContext(e[0].transformJson.context)(n)}))),se.map((function(t){return i[e[0].label].matches+=1,[le.of(e[0].transformJson.context),t]}))),s=e[0].transformJson.highlights.map(u.prependContextToHighlight(e[0].transformJson.context)),l=[e[0].highlightText],c=1;c<e.length;c++){var d=n(c);if("object"===(0,ne._)(d))return d.v}return he.right({subalerts:p.create({alternatives:(0,ie.pipe)(o,se.map((function(e){var t=(0,ee._)(e,2),n=t[0],r=t[1];return be.EF.Group.fromSubalerts(n,r)}))),highlights:s}),labels:r.map((function(e){var t=e.replacements,n=(0,X._)(e,["replacements"]);return(0,Z._)((0,J._)({},n),{replacementTexts:Array.from(t)})})),highlightText:l})},q=function(e){return function(t){return t===s.SpecialCategory.InQuotes&&"true"===e.extra_properties.in_quotes}},U=function(e){return!z(e)&&!Q(e)},j=function(e){return void 0!==e.begin&&void 0!==e.end&&void 0!==e.highlightBegin&&void 0!==e.highlightEnd},z=function(e){return void 0!==e.cardLayout&&void 0!==e.transformJson},Q=function(e){return"labels"in e&&"subalerts"in e},Y=function(e,t,n,r){return U(e)?t(e):z(e)?n(e):r(e)},(K.Id||(K.Id={})).create=function(e){return e.toString()},function(e){e.Critical="critical",e.Advanced="advanced"}(F=K.Impact||(K.Impact={})),function(e){e.all="all",e.priority="priority"}($=K.View||(K.View={})),function(e){e.inline="inline",e.not_inline="not_inline"}(H=K.Inline||(K.Inline={})),K.parseExtraProperties=G,K.fromAlertMessage=function(e){return Object.assign({},e,(0,J._)({id:h.Id.create(e.id),cost:Boolean(e.cost)?e.cost:1,extra_properties:G(e.extra_properties)},e.transformJson?{transformJson:u.toAbs(e.transformJson),highlightText:[e.highlightText]}:(0,ie.pipe)(fe.FM(e.subalerts),se.fold((function(){return{highlightText:[e.highlightText]}}),(function(t){return(0,ie.pipe)(function(e,t){return(0,ie.pipe)(t,se.fold((function(){return he.left(new Error("Got corrupted superalert — the labels are missing"))}),(function(t){return V(e,t)})))}(t,se.fromNullable(e.labels)),he.getOrElse((function(e){return oe.Bx.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",e),{highlightText:[]}})))})))))},K.isFullSentence=function(e){return"true"===e.full_sentence_rewrite||"true"===e.full_sentence_fluency_rewrite},K.belongsToAnySpecialCategory=function(e){var t=q(e);return-1!==Object.values(s.SpecialCategory).findIndex(t)},K.belongsToSpecialCategory=q,K.withPosition=U,K.hasPosition=j,K.withTransformJson=z,K.withAlternatives=function(e){return z(e)&&se.isSome(e.transformJson.alternatives)},K.withSubalerts=Q,K.match=Y,K.matchBy=function(e,t,n){return function(r){return Y(r,e,t,n)}},function(e){function t(e){return e.end-e.begin}function n(e){return e.highlightEnd-e.highlightBegin}e.shift=function(e,t){return{begin:e.begin+t,end:e.end+t,highlightBegin:e.highlightBegin+t,highlightEnd:e.highlightEnd+t}},e.rebase=function(e,t){return{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0),highlightBegin:t.transformPosition(e.highlightBegin,!0),highlightEnd:t.transformPosition(e.highlightEnd,!0)}},e.getReplacementLength=t,e.getHighlightLength=n,e.isSquashed=function(e){return 0===t(e)||0===n(e)},e.hasEqualLength=function(e,r){return t(e)===t(r)&&n(e)===n(r)}}(K.Position||(K.Position={})),K.isPlagiarism=function(e){return void 0!==e.cardLayout&&"Originality"===e.cardLayout.outcome},K.isOneGap=function(e){return void 0!==e.extra_properties&&"gap_transform"in e.extra_properties},K.isTakeaway=function(e){return void 0!==e.extra_properties&&"takeawayScore"in e.extra_properties},K.hasDrilldownTree=function(e){return void 0!==e.extra_properties&&"drilldownTree"in e.extra_properties},K.isShortenIt=function(e){return void 0!==e.extra_properties&&"shorten_it"in e.extra_properties},K.isToneAI=function(e){return void 0!==e.extra_properties&&"tone_slider"in e.extra_properties},K.isEthicalAI=function(e){return void 0!==e.extra_properties&&"ethical_ai_external_link"in e.extra_properties},K.isCitationDetection=function(e){return void 0!==e.extra_properties&&"citation_detection"in e.extra_properties},K.isSuggestedSnippet=function(e){return void 0!==e.extra_properties&&"suggested_snippet_text"in e.extra_properties&&"suggested_snippet_lib_link"in e.extra_properties},K.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.pname},K.isHidden=function(e){return!0===e.hidden},K.isRawAlert=function(e){if(!Boolean(e))return!1;var t=e;return Number.isInteger(t.rev)&&Y(t,(function(e){return Number.isInteger(e.begin)&&Number.isInteger(e.end)&&Number.isInteger(e.highlightBegin)&&Number.isInteger(e.highlightEnd)}),(function(e){return e.transformJson.highlights.length>0}),(function(e){return e.labels.length>0}))},K.mock={id:h.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span>→<span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:h.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",rank:10,outcome:"Correctness"},transformJson:p.create({highlights:[{s:5092,e:5102}],alternatives:se.none}),view:$.all,inline:H.inline},K.mockPlagiarism={id:h.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:h.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:p.create({highlights:[{s:1,e:40}],alternatives:se.none}),view:$.all,inline:H.not_inline},K.mockWithSubalerts={id:h.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, it’s best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but it’s best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:p.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:se.some(be.EF.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[_e.d.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:_e.d.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:_e.d.Edit.Type.MAIN}},{insert:"Country",attributes:{type:_e.d.Edit.Type.MAIN}}]}),_e.d.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:_e.d.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:_e.d.Edit.Type.MAIN}},{insert:"country",attributes:{type:_e.d.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:F.Advanced,extra_properties:{priority:"4"},cardLayout:{bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:$.all,inline:H.not_inline},K.clearUserTextFields=function(e){return e.text,e.replacements,e.highlightText,e.transformJson,e.transforms,e.details,e.explanation,e.examples,(0,X._)(e,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},K.unsafeGetPosition=function(e){return(0,ge.V1)(j(e),"raw alert should have a position"),e},K.unsafeGetTransformJson=function(e){return(0,ge.V1)(z(e),"raw alert should have transformJson"),e},function(e){e.NOT_AUTHORIZED="not_authorized",e.SESSION_NOT_INITIALIZED="session_not_initialized",e.BAD_REQUEST="bad_request",e.BACKEND_ERROR="backend_error",e.AUTH_ERROR="auth_error",e.RUNTIME_ERROR="runtime_error",e.ILLEGAL_DICT_WORD="illegal_dict_word",e.TIMEOUT="timeout",e.CANNOT_FIND_SYNONYM="cannot_find_synonym",e.CANNOT_GET_TEXT_STATS="cannot_get_text_stats",e.GB_RULE_ERROR="gb_rule_error"}(f||(f={})),function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR"}(m||(m={})),function(e){e.RENDERED="RENDERED",e.IGNORE="IGNORE",e.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",e.LOOKED="LOOKED",e.ACCEPTED="ACCEPTED",e.CLOSED="CLOSED",e.ACKNOWLEDGED="ACKNOWLEDGED",e.HIDE="HIDE",e.LIKE="LIKE",e.DISLIKE="DISLIKE",e.WRONG_SUGGESTION="WRONG_SUGGESTION",e.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",e.EXPANDED="EXPANDED",e.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED",e.USER_SATISFACTION_FEEDBACK="USER_SATISFACTION_FEEDBACK"}(g||(g={})),function(e){e.DRILLDOWN="DRILLDOWN"}(y||(y={})),function(e){e.BULK_ACCEPTED="BULK_ACCEPTED"}(v||(v={})),function(e){e.LENS_CLOSE="LENS_CLOSE",e.LENS_OPEN="LENS_OPEN",e.DISMISS_BY_LENS="DISMISS_BY_LENS"}(b||(b={})),function(e){e.EMOTION_LIKE="EMOTION_LIKE",e.EMOTION_DISLIKE="EMOTION_DISLIKE",e.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(w||(w={})),function(e){e.WritingExpert="WRITING_EXPERT"}(_||(_={})),function(e){e.G2_UI="G2_UI"}(C||(C={})),function(e){e.FEED_OPENED="FEED_OPENED",e.FEED_CLOSED="FEED_CLOSED",e.TRY_AGAIN="TRY_AGAIN"}(S||(S={})),function(e){e.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",e.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(k||(k={})),function(e){e.RECHECK_SHOWN="RECHECK_SHOWN"}(I||(I={})),function(e){e.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",e.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(A||(A={})),function(e){e.MUTE="MUTE",e.UNMUTE="UNMUTE"}(T||(T={})),function(e){e.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",e.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",e.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(E||(E={})),function(e){e.COMPLETION_SHOWN="COMPLETION_SHOWN",e.COMPLETION_IGNORED="COMPLETION_IGNORED",e.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",e.COMPLETION_REJECTED="COMPLETION_REJECTED"}(x||(x={})),function(e){e.AUTOAPPLY_TRIGGERED="AUTOAPPLY_TRIGGERED",e.AUTOAPPLY_LOOKED="AUTOAPPLY_LOOKED",e.AUTOAPPLY_REVERTED="AUTOAPPLY_REVERTED",e.AUTOAPPLY_ACCEPT="AUTOAPPLY_ACCEPT",e.AUTOAPPLY_AFFECTED_BY_TEXTCHANGE="AUTOAPPLY_AFFECTED_BY_TEXTCHANGE"}(R||(R={})),function(e){e.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(P||(P={})),function(e){e.ASSISTANT_OPENED="ASSISTANT_OPENED"}(L||(L={})),function(e){e.ACCEPTED="ACCEPTED",e.DISMISSED="DISMISSED"}(B||(B={})),function(e){e.willRemoveAlert=function(e){return e===g.IGNORE||e===g.OFFENSIVE_CONTENT||e===g.WRONG_SUGGESTION||e===g.ADD_TO_DICTIONARY||e===g.LIKE||e===g.DISLIKE||e===g.ACKNOWLEDGED||e===g.HIDE}}(N||(N={})),function(e){e.Inline="inline",e.Hover="hover",e.Click="click",e.SidebarPriority="sidebar-priority",e.Sidebar="sidebar",e.Vbar="vbar",e.UnderlineWithTeaser="underline_with_teaser"}(M||(M={})),function(e){e.Context="context",e.GnarContainerId="gnar_containerId"}(O||(O={})),function(e){e.likelyToBeReadTakeaway="LikelyToRead",e.unlikelyToBeReadTakeaway="NotLikelyToRead"}(D||(D={}));var Ce,Se,ke=300;!function(e){e.generatePoints=function(e,t,n){var r=function(e,t){return Math.max(Math.trunc(e/t),(0,de._9)(e))};return ue.Bs(r(e,2),(function(e){return ue.Bs(r(t,3),(function(t){return{value:Math.random()*n,alertIds:[],footprint:"".concat(100*e+t)}}))}))}}(Ce||(Ce={})),function(e){(e.Id||(e.Id={})).create=function(e){return e.toString()}}(Se||(Se={}))},62228:(e,t,n)=>{n.d(t,{QB:()=>i,k9:()=>r,to:()=>o});var r,i,a=n(10334),o=Math.pow(2,32)/2;!function(e){e.alertsUpdate="alerts_update",e.textInfo="text_info",e.freeAdvancedChecks="free_inline_advanced_alerts",e.readability="readability_check",e.sentenceVariety="sentence_variety_check",e.fillerWords="filler_words_check",e.alertsChanges="alerts_changes",e.freeClarityChecks="free_clarity_alerts",e.superAlerts="super_alerts",e.consistency="consistency_check",e.setGoalsLink="set_goals_link",e.emogenieCheck="emogenie_check",e.toneCards="tone_cards",e.alternativeDeletesCard="alternative_deletes_card",e.voxCheck="vox_check",e.plagiarismAlertsUpdate="plagiarism_alerts_update",e.fullSentenceRewrite="full_sentence_rewrite_card",e.listCard="turn_to_list_card",e.userMutes="user_mutes",e.completions="completions",e.muteQuotedAlerts="mute_quoted_alerts",e.keyTakeaways="key_takeaways_v4",e.supportsFormatting="formatting",e.supportsButtonTransformCards="transform_with_button_card",e.priorityAlertsView="priority_alerts_view",e.proofit="realtime_proofit",e.freeOccasionalPremiumAlerts="free_occasional_premium_alerts",e.gapTransformCard="gap_transform_card",e.toneAI="tone_slider_card",e.ethicalAI="ethical_ai_card",e.enclosingHighlight="enclosing_highlight",e.mainStartHighlight="main_start_highlight",e.drilldownCard="drilldown_card",e.shortenIt="shorten_it",e.ideasGalleryLink="ideas_gallery_link",e.citations="citations",e.citation_detection_card="citation_detection_card",e.citation_gap="citation_gap",e.reconnect="reconnect",e.suggestedSnippets="suggested_snippets",e.knowledgeHubSuggestedTerms="knowledge_hub_suggested_terms",e.knowledgeHub="knowledge_hub",e.autoapply="autoapply",e.cheetah="cheetah",e.gbContext="gb_context",e.vbarAlerts="vbar_alerts",e.gDebugger="g_debugger",e.g2UI="g2_ui",e.individualPreviewReverts="INDIVIDUAL_PREVIEW_REVERTS"}(r||(r={})),function(e){var t,n,r,i,o,s,l,c,u;(e.SessionMode||(e.SessionMode={})).READ_ONLY="READ_ONLY",(u=e.ScoresStatus||(e.ScoresStatus={})).OK="OK",u.TOO_SMALL="TOO_SMALL",u.SENSITIVE="SENSITIVE",u.ERROR="ERROR",l=e.OutcomeScores||(e.OutcomeScores={}),c={Clarity:0,Correctness:0,Engagement:0,Tone:0,"Style guide":0,GeneralScore:0},l.normalize=function(e){return(0,a._)({},c,e)},(e.AttentionHeatmap||(e.AttentionHeatmap={})).hasAttentionInfo=function(e){return"attentionScore"in e&&"showAttentionCard"in e},t=e.Survey||(e.Survey={}),n=t.Data||(t.Data={}),o=n.BaseSurvey||(n.BaseSurvey={}),(s=o.Placement||(o.Placement={})).gmail="gmail",s.ggo="ggo",(i=n.ScoreSurvey||(n.ScoreSurvey={})).type="score",(i.Score||(i.Score={})).declined="declined",(r=n.OpenAnswerScoreSurvey||(n.OpenAnswerScoreSurvey={})).type="open_answer_score",r.scoreStage="score",r.submitStage="submit"}(i||(i={}))},32454:(e,t,n)=>{n.d(t,{d:()=>r});var r,i=n(10334),a=n(17171),o=n(69384),s=n(84647),l=n(66202),c=n(65390),u=n(88105);!function(e){var t;(e.Range||(e.Range={})).isEmpty=function(e){return e.e-e.s==0},function(e){var t;(t=e.Type||(e.Type={})).MAIN="main",t.IMPORTANT="important",(e.TypeExt||(e.TypeExt={})).OPTIONAL_CONTEXT="optional_context"}(t=e.Edit||(e.Edit={})),function(e){function n(e){return(0,s.pipe)(e.ops,c.fromPredicate((function(e){return-1===e.findIndex(n)})),c.fold((function(){return l.left({ops:(t=e.ops,t.reduce((function(e,t,r){if(n(t,r)){var s=t.attributes,l=(s.type,(0,o._)(s,["type"]));e.push((0,a._)((0,i._)({},t),{attributes:l}))}else e.push(t);return e}),[]))});var t}),(function(e){return l.right({ops:e})})));function n(e,n){return n>0&&u.E.isRetain(e)&&void 0!==e.attributes&&e.attributes.type===t.TypeExt.OPTIONAL_CONTEXT}}e.unsafeFromDelta=function(e){return(0,s.pipe)(e,n,l.fold(s.identity,s.identity))},e.fromDelta=n}(e.AbsAlternative||(e.AbsAlternative={}))}(r||(r={}))},37099:(e,t,n)=>{n.d(t,{UV:()=>c,nr:()=>s,zT:()=>l});var r=n(50659),i=n(19840),a=n(19309),o=n(11864);const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;const l=({children:e,emojiClassName:t,className:n})=>{const i=r.useRef(null);return r.useEffect((()=>{i.current&&(i.current.innerHTML=i.current.innerHTML.replace(s,(e=>function(e,t=u.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return a.C+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}(e,t))))}),[i,t]),r.createElement("span",{ref:i,className:n},e)},c=({id:e,className:t})=>{const[n,o]=r.useState(!1),[s,l]=r.useState(""),[c,d]=r.useState("");return r.useEffect((()=>{o(!1),d(function(e){return a.C+e+".svg"}(e)),l((e=>{try{return String.fromCodePoint(...e.map((e=>parseInt(e,16))))}catch(e){return""}})(e.split("-")))}),[e]),n?r.createElement("span",(0,i.Ly)(t,u.emojiFromIDAlt),s):r.createElement("img",{className:t,src:c,alt:s,onError:()=>o(!0),"aria-hidden":!0})},u=o.Ks.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},74393:(e,t,n)=>{n.d(t,{E:()=>s});var r=n(10334),i=n(50659),a=n(19840),o=n(11864);function s(e,t={withPreload:!0}){return o=>(i.useLayoutEffect((()=>{n(82535)}),[]),i.createElement(i.Fragment,null,t.withPreload?i.createElement(l,{fontStyles:(0,r._)({},c)}):null,i.createElement(e,(0,r._)({},o,(0,a.Ly)(o.className,Boolean(t.customFontStyle)?t.customFontStyle:c.wrapper)))))}const l=({fontStyles:e})=>i.createElement("div",{className:e.fontsPreload},i.createElement("span",{className:e.italicBold}),i.createElement("span",{className:e.italicRegular}),i.createElement("span",{className:e.italicLight}),i.createElement("span",{className:e.normalBold}),i.createElement("span",{className:e.normalRegular}),i.createElement("span",{className:e.normalLight})),c=o.Ks.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]})},82535:(e,t,n)=>{var r=n(11864);const i=n.p+"files/f55d0dfa9e7a026051ee/inter-bold.woff",a=n.p+"files/f5a521bcbbfc3e829df9/inter-bold.woff2",o=n.p+"files/719480c0f01a975dbc2f/inter-bolditalic.woff",s=n.p+"files/59d5eb77825684198c30/inter-bolditalic.woff2",l=n.p+"files/34ac76fae5a1c50d2b09/inter-italic.woff",c=n.p+"files/1019b554cb3f5814f4cc/inter-italic.woff2",u=n.p+"files/c56638b58874ed2d0bb0/inter-light.woff",d=n.p+"files/2a9c2fdcc82ee79c1eed/inter-light.woff2",p=n.p+"files/ea804aa7c10875965e02/inter-lightitalic.woff",h=n.p+"files/6e21aae8353c5240ccc9/inter-lightitalic.woff2",f=n.p+"files/44e53b5f0e29c093a793/inter-medium.woff",m=n.p+"files/4bc2cc617f7b065ba5bc/inter-medium.woff2",g=n.p+"files/a2861570ed4e31e58f26/inter-mediumitalic.woff",y=n.p+"files/5d6acb0f1258dee99af2/inter-mediumitalic.woff2",v=n.p+"files/a28d271a30121b3c816f/inter-regular.woff",b=n.p+"files/646bc415dc9f87c485a6/inter-regular.woff2";r.Ks.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:`url('${d}') format('woff2'), url('${u}') format('woff')`,fontDisplay:"swap"}),r.Ks.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:`url('${a}') format('woff2'), url('${i}') format('woff')`,fontDisplay:"swap"}),r.Ks.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:`url('${b}') format('woff2'), url('${v}') format('woff')`,fontDisplay:"swap"}),r.Ks.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:`url('${m}') format('woff2'), url('${f}') format('woff')`,fontDisplay:"swap"}),r.Ks.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:`url('${h}') format('woff2'), url('${p}') format('woff')`,fontDisplay:"swap"}),r.Ks.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:`url('${c}') format('woff2'), url('${l}') format('woff')`,fontDisplay:"swap"}),r.Ks.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:`url('${y}') format('woff2'), url('${g}') format('woff')`,fontDisplay:"swap"}),r.Ks.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:`url('${s}') format('woff2'), url('${o}') format('woff')`,fontDisplay:"swap"})},21607:(e,t,n)=>{n.d(t,{W:()=>F});var r=n(10334),i=n(17171),a=n(69384),o=n(50659),s=n(53326),l=n(73921),c=n(33931),u=n(66836),d=n(8071),p=n(92186),h=n(42543),f=n(19840),m=n(35198),g=n(19967),y=n(26228),v=n(14737),b=n(82608),w=n(19772),_=n(80152),C=n(77167),S=n(38107),k=n(24497),I=n(11864),A=n(13607);const T={borderTop:`1px solid ${_.Q.Border.Base.Subdued}`,margin:`${I.Ks.rem(C.v$)} ${I.Ks.rem(-C.Jj)}`},E={listStyle:"none",margin:0,padding:0,outline:I.Ks.important("none")},x={position:"relative",overflow:"hidden",padding:`${I.Ks.rem(C.or)} ${I.Ks.rem(C.Jj)}`,borderRadius:I.Ks.rem(S.KD),cursor:"pointer",$nest:{"&:hover":{background:k.NeutralGray10},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${k.NeutralGray10}, 0 0 0 3px ${k.NeutralGray40}`,outline:I.Ks.important("none"),background:k.NeutralGray10,zIndex:A.yg},"& i":{marginLeft:I.Ks.rem(-C.v$),marginRight:I.Ks.rem(C.v$)}}},R={color:_.Q.Text.Base.Subdued},P={margin:`0 ${I.Ks.rem(C.v$)}`},L={display:"flex",alignItems:"center"},B={justifyContent:"space-between",width:I.Ks.percent(100)},N={padding:`0 ${I.Ks.rem(C.Jj)}`},M={padding:`${I.Ks.rem(C.v$)} ${I.Ks.rem(C.Jj)}`},O={fontSize:I.Ks.rem(.625),letterSpacing:I.Ks.rem(.04),lineHeight:I.Ks.rem(1),color:_.Q.Text.Base.Subdued,padding:`${I.Ks.rem(C.v$)} ${I.Ks.rem(C.v5)} ${I.Ks.rem(C.v$)} ${I.Ks.rem(C.Jj)}`},D={$nest:{'&[data-active="true"]':{background:k.NeutralGray10,color:_.Q.Text.Brand.Default}}},K=I.Ks.stylesheet({triggerButton:[D],separator:[T],itemList:[E],mainItemsList:[E,M],menuItem:[x],menuItemContentWrapper:[L],menuItemContent:[L,B],menuItemDisabled:[N],menuItemSelected:[{$nest:{"& span":{fontWeight:700}}}],sectionHeading:[O],section:[{padding:0}],label:[R],tag:[P]});var F;!function(e){function t(e){var{placement:t="bottom start",theme:l={},name:c,portalContainer:u,title:p,button:h=g.$n.Flat}=e,m=(0,a._)(e,["placement","theme","name","portalContainer","title","button"]);const v=o.useMemo((()=>Boolean(c)?`${c}-trigger`:"dropdown-menu-trigger"),[c]),b=(0,d.I)(m),w=o.useRef(null),_=(0,s.Vi)({},b,w),{menuTriggerProps:{onPress:C,onPressStart:S},menuProps:k}=_,I=(0,a._)(_.menuTriggerProps,["onPress","onPressStart"]),A=o.useCallback((e=>{var t;["escape","enter"].includes(e.key.toLowerCase())&&(null===(t=w.current)||void 0===t||t.focus())}),[]);return o.useEffect((()=>(b.isOpen?document.addEventListener("keydown",A):document.removeEventListener("keydown",A),()=>document.removeEventListener("keydown",A))),[b.isOpen,A]),o.createElement(o.Fragment,null,o.createElement(h,(0,i._)((0,r._)((0,i._)((0,r._)({},I),{name:v}),(0,f.Ly)(K.triggerButton,l.button)),{onClick:()=>b.open(),mount:e=>w.current=e,"aria-label":m["aria-label"],title:null!=p?p:m["aria-label"],active:b.isOpen}),m.label),o.createElement(y.A,{state:b,rerenderDependencies:[m.items,m.children],triggerRef:w,placement:t,portalContainer:u,className:l.popover,renderAssistiveDismiss:!1},o.createElement(n,(0,i._)((0,r._)({},m,k),{theme:l,name:c,onAction:e=>{var t,n;null===(t=(n=m).onAction)||void 0===t||t.call(n,e)}}))))}function n(e){var{name:t,className:n,itemAnimationMode:c=v.g.FromClickPoint,theme:u={},onMouseOver:d,onMouseLeave:h}=e;const m=(0,a._)(e,["name","className","itemAnimationMode","theme","onMouseOver","onMouseLeave"]),g=o.useMemo((()=>Boolean(t)?`${t}-list`:"dropdown-menu-list"),[t]),y=(0,p.p)(m),b=o.useRef(null),{menuProps:w}=(0,s.b)(m,y,b),S=(0,l.v6)(w,{onMouseOver:d,onMouseLeave:h});return o.createElement("ul",(0,r._)((0,i._)((0,r._)({"data-name":g},S),{ref:b}),(0,f.Ly)(K.mainItemsList,u.list,n)),Array.from(y.collection).map((e=>"section"===e.type?o.createElement(C,{key:e.key,section:e,state:y,theme:u}):o.createElement(_,{key:e.key,name:t,item:e,state:y,animationMode:c,className:u.item}))))}function _({item:e,state:t,animationMode:n,className:c,name:u}){const d=o.useMemo((()=>Boolean(u)?`${u}-item`:"dropdown-menu-item"),[u]),p=o.useRef(null),{menuItemProps:m,isDisabled:g,isSelected:y}=(0,s.Os)({key:e.key},t,p),_=o.useMemo((()=>new h.B7),[]),C=o.useCallback((()=>null!=n&&o.createElement(v.n,{mouseDownEvents:_,animationMode:n})),[_,n]),{onPointerDown:S}=m,k=(0,a._)(m,["onPointerDown"]),I=(0,l.v6)(k,{onPointerDown:e=>{var t;_.next({pageX:e.pageX,pageY:e.pageY}),null===(t=S)||void 0===t||t(e)}});return w.R.useEffectOnDidMount((()=>{if(null!=p.current)try{const e=p.current.focus.bind(p.current);p.current.focus=t=>{var n;Boolean(null===(n=p.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}})),o.createElement("li",(0,r._)((0,i._)((0,r._)({"data-name":d},I),{ref:p}),(0,f.Ly)(K.menuItem,c,g?K.menuItemDisabled:void 0,y?K.menuItemSelected:void 0)),o.createElement(b.Typography,{nodeType:"span",styleType:b.Typography.Type.Base,className:K.menuItemContentWrapper},e.rendered),C())}function C({name:e,section:t,state:n,onAction:a,theme:l={},itemAnimationMode:u=v.g.FromClickPoint}){const d=o.useMemo((()=>Boolean(e)?`${e}-section`:"dropdown-menu-section"),[e]),{itemProps:p,headingProps:h,groupProps:m}=(0,s.y7)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:g}=(0,c.r)({elementType:"li"});return o.createElement(o.Fragment,null,t.key!==n.collection.getFirstKey()&&o.createElement("li",(0,i._)((0,r._)({},g),{className:K.separator})),o.createElement("li",(0,r._)({"data-name":d},p,(0,f.Ly)(K.section,l.section)),Boolean(t.rendered)&&o.createElement(b.Typography.H5,(0,i._)((0,r._)({},h),{className:K.sectionHeading}),t.rendered),o.createElement("ul",(0,i._)((0,r._)({},m),{className:K.itemList}),Array.from(t.childNodes).map((t=>o.createElement(_,{key:t.key,item:t,state:n,onAction:a,animationMode:u,className:l.item,name:e}))))))}e.Item=u.q7,e.Section=u.wn,e.Dropdown=t,e.DropdownLifted=function(e){return(0,f.yY)(t)(e)},e.List=n,e.ItemContent=({children:e,label:t,tag:n})=>o.createElement("span",{className:K.menuItemContent},o.createElement("span",null,e,Boolean(n)&&o.createElement(m.E.Regular,{className:K.tag},n)),Boolean(t)&&o.createElement(b.Typography.Small,{className:K.label},t))}(F||(F={}))},26228:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(10334),i=n(17171),a=n(69384),o=n(50659),s=n(93669),l=n(80152),c=n(39606),u=n(38107),d=n(19840),p=n(80074),h=n(11864),f=n(24243);const m=({portalContainer:e,children:t})=>void 0===e?o.createElement(o.Fragment,null,t):o.createElement(s.hJ,{portalContainer:e},t),g=e=>{var t,{children:n,className:l,state:c,offset:u=8,onTransitionEnd:p,portalContainer:h,renderAssistiveDismiss:f=!0}=e,g=(0,a._)(e,["children","className","state","offset","onTransitionEnd","portalContainer","renderAssistiveDismiss"]);const y=o.useRef(null),{popoverProps:v}=(0,s.fP)((0,i._)((0,r._)({},g),{isNonModal:null!=h,offset:u,popoverRef:y}),c);return o.createElement(m,{portalContainer:h},o.createElement("div",(0,i._)((0,r._)((0,i._)((0,r._)({},v),{style:(0,i._)((0,r._)({},v.style),{minWidth:null===(t=g.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:y}),(0,d.Ly)(w.popover,l)),{onTransitionEnd:e=>{var t;if(e.target===y.current)return null===(t=p)||void 0===t?void 0:t()}}),f&&o.createElement(s.Rz,{onDismiss:c.close}),o.createElement("div",{className:w.wrapper},n),f&&o.createElement(s.Rz,{onDismiss:c.close})))},y=e=>{var{children:t,rerenderDependencies:n=[]}=e,s=(0,a._)(e,["children","rerenderDependencies"]);const l=o.useMemo((()=>t),n),c=o.useRef(y._index++);return o.useEffect((()=>{y._activePopovers.modify((e=>{const t=new Set(e);return s.state.isOpen?t.add(c.current):t.delete(c.current),t}))}),[s.state.isOpen]),o.createElement(f.A,{in:s.state.isOpen},((e,t)=>o.createElement(g,(0,r._)((0,i._)((0,r._)({},s),{onTransitionEnd:t}),(0,d.Ly)(s.className,e)),l)))};y._index=0,y._activePopovers=p.s.create(new Set),y.activeCount=y._activePopovers.view((e=>e.size));const v={width:h.Ks.percent(100)},b={display:"flex",flexDirection:"column",alignItems:"flex-start",background:l.Q.Background.Base.Default,boxShadow:c.R$.boxShadow,border:c.R$.border,borderRadius:h.Ks.rem(u.KD)},w=h.Ks.stylesheet({wrapper:[v],popover:[b]})},98530:(e,t,n)=>{n.d(t,{P:()=>r});var r,i=n(10334),a=n(17171),o=n(69384),s=n(50659),l=n(84647),c=n(87574),u=n(19840),d=n(15491),p=n(36094),h=n(38427),f=n(46669),m=n(14729),g=n(50581),y=n(86562),v=n(58193),b=n(65390),w=n(36840),_=n(27199),C=n(35098),S=n(11864),k=n(19772);!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:m.w.Selector.preferBy("top",m.w.Selector.Placement.middle)};case"topRight":return{align:"top",selector:m.w.Selector.preferBy("top",m.w.Selector.Placement.right)};case"topLeft":return{align:"top",selector:m.w.Selector.preferBy("top",m.w.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:m.w.Selector.preferBy("bottom",m.w.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:m.w.Selector.preferBy("bottom",m.w.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:m.w.Selector.preferBy("bottom",m.w.Selector.Placement.left)};case"left":return{align:"left",selector:m.w.Selector.preferBy("left",m.w.Selector.Placement.middle)};case"right":return{align:"right",selector:m.w.Selector.preferBy("right",m.w.Selector.Placement.middle)};case"auto":case"center":return{align:g.Rect.Axis.vertical,selector:m.w.Selector.preferBy("top",m.w.Selector.Placement.middle)};default:return(0,y.xb)(e)}}}(t=e.Alignment||(e.Alignment={}));var n=e.ByPoint=e=>{var{point:t,className:n}=e,r=(0,o._)(e,["point","className"]);return s.createElement(c.F.div,(0,i._)({"data-role":"positioned-container",style:t.pipe(d.T(v.dQ(m.w.toCss,{})))},(0,u.Ly)(P.wrapper,n,t.pipe(d.T((e=>b.isNone(e)?P.hidden:"")))),r))};const r=e=>{const{rect:t,onMount:r}=k.R.useRectWatcher(),i=p.br(e.rect),a=p.br(e.pinTargetRect),o=I(e.align);var c;const u=S(i,t,o,null!==(c=e.selector)&&void 0!==c?c:m.w.Selector.preferTopMiddle,a,"relative"===e.position);return s.createElement(n,{mount:r,className:e.className,point:u.pipe(d.T(b.map((e=>e.tangentialPoint))))},!0===e.withPin&&u.pipe(d.T((0,l.flow)(b.chain((e=>e.median)),b.map((e=>s.createElement(_,{point:e,key:"pin"}))),b.toNullable))),e.children)};e.ByAbsoluteRect=e=>s.createElement(r,(0,a._)((0,i._)({},e),{position:"absolute"})),e.ByRelativeRect=e=>s.createElement(r,(0,a._)((0,i._)({},e),{position:"relative"}));var _=e.Pin=e=>{const t=p.br(e.point).pipe(d.T((e=>e.side)),d.T((e=>R[e]))),n=p.br(e.point).pipe(d.T((e=>e.point)),d.T((({x:e,y:t})=>({top:t,left:e}))));return s.createElement(c.F.i,(0,i._)({"data-role":"pin",style:n},(0,u.Ly)(t,R.wrapper)))};const S=(e,t,n,r,i,a)=>h.zV(e,s.useContext(C.L.Context).pipe(d.T((e=>e.rect))),t.pipe(f.F(b.getEq(g.Box.eq).equals)),i).pipe(d.T((([e,t,i,o])=>(0,l.pipe)(i,b.map((i=>{const s=m.w.QualifiedVariants.build(t,i,n(e));let c=r(s).point;const u=(0,l.pipe)(m.w.toRect(i,c),b.fromEither,b.chain((t=>(0,l.pipe)(g.Rect.getMedian(e,t),b.map((e=>({anchorMedian:e,bodyRect:t})))))),b.chain((({anchorMedian:e,bodyRect:t})=>{if(void 0!==o){const n=g.Rect.stickToSide(g.Rect.Side.invert(e.side),o)(t);return c=m.w.fromRect(n),(0,l.pipe)(g.Rect.getMedian(o,n),b.map((({side:e,point:t})=>({side:e,point:g.Rect.Point.relativeTo(t,n)}))))}return(0,l.pipe)(b.some(e),b.map((({side:e,point:n})=>({side:e,point:g.Rect.Point.relativeTo(n,t)}))))})));return{tangentialPoint:m.w.relativeTo(c,a?e:t),median:u}})))))),I=(e=g.Rect.Axis.both)=>(0,w.NX)(g.Rect.Axis,e)?t=>m.w.Variants.byAxis(e,t):t=>({[e]:m.w.Zone.bySide(e,t)})}(r||(r={}));const I={position:"absolute",border:`${S.Ks.px(7)} solid ${_.Q1.BackgroundTooltip}`,transform:`translate(${S.Ks.px(-7)}, ${S.Ks.px(-7)})`},A={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${S.Ks.px(7)})`}}},T={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${S.Ks.px(-7)})`}}},E={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${S.Ks.px(-7)})`}}},x={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${S.Ks.px(7)})`}}},R=S.Ks.stylesheet({wrapper:[I],top:[A],right:[T],bottom:[E],left:[x]}),P=S.Ks.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},90660:(e,t,n)=>{n.d(t,{_:()=>_});var r=n(23988),i=n(10334),a=n(17171),o=n(50659),s=n(80152),l=n(19840),c=n(86562),u=n(50581),d=n(27199),p=n(21476),h=n(27917),f=n(11864),m=n(92825);const g=2*Math.PI*32,y="#f1f2fa",v="#fff",b=(e,t,n)=>e<t?t:e>n?n:e,w=e=>{switch(e){case _.IconSize.pdf:return 110;case _.IconSize.normal:return 52;case _.IconSize.outcome:return 32;case _.IconSize.small:return 24;case _.IconSize.extraSmall:return 16;default:return(0,c.xb)(e)}};class _ extends o.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=_.ColorType.logan,fontSize:r=_.FontSize.normal,iconSize:d=_.IconSize.normal,description:f,theme:m=I}=this.props,C=[o.createElement("circle",{key:"circle",id:"circle",cx:36,cy:36,r:32,fill:"none"})],S=(e=>{switch(e){case _.FontSize.normal:return 32;case _.FontSize.small:return 24;default:return(0,c.xb)(e)}})(r),k=(e=>{switch(e){case _.IconSize.pdf:case _.IconSize.normal:case _.IconSize.outcome:return 5;case _.IconSize.small:return 3;case _.IconSize.extraSmall:return 10;default:return(0,c.xb)(e)}})(d),A=b(e,0,100),T=b(t,A,100),E=A*g/100,x=T*g/100,R=360*k/g,P=A?g-E-2*k:g;let L,B,N,M,O;const D=(e=>{switch(e){case _.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:y,outline:v};case _.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:y,outline:v};case _.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:y,outline:v};case _.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:y,outline:v};case _.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:y,outline:v};case _.ColorType.logan:return{type:"plain",value:"#a6adc9",background:y,outline:v};case _.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case _.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case _.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case _.ColorType.green:return{type:"plain",value:s.Q.Background.Brand.Default,background:s.Q.Background.Brand.Subdued};case _.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case _.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case _.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case _.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return(0,c.xb)(e)}})(n);if("plain"===D.type)L=D.value,B=L,N=D.outline,M=D.background,O=void 0===D.backgroundOpacity?1:D.backgroundOpacity;else{const e=D.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:"pb-gradient-"+_._nextGradientId++,C.push(o.createElement("linearGradient",(0,i._)({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),o.createElement("stop",{stopColor:e.start,offset:"0%"}),o.createElement("stop",{stopColor:e.end,offset:"100%"}))),L=`url(#${this._gradientId})`,B="#2b2d38",N=D.outline,M=D.background,O=void 0===D.backgroundOpacity?1:D.backgroundOpacity}return o.createElement(p.f.Context.Consumer,null,(e=>o.createElement(h.hh,(0,a._)((0,i._)({},(0,l.Ly)(I.iconWrapper,m.radialProgressBar)),{width:w(d),viewBox:"0 0 72 72"}),o.createElement("defs",null,C),o.createElement("g",null,o.createElement("use",{className:I.valueCircle,stroke:A>=94&&Boolean(N)?N:M,strokeOpacity:O,strokeWidth:k,strokeDasharray:g,strokeDashoffset:g-x,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(N)?o.createElement("use",{className:I.valueCircle,stroke:N,strokeWidth:k,strokeDasharray:g,strokeDashoffset:P,transform:`rotate(${-90-R} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}):null,o.createElement("use",{className:I.valueCircle,stroke:L,strokeDasharray:g,strokeDashoffset:g-E,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:k,xlinkHref:"#circle"}),o.createElement("text",(0,i._)({className:m.radialProgressText,y:"38",x:"36",fill:B,fontSize:S,fontStyle:"normal",textAnchor:"middle"},u.svgVerticalAlignment(e.has(p.f.Flag.supportsSVGDominantBaseline))),A),Boolean(f)?o.createElement("text",{className:m.radialProgressDescription,fill:B,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},f):null))))}constructor(...e){super(...e),(0,r._)(this,"_gradientId",void 0)}}(0,r._)(_,"_nextGradientId",0),function(e){let t,n,r;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(r=e.IconSize||(e.IconSize={}))}(_||(_={}));const C={width:f.Ks.percent(100),height:f.Ks.percent(100),fontWeight:"bold",fill:d.Q1.CoreNeutral90},S={fontSize:f.Ks.rem(2),fill:d.Q1.CoreNeutral90},k={fontWeight:"normal",fontSize:f.Ks.px(11),fill:m.V9},I=f.Ks.stylesheet({radialProgressBar:[C],radialProgressText:[S],radialProgressDescription:[k],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},87715:(e,t,n)=>{n.d(t,{s:()=>F,a:()=>$});var r=n(10334),i=n(17171),a=n(69384),o=n(50659),s=n(24871),l=n(96675),c=n(34050),u=n(15363),d=n(73921),p=n(44451),h=n(24497),f=n(80152);const m=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...i})=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?o.createElement("desc",{id:r},n):null,e?o.createElement("title",{id:t},e):null,o.createElement("path",{fill:"#646B81",fillRule:"evenodd",d:"M14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0M6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94z",clipRule:"evenodd"}))));var g=n(19840),y=n(87574),v=n(60269),b=n(95168),w=n(36094),_=n(38427),C=n(15491),S=n(59636),k=n(36840),I=n(82608),A=n(19772),T=n(77167),E=n(38107),x=n(11864);const R={display:"flex",alignItems:"center",opacity:1,color:f.Q.Text.Base.Default,cursor:"pointer"},P={$nest:{'&[type="radio"]':{display:x.Ks.important("inline-block")}}},L={display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(calc(var(--rem)/16))",minWidth:x.Ks.rem(T.Oh),marginRight:x.Ks.rem(T.sp)},B={display:"inline-flex"},N={flexDirection:"row",alignItems:"center",flexWrap:"wrap",gap:x.Ks.rem(T.or)},M={display:"flex",gap:x.Ks.rem(T.CN),color:f.Q.Background.Critical.Default,padding:`0 ${x.Ks.rem(T.v$)} 0 ${x.Ks.rem(T.CN)}`,margin:`${x.Ks.rem(T.v$)} 0`,$nest:{"& svg":{transform:"scale(1.4)"},"& path":{fill:f.Q.Background.Critical.Default}}},O={border:`1px solid ${f.Q.Background.Critical.Default}`,borderRadius:x.Ks.rem(E.KD)},D=x.Ks.stylesheet({input:[P],label:[R],disabled:[R,{opacity:.4,cursor:"not-allowed"}],dot:[L],circle:[{transition:"all .2s"}],horizontal:[B,N],vertical:[B,{flexDirection:"column"}],errorMessage:[M],errorGroup:[O],groupWrapper:[{display:"flex",flexDirection:"column"}]}),K=o.createContext(S.o.invariantContent("radioGroupContext"));var F,$;!function(e){e.Item=e=>{var{className:d}=e,p=(0,a._)(e,["className"]);const m=o.useContext(K),y=o.useRef(null),{inputProps:v,isSelected:b,isDisabled:w}=(0,s.z)(p,m,y),{isFocusVisible:_,focusProps:C}=(0,l.og)(),{hoverProps:S,isHovered:A}=(0,c.Mk)({}),T=b?5:2;return o.createElement(I.Typography,(0,r._)({styleType:I.Typography.Type.Base,nodeType:"label"},S,(0,g.Ly)((0,k.Sw)(D.disabled,D.label)(w),d)),o.createElement(u.s,null,o.createElement("input",(0,i._)((0,r._)({},v,C),{ref:y,className:D.input}))),o.createElement("div",{className:D.dot},o.createElement("svg",{width:n,height:n,"aria-hidden":!0},o.createElement("circle",{cx:t,cy:t,r:A?t:0,fill:h.BlueGray5,fillOpacity:+(A&&!w),className:D.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2+2,fill:"none",stroke:f.Q.Background.Brand.Default,strokeWidth:2,strokeOpacity:+(_&&!w),className:D.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2-T/2,fill:"none",stroke:b?f.Q.Background.Brand.Default:f.Q.Border.Base.Default,strokeWidth:T,className:D.circle}))),p.children)},e.Group=e=>{const{name:t,orientation:n="vertical",className:a,children:l,label:c,description:d,errorMessage:h,validationState:f}=e,y=(0,p.Z)(e),{radioGroupProps:v,labelProps:b,descriptionProps:w,errorMessageProps:_}=(0,s.m)(e,y);return o.createElement("div",(0,r._)({"data-name":t},v,(0,g.Ly)(D.groupWrapper,a)),Boolean(c)&&o.createElement(I.Typography,(0,r._)({nodeType:"span",styleType:I.Typography.Type.Base},b),c),o.createElement("div",(0,g.Ly)(D[n],(0,k.Sw)(D.errorGroup,void 0)(Boolean("invalid"===f))),o.createElement(K.Provider,{value:y},l),Boolean(d)&&o.createElement(u.s,null,o.createElement("div",w,d))),Boolean(h)&&"invalid"===f&&o.createElement(I.Typography.Small,(0,i._)((0,r._)({},_),{className:D.errorMessage}),o.createElement("i",{"aria-hidden":!0},o.createElement(m,null)),h))};const t=16,n=2*t}(F||(F={})),function(e){e.Group=e=>{var{items:t,selectedItemIndex:n,itemWrapperClassName:s}=e,l=(0,a._)(e,["items","selectedItemIndex","itemWrapperClassName"]);const[c,u]=o.useState(n.get()),[d,p]=o.useState(void 0);return A.R.useSubscriptionTo(v.h(n.pipe(b.M(u)),w.br(s).pipe(b.M(p)))),o.createElement(F.Group,(0,i._)((0,r._)({},l),{value:String(c),onChange:e=>{var t,r;return null===(t=(r=l).onChange)||void 0===t||t.call(r,e),n.set(+e)}}),t.map(((e,t)=>o.createElement(F.Item,{key:t,value:String(t),className:d},e))))},e.Item=e=>{var{onChange:t,checked:n,className:s,children:l}=e,c=(0,a._)(e,["onChange","checked","className","children"]);const u=(0,d.Bi)(),h=(0,p.Z)({defaultValue:n.get()?u:void 0});return o.useEffect((()=>{h.selectedValue===u&&t()}),[h.selectedValue,t,u]),A.R.useSubscriptionTo(n.pipe(b.M((e=>h.setSelectedValue(e?u:""))))),o.createElement(K.Provider,{value:h},o.createElement(y.F.Fragment,null,_.zV([w.br(l),w.br(s)]).pipe(C.T((([e,t])=>o.createElement(F.Item,(0,i._)((0,r._)({},c),{value:u,className:t}),e))))))}}($||($={}))},60280:(e,t,n)=>{n.d(t,{y:()=>m});var r,i=n(10334),a=n(17171),o=n(69384),s=n(50659),l=n(87574),c=n(19840),u=n(36094),d=n(86562),p=n(27199),h=n(11864),f=n(92825);function m(e){var{wrapperClassName:t,variation:n,isIdle:r,ref:c,label:d}=e,p=(0,o._)(e,["wrapperClassName","variation","isIdle","ref","label"]);return s.createElement(l.F.span,{"data-role":"spinner",role:"status","aria-busy":!Boolean(r),"aria-live":Boolean(r)?"off":"polite","aria-label":null!=d?d:"Content is loading.",className:t},u.Y6(n,(e=>s.createElement(m.Svg,(0,a._)((0,i._)({},p),{type:e,isIdle:r})))))}(r=m||(m={})).getClassName=e=>t=>{switch(t){case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"yellowPremium":return e.yellowPremium;case"gray":return e.gray;case"cyan":return e.cyan;default:return(0,d.xb)(t)}},r.Svg=e=>{const{className:t,size:n=64,strokeWidth:r=2,type:l,name:u,isIdle:p}=e,h=(0,o._)(e,["className","size","strokeWidth","type","name","isIdle"]),f=s.useRef(null),g=s.useRef(null);return s.useEffect((()=>((0,d.V1)(null!==f.current,"groupEl should be already created"),g.current=f.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>g.current.cancel())),[]),s.useEffect((()=>{(0,d.V1)(null!==g.current,"groupAnimation should be already created");const e=g.current;Boolean(e.play)&&(!0===p?e.pause():"running"!==e.playState&&e.play())})),s.createElement("svg",(0,i._)((0,a._)((0,i._)({"data-role":u},(0,c.Ly)(t)),{viewBox:"25 25 50 50",width:n,height:n,"aria-hidden":!0}),h),s.createElement("g",{transform:"translate(50 50)"},s.createElement("g",{ref:f},s.createElement("circle",(0,a._)((0,i._)({},(0,c.Ly)(I.path,!0===p&&v,m.getClassName(I)(l))),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:r,strokeMiterlimit:"10"})))))};const g=200,y=h.Ks.keyframes({"0%":{strokeDasharray:`1px, ${h.Ks.px(g)}`,strokeDashoffset:h.Ks.px(1)},"50%":{strokeDasharray:`89px, ${h.Ks.px(g)}`,strokeDashoffset:h.Ks.px(-35)},"100%":{strokeDasharray:`89px, ${h.Ks.px(g)}`,strokeDashoffset:h.Ks.px(-124)}}),v="spinnerIdle",b={animation:`${y} 2s ease-in-out infinite`,strokeDasharray:`1px, ${h.Ks.px(g)}`,strokeDashoffset:h.Ks.px(1),strokeLinecap:"round",$nest:{[`&.${v}`]:{animationIterationCount:0}}},w={stroke:p.Q1.CoreGreen50},_={stroke:p.Q1.CoreBlue50},C={stroke:p.Q1.CoreNeutral0},S={stroke:f.aD},k={stroke:p.Q1.CoreCyan50},I=h.Ks.stylesheet({path:[b],green:[w],blue:[_],white:[C],gray:[S],cyan:[k]})},92109:(e,t,n)=>{n.d(t,{$:()=>f});var r=n(10334),i=n(17171),a=n(50659),o=n(84647),s=n(65390),l=n(50581),c=n(27199),u=n(98530),d=n(11864),p=n(13607),h=n(6821);const f=()=>a.createElement(h.b,null,(0,o.flow)(s.map((e=>a.createElement(u.P.ByAbsoluteRect,(0,i._)((0,r._)({rect:l.Rect.fromEl(e.target),className:y.container},u.P.Alignment.toSelector(e.alignment)),{withPin:!0}),a.createElement("div",{className:y.content},e.content)))),s.toNullable)),m={position:"fixed",zIndex:p.kf,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},g={padding:`${d.Ks.rem(.25)} ${d.Ks.rem(1)}`,borderRadius:d.Ks.rem(p.H0),background:c.Q1.BackgroundTooltip,color:c.Q1.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:d.Ks.px(.25),fontSize:d.Ks.rem(.75),lineHeight:d.Ks.rem(1)},y=d.Ks.stylesheet({container:[m],content:[g]})},24243:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(10334),i=n(17171),a=n(50659),o=n(87574),s=n(80074),l=n(78339),c=n(14342),u=n(95168);const d="opacity 150ms linear",p=n(11864).Ks.stylesheet({visible:[{opacity:1}],hidden:[{opacity:0}],visibleTransition:[{opacity:1,transition:d}],hiddenTransition:[{opacity:0,transition:d}]}),h={enter:p.hidden,enterActive:p.visibleTransition,enterDone:p.visible,exit:p.visible,exitActive:p.hiddenTransition,exitDone:p.hidden};var f;!function(e){e.enter="enter",e.enterActive="enterActive",e.enterDone="enterDone",e.exit="exit",e.exitActive="exitActive",e.exitDone="exitDone"}(f||(f={})),function(e){const t={enter:f.enterActive,enterActive:f.enterDone,enterDone:f.exit,exit:f.exitActive,exitActive:f.exitDone,exitDone:f.enter};e.next=e=>t[e],e.shouldSwitchState=e=>t=>t===f.enterDone&&!e||t===f.exitDone&&e||t===f.enter||t===f.exit}(f||(f={}));const m=e=>a.createElement(g,(0,i._)((0,r._)({},e),{classNames:h})),g=e=>{const t=a.useRef(function(e){const t=s.s.create(e?f.enterDone:f.exitDone);return{state:t,next:()=>t.modify(f.next)}}(e.in));return a.useEffect((()=>{const n=t.current.state.pipe(l.p(f.shouldSwitchState(e.in)),c.c(0),u.M(t.current.next)).subscribe();return()=>n.unsubscribe()}),[e.in,t]),a.createElement(o.F.Fragment,null,t.current.state.view((n=>n===f.exitDone?null:e.children(h[n],t.current.next,n))))}},80926:(e,t,n)=>{n.d(t,{$:()=>r});var r,i=n(50659),a=n(59636),o=n(53354);!function(e){var t=e.Context=i.createContext(a.o.invariantContent("CopyToClipboard"));e.ContextMock=({children:e})=>i.createElement(t.Provider,{value:e=>o.B.copy(e,!1),children:e})}(r||(r={}))},15114:(e,t,n)=>{n.d(t,{TM:()=>W,Xz:()=>h});var r=n(10334),i=n(17171),a=n(36840),o=n(27199),s=n(11864),l=n(29120);const c=o.Q1.CoreGreen10,u="3px",d="1px",p="alerts-";var h;!function(e){e.markHeightStandard=`${p}markHeightStandard`,e.markHeightTall=`${p}markHeightTall`,e.markSelected=`${p}markSelected`,e.markSelectedFocused=`${p}markSelectedFocused`,e.markBase=`${p}markBase`,e.markAppliedBase=`${p}markAppliedBase`,e.markVisible=`${p}markVisible`,e.markStart=`${p}markStart`,e.correctness=`${p}correctness`,e.premium=`${p}premium`,e.clarity=`${p}clarity`,e.engagement=`${p}engagement`,e.delivery=`${p}delivery`,e.critical=`${p}critical`,e.advanced=`${p}advanced`,e.plagiarism=`${p}plagiarism`,e.originality=`${p}originality`,e.vox=`${p}vox`,e.knowledgeHub=`${p}knowledgeHub`,e.synonym=`${p}synonym`,e.markAnimated=`${p}markAnimated`,e.markHidden=`${p}markHidden`,e.markApplied=`${p}markApplied`,e.markBulkApplied=`${p}markBulkApplied`,e.markBulkAppliedAnimation=`${p}markBulkAppliedAnimation`,e.markSuccess=`${p}markSuccess`,e.noAnimation=`${p}noAnimation`,e.markVBar=`${p}markVBar`,e.markVBarHighlighted=`${p}markVBarHighlighted`,e.markWritingExpert=`${p}markWritingExpert`,e.markWritingExpertHighlighted=`${p}markWritingExpertHighlighted`}(h||(h={}));const f=`${p}custom`,m={backgroundPosition:`center calc(100% + ${u})`,backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},g={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},y=s.Ks.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),v={standard:`calc(${s.Ks.rem(.45)} - 4px)`,tall:s.Ks.rem(.425)},b=e=>({to:{backgroundColor:e}}),w=(e,t=100)=>({borderWidth:`0 0 ${u} 0`,borderImage:s.Ks.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[s.Ks.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),_=(e,t,n,a)=>(0,i._)((0,r._)({$unique:!0},m),{paddingBottom:d,borderBottom:`${u} solid ${t}`,transition:"border-bottom-color .5s linear",$nest:(0,i._)((0,r._)({},m.$nest),{[`&.${h.markStart}`]:w(t),"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${h.markSelected}.${h.markHeightStandard}`]:{paddingTop:v.standard},[`&.${h.markSelected}.${h.markHeightTall}`]:{paddingTop:v.tall},[`&.${h.markSelected}`]:{$unique:!0,borderBottomColor:a,animation:`${e} 1s ease forwards`,$nest:{[`&.${h.markStart}`]:w(a)}},[`&.${h.markSelectedFocused}`]:{$unique:!0,borderBottomColor:n,$nest:{[`&.${h.markStart}`]:w(n)}},[`&.${h.markSelected} .${h.markBase}:not(.${h.markSelected})`]:{paddingBottom:`calc(${u} + ${d})`,borderBottomStyle:"hidden"},[`&.${h.markSelectedFocused} .${h.markBase}:not(.${h.markSelected})`]:{paddingBottom:`calc(${u} + ${d})`,borderBottomStyle:"hidden"}}}})}),C=s.Ks.keyframes(b(o.Q1.CoreRed10)),S=s.Ks.keyframes(b(o.Q1.CoreYellow10)),k=s.Ks.keyframes(b(o.Q1.CoreCyan10)),I=s.Ks.keyframes(b(o.Q1.CorePurple10)),A=s.Ks.keyframes(b(o.Q1.CoreNeutral10)),T=s.Ks.keyframes(b(o.Q1.CoreNeutral10)),E=s.Ks.keyframes(b(o.Q1.CoreBlue10)),x=s.Ks.keyframes(b(o.Q1.CoreRed10)),R=s.Ks.keyframes(b(o.Q1.CoreYellow10)),P=s.Ks.keyframes(b(o.Q1.CoreBlue10)),L=s.Ks.keyframes(b(o.Q1.CoreGreen10)),B=s.Ks.keyframes(b(o.Q1.CorePurple10)),N=s.Ks.keyframes(b(o.Q1.CoreGreen10)),M=e=>{const t=s.Ks.color(c).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{[`&.${h.markHeightStandard}`]:{paddingTop:v.standard},[`&.${h.markHeightTall}`]:{paddingTop:v.tall}}}},O=e=>({borderBottomColor:"transparent",backgroundColor:s.Ks.color(c).fade(e).toRGBA().toString()}),D=s.Ks.keyframes({from:M("100%"),to:M("50%")}),K={borderBottomWidth:"2px",borderBottomColor:`${o.Q1.CoreNeutral40}`,borderBottomStyle:"dotted",backgroundColor:"transparent"},F=s.Ks.keyframes({to:(0,r._)({},M("0%"),K)}),$=s.Ks.keyframes({from:O("100%"),to:O("50%")}),H={$nest:{[`&.${h.markHeightStandard}`]:{paddingTop:v.standard},[`&.${h.markHeightTall}`]:{paddingTop:v.tall},[`&:not(.${h.markSelected}):not(.${h.markSelectedFocused})`]:{$nest:{[`&.${h.clarity} &.${h.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:o.Q1.CoreBlue50}}},[`&.${h.correctness}, &.${h.markSelected}, &.${h.markSelectedFocused}`]:{$nest:{[`.${h.markVisible}:not(.${h.markSelected}):not(.${h.markSelectedFocused}).${h.clarity} .${h.markVisible}:not(.${h.markSelected}):not(.${h.markSelectedFocused}).${h.clarity}`]:{}}},[`&.${h.clarity}`]:{$nest:{[`& & &:not(.${h.markSelected}):not(.${h.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},G={borderBottom:"0 solid transparent",background:"none",animation:"none"},W=(0,a.Bj)((()=>({custom(e,t){const n=s.Ks.color(e).fade(.25).toRGBA().toString(),r=s.Ks.keyframes(b(n));return[f,h.markBase,s.Ks.style(_(r,t,t,n)),l.b.style(_(r,t,t,n),g)].join(" ")},markBase:[h.markBase,s.Ks.style(m),l.b.style(m,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[h.markAppliedBase,h.markBase,s.Ks.style({paddingBottom:`${d}`,borderBottom:`${u} solid ${c}`})].join(" "),correctness:[h.correctness,h.markBase,s.Ks.style(_(x,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10)),l.b.style(_(x,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10),g)].join(" "),premium:[h.premium,h.markBase,s.Ks.style(_(R,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10)),l.b.style(_(R,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10),g)].join(" "),clarity:[h.clarity,h.markBase,s.Ks.style(_(P,o.Q1.CoreBlue20,o.Q1.CoreBlue50,o.Q1.CoreBlue10)),l.b.style(_(P,o.Q1.CoreBlue20,o.Q1.CoreBlue50,o.Q1.CoreBlue10),g)].join(" "),markVisible:[h.markVisible,s.Ks.style(H),l.b.style(H)].join(" "),engagement:[h.engagement,h.markBase,s.Ks.style(_(L,o.Q1.CoreGreen20,o.Q1.CoreGreen50,o.Q1.CoreGreen10)),l.b.style(_(L,o.Q1.CoreGreen20,o.Q1.CoreGreen50,o.Q1.CoreGreen10),g)].join(" "),delivery:[h.delivery,h.markBase,s.Ks.style(_(B,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10)),l.b.style(_(B,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10),g)].join(" "),critical:[h.critical,h.markBase,s.Ks.style(_(C,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10)),l.b.style(_(C,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10),g)].join(" "),advanced:[h.advanced,h.markBase,s.Ks.style(_(S,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10)),l.b.style(_(S,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10),g)].join(" "),plagiarism:[h.plagiarism,h.markBase,s.Ks.style(_(k,o.Q1.CoreCyan20,o.Q1.CoreCyan50,o.Q1.CoreCyan10)),l.b.style(_(S,o.Q1.CoreCyan20,o.Q1.CoreCyan50,o.Q1.CoreCyan10),g)].join(" "),originality:[h.originality,h.markBase,s.Ks.style(_(I,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10)),l.b.style(_(B,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10),g)].join(" "),vox:[h.vox,h.markBase,s.Ks.style(_(A,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10)),l.b.style(_(A,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10),g)].join(" "),knowledgeHub:[h.knowledgeHub,h.markBase,s.Ks.style(_(T,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10)),l.b.style(_(T,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10),g)].join(" "),synonym:[h.synonym,h.markBase,s.Ks.style(_(E,o.Q1.CoreBlue50,"transparent",o.Q1.CoreBlue50)),l.b.style(_(E,o.Q1.CoreBlue50,"transparent",o.Q1.CoreBlue50),g)].join(" "),markAnimated:[h.markAnimated,s.Ks.style({animation:`${y} .075s ease`})].join(" "),markHidden:[h.markHidden,s.Ks.style(G),l.b.style(G)].join(" "),markBulkAppliedAnimation:[h.markBulkAppliedAnimation,h.markBase,s.Ks.style(M("100%"),K,{animation:`${D} 2s linear forwards,\n          ${F} .25s linear 2s forwards`})].join(" "),markBulkApplied:[h.markBulkApplied,h.markBase,s.Ks.style(_(N,o.Q1.CoreNeutral40,o.Q1.CoreGreen10,o.Q1.CoreGreen10),K)].join(" "),markApplied:[h.markApplied,s.Ks.style(M("100%"),{animation:`${D} .25s linear forwards`})].join(" "),markSuccess:[h.markSuccess,s.Ks.style(O("100%"),{animation:`${$} .25s linear forwards`})].join(" "),noAnimation:[h.noAnimation,s.Ks.style({animationDuration:"0s !important"})].join(" "),markSelected:h.markSelected,markSelectedFocused:h.markSelectedFocused,markHeightStandard:h.markHeightStandard,markHeightTall:h.markHeightTall,markStart:h.markStart,markVBar:h.markVBar,markVBarHighlighted:h.markVBarHighlighted,markWritingExpert:h.markWritingExpert,markWritingExpertCustom:()=>h.markWritingExpert,markWritingExpertHighlighted:h.markWritingExpertHighlighted,markWritingExpertHighlightedCustom:()=>h.markWritingExpertHighlighted})))},64191:(e,t,n)=>{n.d(t,{Rx:()=>E,q0:()=>x});var r=n(10334),i=n(17171),a=n(50659),o=n(19840),s=n(86562),l=n(27199),c=n(86922),u=n(19967),d=n(27917),p=n(65873),h=n(11864),f=n(4885),m=n(72747),g=n(55101);const y={position:"relative",width:h.Ks.percent(100)},v={position:"relative",margin:`0 0 ${h.Ks.rem(.5)}`},b={display:"flex",boxSizing:"border-box",padding:`${h.Ks.rem(1)} ${h.Ks.rem(2)} ${h.Ks.rem(1)} ${h.Ks.rem(.75)}`,width:h.Ks.percent(100),borderRadius:h.Ks.rem(m.H0),background:l.Q1.BackgroundNotification,color:l.Q1.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},w={width:h.Ks.percent(100)},_={display:"inline-block",width:h.Ks.percent(100)},C={margin:`${h.Ks.rem(-.5)} ${h.Ks.rem(.75)} ${h.Ks.rem(-.5)} 0`},S={position:"absolute",top:0,right:0,marginTop:h.Ks.rem(.5),marginRight:h.Ks.rem(.4),marginLeft:h.Ks.rem(.5)},k={stroke:f.aD},I={margin:`0 0 ${h.Ks.rem(.5)}`,color:l.Q1.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:h.Ks.rem(l.EY.BodySize),lineHeight:h.Ks.rem(1.25)},A={marginTop:h.Ks.rem(-.1),marginBottom:h.Ks.rem(-.25),color:l.Q1.CoreNeutral0,fontSize:h.Ks.rem(l.EY.BodySize),lineHeight:h.Ks.rem(1.25)},T=h.Ks.prefixedStylesheet("notifications",{wrapper:[y],notification:[v],flexibleNotification:[v,{display:"flex",width:"auto"}],contentWrapper:[b],miniContentWrapper:[b,{position:"relative",width:"auto"}],fullWidthNotification:[v,b,w],content:[_],miniContent:[{flex:1}],alertIcon:[C],closeIconWrapper:[S],closeIcon:[k],header:[I],description:[A]});var E,x;!function(e){e.Wrapper=({notification:e,onClose:n,children:o,theme:s={}})=>{a.useEffect((()=>e.actions.next("shown")),[e.actions]);const l={wrapper:Boolean(s.wrapper)?s.wrapper:y.wrapper,content:void 0!==s.content?Object.assign({},y.content,s.content):y.content};return a.createElement("div",(0,i._)((0,r._)({},g.E.getAriaLiveProps(e)),{className:l.wrapper}),a.createElement(t,{metadata:e.metadata,onClose:n,theme:l.content},o))};var t=e.Base=({metadata:e,onClose:t,theme:r,children:i})=>a.createElement("div",{className:r.wrapper},n(e,r.icon),a.createElement("div",{className:r.content},i),!function(e){return e.priority===g.E.Priority.high||e.priority===g.E.Priority.highest}(e)&&a.createElement(h,{onClick:t,className:r.close}));const n=(e,t)=>{switch(e.icon){case g.E.Icon.sparkles:return a.createElement(d.In.Sparkles,{className:t});case void 0:case g.E.Icon.priority:return a.createElement(l,{priority:e.priority,className:t});default:return(0,s.xb)(e.icon)}};e.AdHoc=({title:e,children:t,className:n,onClose:r})=>a.createElement("div",(0,o.Ly)(y.content.wrapper,n),a.createElement("div",{className:y.content.content},a.createElement(f,{title:e},t)),a.createElement(h,{onClick:r,className:y.content.close}));var l=e.PriorityIcon=({priority:e,className:t})=>{switch(e){case g.E.Priority.lowest:case g.E.Priority.low:return a.createElement(d.In.NotificationInfo,{className:t});case g.E.Priority.average:return a.createElement(d.In.NotificationWarning,{className:t});case g.E.Priority.high:case g.E.Priority.highest:return a.createElement(d.In.NotificationError,{className:t});default:return(0,s.xb)(e)}},h=e.CloseButton=({onClick:e,className:t})=>{const n=a.useContext(c.S.Context);return a.createElement(u.$n,{name:"closeNotification","aria-label":n.actions.close,className:t,onClick:e},a.createElement(d.In.Close,{className:T.closeIcon,width:12}))},f=e.TitledContent=({title:e,children:t})=>Boolean(t)?a.createElement(a.Fragment,null,a.createElement(p.P1,{className:T.header},e),a.createElement(m,null,t)):a.createElement(p.P1,{className:T.description},e),m=e.Content=({children:e})=>a.createElement(p.C6,{className:T.description},e);const y={wrapper:T.wrapper,content:{wrapper:T.fullWidthNotification,icon:T.alertIcon,content:T.content,close:T.closeIconWrapper}}}(E||(E={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(a.useEffect((()=>e.actions.next("shown")),[e.actions]),a.createElement("div",{className:T.flexibleNotification},a.createElement(E.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:T.miniContentWrapper,icon:T.alertIcon,content:T.miniContent,close:T.closeIconWrapper}},n)))}(x||(x={}))},889:(e,t,n)=>{n.d(t,{a:()=>r,l:()=>i});var r,i,a=n(7432);!function(e){e.is=e=>"string"==typeof e.meta.alertId,e.create=e=>a.vY.compose({alertId:e}),e.getRangeId=(e,t,n)=>`${e}|${t.btype}%${n}`,e.fromRangeIdToAlertId=function(e){const t=e.indexOf("|");return t<0?e:e.substring(0,t)}}(r||(r={})),function(e){let t;!function(e){let t,n;!function(e){e.REPLACE="r",e.HIGHLIGHT="h",e.HIGHLIGHT_UPDATABLE="hu",e.APPLIED="a",e.CONTEXT="ctx"}(t=e.Behavior||(e.Behavior={})),function(e){e.MAIN="m",e.FOCUS="f",e.ENCLOSING="e",e.MAIN_START="ms"}(n=e.View||(e.View={}))}(t=e.Meta||(e.Meta={}));var n=e.isAbstract=e=>{const n=e.meta.btype;return n===t.Behavior.REPLACE||n===t.Behavior.CONTEXT};e.isApplied=e=>e.meta.btype===t.Behavior.APPLIED,e.isVisible=e=>{const t=e;return"string"==typeof t.meta.btype&&!n(t)&&"string"==typeof t.meta.vtype},e.create=(e,t)=>a.vY.compose({btype:e,vtype:t}),e.hasBehavior=function(e){return t=>t.meta.btype===e};const r=e=>t=>i.isVisible(t)&&t.meta.vtype===e;e.isMainView=r(t.View.MAIN),e.isFocusView=r(t.View.FOCUS),e.isEnclosingView=r(t.View.ENCLOSING),e.isMainStartView=r(t.View.MAIN_START)}(i||(i={}))},63967:(e,t,n)=>{n.d(t,{Fc:()=>ye,Kz:()=>H,Zn:()=>se,HJ:()=>Q,Un:()=>re,bU:()=>G,Q_:()=>U,Ie:()=>Z,aR:()=>ae,rW:()=>Y,z9:()=>pe,aW:()=>ce,us:()=>de,Hm:()=>W,zN:()=>he,Do:()=>z,vs:()=>ke});var r=n(23988),i=n(10334),a=n(17171),o=n(45819),s=n(38886),l=n(84011),c=n(85982),u=n(83288),d=n(49490),p=n(46238),h=n(84647),f=n(95934),m=n(60575),g=n(66799),y=n(30720),v=n(38832),b=n(88105),w=n(32454),_=n(7432),C=n(65390),S=n(36840),k=n(66202),I=n(86562),A=n(13110),T=n(23121),E=n(58193),x=n(55172),R=n(22835),P=n(15990),L=n(45419),B=n(74416),N=n(91485),M=n(88761);class O{static register(e,t,n,r){return new O(e,t,n,r)}registerAlternatives(e){(0,I.V1)(!this._disposed,"Cannot call registerAlternatives method on disposed AlertAlternativeManager"),this.alternatives=(0,h.pipe)(e,A.Tj((e=>{const t=this._alternativesManager.registerAlternative(e,this._alertId);return this._alternativesMap.set(t.alternativeId,t),t})))}deregisterAlternatives(){return(0,I.V1)(!this._disposed,"Cannot call deregisterAlternatives method on disposed AlertAlternativeManager"),this._alternativesMap.forEach((e=>{this._alternativesMap.delete(e.alternativeId)&&this._alternativesManager.deregisterAlternative(e.alternativeId)})),this}registerReversedAlternative(e){return(0,h.pipe)(this._disposed,k.fromPredicate((e=>!e),(()=>new Error("Cannot call registerReversedAlternative method on disposed AlertAlternativeManager"))),k.map((()=>{const t=this._alternativesManager.registerAlternative(e,this._alertId);return()=>(0,h.pipe)(t.alternativeId,this._alternativesManager.getAlternative,k.map((e=>e.alternative)))})))}dispose(){(0,I.V1)(!this._disposed,"Cannot dispose already disposed AlertAlternativeManager"),this.deregisterAlternatives(),this._disposed=!0}constructor(e,t,n,i){(0,r._)(this,"_alternativesManager",void 0),(0,r._)(this,"_alertId",void 0),(0,r._)(this,"rev",void 0),(0,r._)(this,"_alternativesMap",void 0),(0,r._)(this,"_disposed",void 0),(0,r._)(this,"alternatives",void 0),this._alternativesManager=e,this._alertId=t,this.rev=n,this._alternativesMap=new Map,this._disposed=!1,this.registerAlternatives(i)}}var D=n(53987),K=n(889),F=n(53397);class ${static register(e,t,n,r,i){return new $(e,t,n,r,i)}_normalize(e){return 1===_.vY.size(e)?this._positionManager.widen(e):e}_getFirstRange(e){return this._rangesMap.get(this._ranges[e].values().next().value)}_getRanges(e){return Array.from(this._ranges[e]).map((e=>{const t=this._rangesMap.get(e);return Boolean(t)||this._log.warn("Got undefined range",{markId:e}),t})).filter(Boolean)}enqueueRanges(e,t,n){this._cleanupPendingRanges();const r=new Map;this._registerRanges(t.map(this._normalizeIfApplicable),(e=>this._pendingRanges.push(["highlight",e])),r,this._alertId),this._registerRanges(e,(e=>this._pendingRanges.push(["replace",e])),r),this._registerRanges(n,(e=>this._pendingRanges.push(["context",e])),r,this._alertId)}get pending(){return this._pendingRanges.length>0}_getPendingRanges(e){return this._pendingRanges.filter((([t])=>t===e)).map((([,e])=>this._rangesMap.get(e)))}hasMatchingPendingRanges(e,t,n){return this._getPendingRanges(t).some((t=>e.some((e=>n(e,t)))))}_deregisterRange(e){this._rangesMap.delete(e)&&this._positionManager.deregisterRange(e)}_cleanupPendingRanges(){this._pendingRanges.forEach((([e,t])=>this._deregisterRange(t))),this._pendingRanges=[]}applyPendingRangesUpdate(){if(!this.pending)return C.none;const e=this._getRanges("highlight");this._ranges.replace.forEach(this._deregisterByRangeId),this._ranges.context.forEach(this._deregisterByRangeId),this._ranges.replace.clear(),this._ranges.context.clear(),this._ranges.highlight.clear();const t=this._getPendingRanges("highlight");return this._pendingRanges.forEach((([e,t])=>this._ranges[e].add(t))),this._pendingRanges=[],this.highlightRanges=this._getRanges("highlight"),this.contextRanges=this._getRanges("context"),this.replaceRange=this._getFirstRange("replace"),C.some({addedHighlightedRanges:t,removedHighlightedRanges:[e,()=>{e.forEach((e=>this._deregisterRange(e.meta.id)))}]})}_registerRanges(e,t,n,r){e.forEach((e=>{let i;const a=`${e.start},${e.end}`;n&&n.has(a)?i=n.get(a):(i=K.a.getRangeId(this._alertId,e.meta,this._rangesIndex++),this._rangesMap.set(i,this._positionManager.registerRange(i,r?this._rangeCreator(e):e)),n&&n.set(a,i)),t(i)}))}registerJoinedAppliedRanges(){(0,h.pipe)(A.ci([...Array.from(this._ranges.highlight),...Array.from(this._ranges.replace)]),C.map(A.Tj((e=>this._rangesMap.get(e)))),C.map(F.fold(_.vY.monoid)),C.map((e=>this._registerRanges((0,h.pipe)(e,K.l.create(K.l.Meta.Behavior.APPLIED,K.l.Meta.View.MAIN),this._positionManager.widen,s.of),(e=>this._ranges.applied.add(e))))))}registerHighlightRangesAsApplied(){const e=Array.from(this._ranges.highlight).map((e=>this._rangesMap.get(e))).map(K.l.create(K.l.Meta.Behavior.APPLIED,K.l.Meta.View.MAIN)).map(this._positionManager.widen);this._registerRanges(e,(e=>this._ranges.applied.add(e)))}get appliedRanges(){return(0,h.pipe)(this._getRanges("applied"),s.Tj((e=>()=>(0,h.pipe)(this._positionManager.narrow(e),C.getOrElse((()=>_.vY.create(e.start,e.start,e.meta)))))))}dispose(){this._rangesMap.forEach(((e,t)=>this._positionManager.deregisterRange(t))),this._rangesMap.clear()}constructor(e,t,n,i,a){(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alertId",void 0),(0,r._)(this,"_log",void 0),(0,r._)(this,"_normalizeIfApplicable",void 0),(0,r._)(this,"_rangeCreator",void 0),(0,r._)(this,"_rangesMap",void 0),(0,r._)(this,"_ranges",void 0),(0,r._)(this,"_pendingRanges",void 0),(0,r._)(this,"_deregisterByRangeId",void 0),(0,r._)(this,"_rangesIndex",void 0),(0,r._)(this,"highlightRanges",void 0),(0,r._)(this,"contextRanges",void 0),(0,r._)(this,"replaceRange",void 0),this._positionManager=e,this._alertId=t,this._log=m.Bx.Logging.getLogger("AlertRangeManager",m.y7.$.DEBUG),this._normalizeIfApplicable=e=>K.l.isFocusView(e)?e:this._normalize(e),this._rangeCreator=K.a.create(this._alertId),this._rangesMap=new Map,this._ranges={highlight:new Set,replace:new Set,applied:new Set,context:new Set},this._pendingRanges=[],this._deregisterByRangeId=e=>!this._ranges.highlight.has(e)&&this._deregisterRange(e),this._rangesIndex=0,this._log.trace("register ranges for alert",t);const o=new Map;this._registerRanges(i.map(this._normalizeIfApplicable),(e=>this._ranges.highlight.add(e)),o,this._alertId),this._registerRanges(a,(e=>this._ranges.context.add(e)),o,this._alertId),this._registerRanges(n,(e=>this._ranges.replace.add(e)),o),this.highlightRanges=this._getRanges("highlight"),this.replaceRange=this._getFirstRange("replace"),this.contextRanges=this._getRanges("context")}}var H,G,W,V,q,U,j,z,Q,Y,J,Z,X=n(56330),ee=n(62597),te=n(11783);!function(e){e.api="api",e.sidebar="sidebar",e.text="text"}(H||(H={})),function(e){e.FullSentence="FullSentence",e.Simple="Simple",e.Regular="Regular",e.OneGap="OneGap",e.Takeaway="Takeaway",e.Synfony="Synfony",e.ShortenIt="shortenIt",e.ToneAI="ToneAI",e.EthicalAI="EthicalAI",e.SuggestedSnippet="SuggestedSnippet",e.Citation="Citation",e.CitationDetection="CitationDetection",e.WritingExpert="WritingExpert"}(G||(G={})),function(e){e.correctlyDetected="correctlyDetected",e.incorrectlyDetected="incorrectlyDetected"}(W||(W={})),(V=G||(G={})).parse=function(e){return g.tI.isFullSentence(e)?G.FullSentence:"true"===e.underline_with_teaser?G.WritingExpert:"true"===e.citation?G.Citation:void 0!==e.citation_detection?G.CitationDetection:"true"===e.transform_with_button?G.Simple:"true"===e.gap_transform?G.OneGap:void 0!==e.takeawayScore?G.Takeaway:void 0!==e.drilldownTree?G.Synfony:"true"===e.shorten_it?G.ShortenIt:void 0!==e.tone_slider?G.ToneAI:void 0!==e.ethical_ai_external_link?G.EthicalAI:void 0!==e.suggested_snippet_text&&void 0!==e.suggested_snippet_lib_link?G.SuggestedSnippet:G.Regular},V.isFullSentence=function(e){return e===G.FullSentence},V.isSimple=function(e){return e===G.Simple},V.isOneGap=function(e){return e===G.OneGap},V.isSynfony=function(e){return e===G.Synfony},V.isShortenIt=function(e){return e===G.ShortenIt},V.isToneAI=function(e){return e===G.ToneAI},V.isEthicalAI=function(e){return e===G.EthicalAI},V.isCitation=function(e){return e===G.Citation},V.isCitationDetection=function(e){return e===G.CitationDetection},V.isSuggestedSnippet=function(e){return e===G.SuggestedSnippet},V.isWritingExpert=function(e){return e===G.WritingExpert},function(e){const t=(0,h.flow)(s.di(u.contramap((e=>e.order))(u.ordNumber)),s.Tj((e=>({key:e.key,text:e.reason}))));e.parse=(0,h.flow)(C.fromNullable,C.map((e=>({question:e.question,options:t(e.options)}))))}(q||(q={})),function(e){e.parse=C.fromNullable,e.isVox=e=>"Vox"===e.categoryTitle}(U||(U={})),function(e){e.fromCapiExtraProperties=function(e){return{hasAddToDictionary:"true"===e.add_to_dict,didYouMean:"true"===e.did_you_mean,showTitle:"true"===e.show_title,isEnhancement:"true"===e.enhancement,isBeta:"true"===e.beta,priority:parseInt(Boolean(e.priority)?e.priority:"0",10),tone:o.Jq(C.option)({emojiId:C.fromNullable(e.emoji_id),name:C.fromNullable(e.tone)}),vox:(0,h.pipe)(C.fromNullable(e.voxCompanyName),C.map((t=>({companyName:t,logoUrl:C.fromNullable(e.voxLogoUrl)})))),fluencyMessage:C.fromNullable(e.fluency_message),cardType:G.parse(e),isInQuotes:"true"===e.in_quotes,bulkAcceptable:"true"===e.bulk_acceptable,takeaway:C.fromEither(de.parseExtraProps(e)),takeawayBundleId:(0,h.pipe)(C.fromNullable(e.takeaway_bundle_id),C.filter(S.z2)),shortenIt:(0,h.pipe)(C.fromEither(pe.parseExtraProps(e)),C.map((t=>(0,a._)((0,i._)({},t),{alertState:e.shorten_it_alert_state?{summaryState:Y.SummaryState.fromString(e.shorten_it_alert_state.summaryState)}:void 0})))),toneAI:he.parseExtraProps(e),ethicalAI:fe.parseExtraProps(e),freePremium:C.fromNullable(e.free_premium),premiumYellowFooterVariant:C.fromNullable(e.premium_yellow_footer_variant),occasionalPromotion:C.fromNullable(e.occasional_promotion),drilldownTree:C.fromNullable(e.drilldownTree),suggestedSnippet:(0,h.pipe)(o.Jq(C.option)({snippetText:C.fromNullable(e.suggested_snippet_text),libLink:C.fromNullable(e.suggested_snippet_lib_link)}),C.map((t=>(0,a._)((0,i._)({},t),{snippetsTrigger:C.fromNullable(e.snippet_trigger)})))),citationDetection:(0,h.pipe)(e.citation_detection,y.T0.citationType.decode,C.fromEither),citationGap:(0,h.pipe)(e.citation_gap,C.fromNullable,C.map((e=>"true"===e))),citationItalicization:(0,h.pipe)(e.citation_italicization,C.fromNullable,C.map((e=>"true"===e))),autoapply:(0,h.pipe)(C.fromNullable(e.autoapply),C.map((e=>"true"===e))),knowledgeHubTermCreationUrl:C.fromNullable(e.knowledgeHubTermCreationUrl),vbar:"true"===e.vbar,underlineWithTeaser:"true"===e.underline_with_teaser}}}(j||(j={})),function(e){e.isWithAlternative=function(e){return void 0!==e.reversedAlternative},e.mock={action:g.yp.LOOKED,commit:h.constVoid,undo:h.constVoid}}(z||(z={})),function(e){var t=e.ordId=u.contramap((e=>e.id))(u.ordString),n=e.ordHRange=u.contramap((e=>e.getHighlightRanges()[0]))(_.vY.ord);e.ord=u.getSemigroup().concat(n,t)}(Q||(Q={})),function(e){let t;!function(e){e.notRequested="notRequested",e.requestSent="requestSent",e.received="received",e.invalidated="invalidated",e.notFound="notFound"}(t=e.SummaryState||(e.SummaryState={})),(t=e.SummaryState||(e.SummaryState={})).fromString=function(e){switch(e){case t.notRequested:return t.notRequested;case t.requestSent:return t.requestSent;case t.received:return t.received;case t.notFound:return t.notFound;case t.invalidated:return t.invalidated;default:return}}}(Y||(Y={})),function(e){e.ToneSlider=f.YO(f.NW({emoji_id:f.Yj,name:f.Yj}))}(J||(J={})),function(e){const t=(0,h.constant)(c.pG(void 0));e.mock={_applyAlert:t,_applyTransformJson:t,_alertFeedback:t,_alertBatchFeedback:(0,h.constant)(h.constVoid),_dismissBatch:t,_releaseRef:t,_notifyAlertUpdated:t,_changeMuteState:(0,h.constant)(c.pG(k.right([]))),_changeGapValue:t,_confirmApplied:t,_changeTakeawayFeedback:e=>ye.isTakeaway(e)?c.pG(e):c.kb(new Error("Not a Takeaway alert")),_shortenItSummaryNotFound:e=>ye.isShortenIt(e)?c.pG(e):c.kb(new Error("Not a ShortenIt alert")),_commitShortenItSummaryRequest:e=>ye.isShortenIt(e)?c.pG(e):c.kb(new Error("Not a ShortenIt alert")),_dismissShortenItTransformGroup:(e,t)=>ye.isShortenIt(e)?c.pG(e):c.kb(new Error("Not a ShortenIt alert")),_changeToneAIToneAlternative:e=>ye.isToneAI(e)?c.pG(e):c.kb(new Error("Not a ToneAI alert"))}}(Z||(Z={}));const ne=(0,h.flow)(Number,B.w.prism.getOption,C.getOrElse((()=>B.w.MIN)));class re{static _createId(e){return`${e}_${(this.idCounter++).toString()}`}get rawId(){return te.P.isKnown(this._raw)?C.some(this._raw.id):C.none}get state(){return this._state}get patternName(){return this._raw.pname}get patternNameQualifier(){return this._raw.pnameQualifier}get inline(){return this._raw.inline}get freePremium(){return this.extraProperties.freePremium}get disposed(){return this._disposed}get isRead(){return this._isRead}set isRead(e){this._log.trace("isRead#"+this.version,String(e)),this.bumpVersion(),this._isRead=e}get version(){return this._version}get mute(){return this._mute}set mute(e){this._log.trace("mute#"+this.version,String(e)),this.bumpVersion(),this._mute=e}get todoAction(){return this._raw.todo}get miniCardTitle(){return this._raw.minicardTitle}_registerAll(e,t,n,r,i=!0){(0,h.pipe)(t,k.fold((e=>this._registerRanges(C.some(e),n,r)),(t=>{this._registerRanges(C.none,n,r),i&&(0,h.pipe)(t,C.fold(h.constVoid,(t=>this._registerAlternatives(e,t))))})))}_deregisterAllAlternatives(){this._alertAlternativeManager=(0,h.pipe)(this._alertAlternativeManager,re._disposeAltManager),this._pendingAlertAlternativeManager=(0,h.pipe)(this._pendingAlertAlternativeManager,re._disposeAltManager)}_deregisterRanges(){this._alertRangeManager.dispose()}bumpVersion(){this._version++}copy(e=!0){(0,I.V1)(ye.isNotDisposed(this),"Cannot copy disposed alert!",(()=>this.toString()));const t=new this.constructor(this._raw,this._ops,this._positionManager,this._alternativeManager,(0,h.pipe)(this._replaceEither,k.bimap(_.vY.copy,C.map(v.EF.Group.copy))),this.getHighlightRanges().map(_.vY.copy),(0,h.pipe)(this.getContextRanges(),A.ci,C.map(A.Tj(_.vY.copy))),this.isRead,this.version+1,e);return this.isValid||t.invalidate(),t.from=C.some(this.id),t}get isValid(){return this._isValid}validate(){(0,I.V1)(C.isSome(this.rawId),"Cannot validate local alert",(()=>this.toString())),this._isValid=!0}invalidate(){return this._isValid=!1,this}clearCapiId(){te.P.isKnown(this._raw)&&(this._raw=this.toLocalRawAlert())}silentPatchWithRawAlert(e){this._raw=e,this._mute=ye.MuteStateType.fromMutedByType(this._raw.muted),this.progress=ne(e.extra_properties.progress),this.extraProperties=j.fromCapiExtraProperties(e.extra_properties)}patchWithRawAlert(e){this._log.trace("patchWithRawAlert#"+this.version,e),this.bumpVersion(),this.silentPatchWithRawAlert(e)}updateAlertWithManagedData(e){(0,I.V1)(0===this.references,"Cannot update referenced alert, use enqueueRawAlertForUpdate instead"),this._deregisterRanges(),this._deregisterAllAlternatives(),this._registerAll(e.rev,(0,h.pipe)(Se(e),k.map(C.map((e=>e.alternatives)))),we(e),Ce(e)),this.patchWithRawAlert(e)}registerReversedAlternative(e){return(0,h.pipe)(this._alertAlternativeManager,C.chain((0,h.flow)((t=>t.registerReversedAlternative(e)),k.mapLeft((t=>(this._log.error("Could not register reversed alternative",{error:t,reversedAlternative:e}),t))),C.fromEither)))}_registerAppliedRanges(){(0,h.pipe)(this._replaceEither,k.fold((()=>{this._alertRangeManager.registerJoinedAppliedRanges()}),(()=>{this._alertRangeManager.registerHighlightRangesAsApplied(),(0,h.pipe)(this._alertAlternativeManager,C.map((e=>e.deregisterAlternatives())))})))}switchToBeingAppliedState(e,t){(0,I.V1)(!ye.isApplied(this)&&!ye.isBeingApplied(this),"can not apply already applied or being applied alert",(()=>JSON.stringify({alert:this,source:e,method:t}))),ye.isRemoved(this)&&this._log.warn("Trying to switch removed to applied state",{alert:this,source:e,method:t}),this._registerAppliedRanges();const n=this.changeState(ye.State.Applied.createBeingApplied(e,t,M.Y.create(this))),r=this.getHighlightRanges().map(_.vY.copy),i=(0,h.pipe)(this.getContextRanges(),A.ci,C.map(A.Tj(_.vY.copy)));return{beingAppliedAlert:n,undo:()=>{ye.isRemoved(this)||ye.isBulkApplied(this)||this._registerAll(this._raw.rev,(0,h.pipe)(this.getReplaceEither(),k.map(C.map(A.Tj((e=>e.alternative))))),r,i)}}}apply(e){const{alternativeIndex:t,feedbackSubtype:n,source:r,reason:i,gbPrompt:a}=e;(0,I.V1)(ye.isNotDisposed(this),"Cannot apply already disposed alert",(()=>this.toString())),(0,h.pipe)(this._replaceEither,k.fold((()=>this._ops._applyAlert({alert:this,replacementText:(0,h.pipe)(ye.getReplacementText(this,t)(),T.$v),source:r,method:ye.State.Applied.Method.ByCard,feedbackSubtype:n,reason:i,gbPrompt:a})),(()=>this._ops._applyTransformJson({alerts:[{alert:this,alternative:ye.getApplicableAlternative(this,t)}],source:r,method:ye.State.Applied.Method.ByCard,feedbackSubtype:n,drilldownSuggestionIds:e.drilldownSuggestionIds,reason:i,gbPrompt:a}))),c.WL((e=>()=>{throw e})))()}equals(e){return Q.ordId.equals(this,e)}hashCode(){return(0,N.CG)(this.id)}isSameType(e){return this.patternName===e.patternName&&this.patternNameQualifier===e.patternNameQualifier&&this.title===e.title&&this.lensType===e.lensType&&this._raw.free===e._raw.free&&this.lensId===e.lensId}enqueueRawAlertForUpdate(e){(0,I.V1)((0,h.pipe)(this.rawId,E.Lw((t=>t===e.id))),`Cannot update alert with different id, this: ${(0,h.pipe)(this.rawId,C.toNullable)}, that: ${e.id}`);const t=Se(e);(0,I.V1)(k.isLeft(t)&&k.isLeft(this._replaceEither)||k.isRight(t)&&k.isRight(this._replaceEither),"Cannot change replace type on the go"),this._sanityCheck(e),this.patchWithRawAlert(e),this.highlightTexts=e.highlightText,(0,h.pipe)(t,k.fold((t=>{this._alertRangeManager.enqueueRanges([t],we(e),[])}),(t=>{this._alertRangeManager.enqueueRanges([],we(e),(0,h.pipe)(e,Ce,C.getOrElse((()=>[])))),(0,h.pipe)(this._pendingAlertAlternativeManager,C.map((e=>e.dispose()))),this._pendingAlertAlternativeManager=(0,h.pipe)(t,C.map((t=>O.register(this._alternativeManager,this.id,e.rev,t.alternatives))))})))}get hasNewRangesForUpdate(){return this._alertRangeManager.pending}applyPendingRangesUpdate(){const e=M.Y.create(this);this._log.trace("applyPendingRangesUpdate#"+this.version),this.bumpVersion(),(0,h.pipe)(this._pendingAlertAlternativeManager,E.Mi((()=>{(0,h.pipe)(this._alertAlternativeManager,C.map((e=>e.dispose()))),this._alertAlternativeManager=this._pendingAlertAlternativeManager,this._pendingAlertAlternativeManager=C.none})));const t=this._alertRangeManager.applyPendingRangesUpdate(),n=M.Y.create(this);return(0,h.pipe)(this._ops._notifyAlertUpdated(ke.create(e,n))(),k.mapLeft(this._log.handler("Could not update alert when applying pending ranges update").error)),t}hasMatchingHighlightsWith(e,t){return this.hasNewRangesForUpdate?this._alertRangeManager.hasMatchingPendingRanges(e.getHighlightRanges(),"highlight",t):this.getHighlightRanges().some((n=>e.getHighlightRanges().some((e=>t(n,e)))))}canBeMergedWith(e){return ye.isRemoved(this)?this.allowUpdate&&this.isSameType(e)&&this.hasMatchingHighlightsWith(e,_.vY.isOverlap)&&this.state.reason===ye.State.Removed.Reason.capiDone:this.hasMatchingHighlightsWith(e,_.vY.ord.equals)&&x.qm(this.highlightTexts,e.highlightTexts,((e,t)=>e===t))&&this.isSameType(e)}changeState(e){return this._log.trace("changeState#"+this.version,e),this.bumpVersion(),this._state=e,this}enqueueRangesRemove(e){const t=t=>!e.has(t);return this._alertRangeManager.enqueueRanges((0,h.pipe)(this.getReplaceEither(),k.fold((e=>[e]),(()=>[]))),this.getHighlightRanges().filter(t),this.getContextRanges().filter(t)),this}toString(){return"Alert: "+JSON.stringify(this.toJSON(),void 0,0)}toLiteString(){return`aid:${this.id} rid:${C.toNullable(this.rawId)}`}toJSON(){return(0,a._)((0,i._)({id:this.id,rawId:(0,h.pipe)(this.rawId,C.getOrElse((()=>"unknown"))),hranges:this.getHighlightRanges()},(0,h.pipe)(this.getReplaceEither(),k.fold((e=>({rrange:e})),(e=>({alts:(0,h.pipe)(e,C.map(s.Tj((e=>e.alternative.ops.map(v.hI.anonymize)))),C.toUndefined)}))))),{arange:(0,h.pipe)(this.getAppliedRanges(),C.fromPredicate(S.z2),C.toNullable),lensId:this.lensId,lensType:this.lensType,category:this._raw.category,patternName:this._raw.pname,patternNameQualifier:this._raw.pnameQualifier,impact:this._raw.impact,isValid:this._isValid,state:this.state.type,references:this._refNames,disposed:this._disposed,view:this._raw.view})}toLocalRawAlert(){return te.P.toLocal(this.toRawAlert())}toRawAlert(){const e=this.getHighlightRanges().map((e=>k.getOrElse((t=>(this._log.info("Alert cannot be restored",t),_.vY.copy(e))))(_.IL.restore(e)))),t=R.yo(this._raw,(0,i._)({isRead:this.isRead,muted:this._mute===ye.MuteStateType.Muted?g.xD.MutedByType.MUTED_BY_USER:void 0},(0,h.pipe)(this.getReplaceEither(),k.fold((e=>({begin:e.start,end:e.end})),(()=>({}))))));return R.yo(t,g.tI.match(this._raw,(()=>({highlightBegin:e[0].start,highlightEnd:e[0].end})),(t=>({transformJson:g.r5.create({alternatives:(0,h.pipe)(t.transformJson.alternatives,C.chain((()=>(0,h.pipe)(A.ci(this.getContextRanges())))),C.map(A.Tj((e=>({s:e.start,e:e.end})))),C.chain((e=>(0,h.pipe)(this.getReplaceEither(),T.$v,C.map((t=>({context:e,alternatives:(0,h.pipe)(t,A.Tj((e=>e.alternative)))}))))))),highlights:e.map((e=>({s:e.start,e:e.end,type:e.meta.vtype===K.l.Meta.View.FOCUS?"focus":e.meta.vtype===K.l.Meta.View.ENCLOSING?"enclosing":e.meta.vtype===K.l.Meta.View.MAIN_START?"main_start":"main"})))})})),(()=>({}))))}toLiteAlert(){return{group:this._raw.group,category:this._raw.category,categoryHuman:this._raw.categoryHuman,bundleInfo:(0,h.pipe)(this.bundleInfo,C.map((e=>e.title))),lensName:this.lensName,cost:1}}toLensAlert(){return{lensName:this._raw.cardLayout.group,isFree:this._raw.free,cost:1}}takeReference(e){return this._disposed?k.left(new I.zU("Can not take reference for already disposed",this.id)):-1!==this._refNames.indexOf(e)?k.left(new I.zU("can not take ref for same from twice",e)):(this._refNames.push(e),k.right({dispose:(0,h.pipe)((()=>x.o2(e,this._refNames)),l.g$(this._ops._releaseRef(e,this)),c.AU((e=>()=>this._log.error("Could not release ref",e)),h.constant),p.fromIO,p.delay(0))}))}dispose(){return this._log.isEnabled(m.y7.$.TRACE)&&this._log.trace("dispose alert call",new Error(`Alert(${this.toLiteString()})`).stack),(0,I.V1)(ye.isNotDisposed(this),"Cannot dispose already disposed",this.id),(0,I.V1)(0===this.references,"Cannot dispose alert in use",this.id),this._disposed=!0,this._deregisterAllAlternatives(),this._deregisterRanges(),this}switchToApplied(e){return(0,I.V1)(ye.State.Type.BEING_APPLIED===this.state.type,"Only being applied alert can be transitioned to applied"),this.changeState(ye.State.Applied.fromBeingApplied(this.state,e))}onRangeChange(e){return(0,I.V1)(ye.isNotDisposed(this),"Cannot change range on disposed alert!",(()=>this.toString())),ye.isApplied(this)&&e.some(K.l.hasBehavior(K.l.Meta.Behavior.APPLIED))||(()=>(e.some(K.l.hasBehavior(K.l.Meta.Behavior.HIGHLIGHT))||e.some(K.l.hasBehavior(K.l.Meta.Behavior.HIGHLIGHT_UPDATABLE))&&ye.highlightsCollapsed(this))&&!ye.isBulkApplied(this))()?C.some({state:ye.Transition.State.Dispose}):ye.isRegistered(this)&&e.some(K.l.hasBehavior(K.l.Meta.Behavior.CONTEXT))?C.some({state:ye.Transition.State.Pending,removedRanges:new Set}):C.none}_registerRanges(e,t,n){Boolean(this._alertRangeManager)&&this._alertRangeManager.dispose(),this._alertRangeManager=$.register(this._positionManager,this.id,(0,h.pipe)(e,C.fold((()=>[]),(e=>[e]))),t,(0,h.pipe)(n,C.getOrElse((()=>[]))))}get references(){return this._refNames.length}static castApplied(e){return(0,I.V1)(ye.isApplied(e),"can not cast not applied alert",(()=>e.toString())),e}constructor(e,t,n,i,a=Se(e),s=we(e),l=Ce(e),c=!0===e.isRead,u=0,d=!0){var p,f,y;(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"_replaceEither",void 0),(0,r._)(this,"_isRead",void 0),(0,r._)(this,"_version",void 0),(0,r._)(this,"_log",void 0),(0,r._)(this,"_disposed",void 0),(0,r._)(this,"id",void 0),(0,r._)(this,"priority",void 0),(0,r._)(this,"progress",void 0),(0,r._)(this,"extraProperties",void 0),(0,r._)(this,"dismissSurvey",void 0),(0,r._)(this,"acceptSurvey",void 0),(0,r._)(this,"gbPrompt",void 0),(0,r._)(this,"result",void 0),(0,r._)(this,"_state",void 0),(0,r._)(this,"belongsToAllAlerts",void 0),(0,r._)(this,"lensType",void 0),(0,r._)(this,"lensName",void 0),(0,r._)(this,"isFree",void 0),(0,r._)(this,"lensPriority",void 0),(0,r._)(this,"from",void 0),(0,r._)(this,"highlightTexts",void 0),(0,r._)(this,"replaceText",void 0),(0,r._)(this,"bundleInfo",void 0),(0,r._)(this,"prediction",void 0),(0,r._)(this,"allowUpdate",void 0),(0,r._)(this,"_mute",void 0),(0,r._)(this,"muteCategory",void 0),(0,r._)(this,"_isValid",void 0),(0,r._)(this,"_sanityCheck",void 0),(0,r._)(this,"_alertRangeManager",void 0),(0,r._)(this,"_alertAlternativeManager",void 0),(0,r._)(this,"_pendingAlertAlternativeManager",void 0),(0,r._)(this,"view",void 0),(0,r._)(this,"getHighlightRanges",void 0),(0,r._)(this,"getNotEnclosingHighlightRanges",void 0),(0,r._)(this,"getContextRanges",void 0),(0,r._)(this,"getReplaceEither",void 0),(0,r._)(this,"getAppliedRanges",void 0),(0,r._)(this,"_registerAlternatives",void 0),(0,r._)(this,"_refNames",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this._replaceEither=a,this._isRead=c,this._version=u,this._log=Ie("BaseAlert.impl",m.y7.$.DEBUG),this._disposed=!1,this.id=re._createId((0,h.pipe)(this.rawId,C.getOrElse((()=>"local")))),this.priority=0,this.progress=ne(this._raw.extra_properties.progress),this.extraProperties=j.fromCapiExtraProperties(this._raw.extra_properties),this.dismissSurvey=q.parse((null===(p=this._raw.userReasonSurveys)||void 0===p?void 0:p.find((e=>"dismiss"===e.action)))||this._raw.userReasons),this.acceptSurvey=q.parse(null===(f=this._raw.userReasonSurveys)||void 0===f?void 0:f.find((e=>"accept"===e.action))),this.gbPrompt=U.parse(this._raw.gbPrompt),this.result=C.fromNullable(this._raw.result),this._state=ye.State.init,this.belongsToAllAlerts=!1,this.lensType=ee.J.Type.fromRawAlert(this._raw),this.lensName=this._raw.cardLayout.group,this.isFree=this._raw.free,this.lensPriority=Boolean(this._raw.cardLayout)&&this._raw.cardLayout.rank||0,this.from=C.none,this.highlightTexts=this._raw.highlightText,this.replaceText=this._raw.text,this.bundleInfo=(0,h.pipe)(C.fromNullable(this._raw.cardLayout.bundle),C.map((e=>({title:e,rank:Boolean(this._raw.cardLayout.bundleRank)?this._raw.cardLayout.bundleRank:Number.MAX_SAFE_INTEGER})))),this.prediction=C.fromNullable(this._raw.cardLayout.prediction),this.allowUpdate=!0===this._raw.updatable,this._mute=ye.MuteStateType.fromMutedByType(this._raw.muted),this.muteCategory=o.Jq(C.option)({id:(0,h.pipe)(C.fromNullable(this._raw.cardLayout.userMuteCategory),C.map((e=>e))),description:C.fromNullable(this._raw.cardLayout.userMuteCategoryDescription)}),this._isValid=!1,this._sanityCheck=(y=this._raw,g.tI.match(y,(()=>e=>{(0,I.V1)(g.tI.withPosition(e),"raw alert should be withPosition"),void 0!==e.transforms&&(0,I.V1)(e.transforms.length===e.replacements.length,`Every transform should have replacement, bro, tr: ${e.transforms}, rep: ${e.replacements}. AlertId: ${e.id}`)}),(()=>e=>(0,I.V1)(g.tI.withTransformJson(e),"raw alert should be withTransform")),(()=>e=>{(0,I.V1)(g.tI.withSubalerts(e),"raw alert should be withSubalerts"),(0,I.V1)((0,h.pipe)(e.subalerts.alternatives,E.Lw((t=>t.alternatives.length===e.labels.length))),"SuperAlert doesnt have any labels OR transformJson alternatives length is not equal to the number of labels",(()=>e.toString()))}))),this._alertAlternativeManager=C.none,this._pendingAlertAlternativeManager=C.none,this.view=Boolean(this._raw.view)?this._raw.view:g.tI.View.all,this.getHighlightRanges=()=>this._alertRangeManager.highlightRanges,this.getNotEnclosingHighlightRanges=()=>this._alertRangeManager.highlightRanges.filter((0,S.AU)(K.l.isEnclosingView)),this.getContextRanges=()=>this._alertRangeManager.contextRanges,this.getReplaceEither=()=>(0,h.pipe)(this._replaceEither,k.bimap((()=>this._alertRangeManager.replaceRange),(()=>(0,h.pipe)(this._alertAlternativeManager,C.map((e=>e.alternatives)))))),this.getAppliedRanges=()=>this._alertRangeManager.appliedRanges,this._registerAlternatives=(e,t)=>{this._deregisterAllAlternatives(),this._alertAlternativeManager=C.some(O.register(this._alternativeManager,this.id,e,t))},this._refNames=[],this._sanityCheck(e),this._registerAll(e.rev,(0,h.pipe)(a,k.map(C.map((e=>e.alternatives)))),s,l,d)}}(0,r._)(re,"idCounter",0),(0,r._)(re,"_disposeAltManager",C.chain((e=>(e.dispose(),C.none))));class ie extends re{get counters(){return{cost:1,critical:0,advanced:1,priority:0,free:0,freePremium:0,paid:1,unread:0,muted:0,textLength:0}}constructor(...e){super(...e),(0,r._)(this,"title",""),(0,r._)(this,"lensId",ee.J.SpecialId.Premium),(0,r._)(this,"alertType",ye.Type.Premium),(0,r._)(this,"group",this._raw.group),(0,r._)(this,"category",this._raw.category),(0,r._)(this,"isFree",this._raw.free),(0,r._)(this,"categoryHuman",this._raw.categoryHuman),(0,r._)(this,"allowDuplicates",!0),(0,r._)(this,"hasNestedHighlights",!1),(0,r._)(this,"_isRead",!0),(0,r._)(this,"labels",[]),(0,r._)(this,"transform",C.none)}}class ae extends re{_parsePlagiarismExtraProps(e){var t,n,r;return"PUBLICATION"===e.source?{source:"publication",authors:C.fromNullable(e.authors),citationStyle:{apa:null!==(t=e.reference_apa)&&void 0!==t?t:"",chicago:null!==(n=e.reference_chicago)&&void 0!==n?n:"",mla:null!==(r=e.reference_mla)&&void 0!==r?r:""},paraphrased:"true"===e.paraphrased}:{source:"web",url:C.fromNullable(e.url),paraphrased:"true"===e.paraphrased}}constructor(...e){var t;super(...e),(0,r._)(this,"lensType",ee.J.Type.Plagiarism),(0,r._)(this,"lensId",ee.J.SpecialId.Plagiarism),(0,r._)(this,"alertType",ye.Type.Plagiarism),(0,r._)(this,"allowDuplicates",!0),(0,r._)(this,"hasNestedHighlights",!1),(0,r._)(this,"counters",{cost:1,priority:0,critical:0,advanced:0,free:0,freePremium:0,paid:0,unread:0,muted:ye.isMuted(this)?1:0,textLength:this._raw.highlightText.map((e=>e.length)).reduce(S.cz,0)}),(0,r._)(this,"plagiarismType",this._parsePlagiarismExtraProps(this._raw.extra_properties)),(0,r._)(this,"title",null!==(t=this._raw.extra_properties.title)&&void 0!==t?t:""),(0,r._)(this,"labels",[]),(0,r._)(this,"cardId",JSON.stringify({title:this.title,source:this.plagiarismType.source})),(0,r._)(this,"_isRead",!0),(0,r._)(this,"transform",C.none)}}class oe extends re{get title(){return this._raw.title}get details(){return P.L.string(this._raw.details)}get counters(){if(ye.isBulkApplied(this))return D.K.empty;const e=this._raw.impact===g.tI.Impact.Critical?1:0,t=this._raw.impact===g.tI.Impact.Advanced?1:0,n=this._raw.free?1:0,r="unlocked"===this._raw.extra_properties.free_premium?1:0,i=this._raw.free?0:1;return{cost:1,priority:ye.isPriority(this)?1:0,critical:e,advanced:t,free:n,freePremium:r,paid:i,unread:Number(!this.isRead),textLength:0,muted:ye.isMuted(this)?1:0}}get transform(){return(0,h.pipe)(this.getReplaceEither(),k.fold((()=>(0,h.pipe)(this._raw.replacements,L.FM,C.map((e=>(0,h.pipe)(this._raw.transforms,L.FM,C.fold((()=>({kind:"replacement",content:e})),(e=>({kind:"transform",content:e}))),k.left))))),(0,h.flow)(C.map(A.Tj((e=>e.alternative))),C.map((e=>k.right({cardType:this.extraProperties.cardType,drilldown:this.extraProperties.drilldownTree,alternatives:e}))))),C.map((e=>({id:this.id,revision:(0,h.pipe)(this._alertAlternativeManager,C.fold((()=>this._raw.rev),(e=>e.rev))),todo:this._raw.todo,content:e}))))}onRangeChange(e){(0,I.V1)(ye.isNotDisposed(this),"Cannot change range on disposed alert!",(()=>this.toString()));const t=e.filter(K.l.hasBehavior(K.l.Meta.Behavior.HIGHLIGHT_UPDATABLE));return t.length>0&&!ye.highlightsCollapsed(this)?C.some({state:ye.Transition.State.Pending,removedRanges:new Set(t.filter(K.l.isFocusView))}):super.onRangeChange(e)}enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this.explanation=e.explanation}copy(e=!0){const t=super.copy(e);return t.explanation=this.explanation,t}constructor(...e){super(...e),(0,r._)(this,"lensId",T.$v(ee.J.OutcomeId.toOutcomeId(this._raw.cardLayout.outcome))),(0,r._)(this,"allowDuplicates",!1),(0,r._)(this,"hasNestedHighlights",ye.hasNestedHighlights(this)),(0,r._)(this,"isFree",this._raw.free),(0,r._)(this,"explanation",this._raw.explanation),(0,r._)(this,"examples",X.R.parse(this._raw.examples,this._raw.point.includes("Italicization"))),(0,r._)(this,"priority",this.extraProperties.priority),(0,r._)(this,"belongsToAllAlerts",!0),(0,r._)(this,"labels",this._raw.replacements.map((e=>({label:e,replacementTexts:[e],matches:1}))))}}class se extends oe{constructor(...e){super(...e),(0,r._)(this,"alertType",ye.Type.Default)}}class le extends oe{constructor(...e){super(...e),(0,r._)(this,"alertType",ye.Type.Synfony)}}class ce extends oe{enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this.labels=e.labels}updateAlertWithManagedData(e){super.updateAlertWithManagedData(e),this.labels=e.labels}constructor(...e){super(...e),(0,r._)(this,"labels",this._raw.labels),(0,r._)(this,"alertType",ye.Type.Super)}}class ue extends se{get gapValue(){return this._gapValue}changeGapValue(e){return this.bumpVersion(),this._gapValue=e,this}copy(e=!0){const t=super.copy(e);return t._gapValue=this._gapValue,t}constructor(...e){super(...e),(0,r._)(this,"_gapValue","")}}class de extends oe{setFeedback(e){return this.bumpVersion(),this._takeawayFeedback=C.some(e),this}get takeawayScore(){return this._takeawayScore}get takeawayIsLikelyToBeRead(){return this._takeawayIsLikelyToBeRead}get takeawayFeedback(){return this._takeawayFeedback}get miniCardTitle(){return this._miniCardTitle}get title(){return this._title}get details(){return this._details}enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this._miniCardTitle=e.minicardTitle,this._title=e.title,this._details=P.L.string(e.details),(0,h.pipe)(de.parseExtraProps(e.extra_properties),k.fold((e=>{throw new Error(`Cannot update Takeaway alert: ${e}`)}),(e=>{this._takeawayScore=e.score,this._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,this._takeawayFeedback=e.feedbackState})))}copy(e=!0){const t=super.copy(e);return t._takeawayScore=this._takeawayScore,t._takeawayIsLikelyToBeRead=this._takeawayIsLikelyToBeRead,t._takeawayFeedback=this._takeawayFeedback,t._miniCardTitle=this._miniCardTitle,t._title=this._title,t._details=this._details,t}static parseExtraProps(e){return(0,h.pipe)(k.fromNullable("takeawayScore is missing")(e.takeawayScore),k.map((t=>({score:parseFloat(t),isLikelyToBeRead:(0,h.pipe)(C.fromNullable(e.isLikelyToReadTakeaway),C.fold(h.constFalse,(e=>"true"===e))),feedbackState:(0,h.pipe)(C.fromNullable(e.takeawayFeedback),C.chain((e=>e===W.correctlyDetected?C.some(W.correctlyDetected):e===W.incorrectlyDetected?C.some(W.incorrectlyDetected):(0,I.xb)(e))))}))))}static calculateHashCode(e){return(0,N.CG)(`${e.id}-${C.getShow(d.N4).show(e.takeawayFeedback)}-${e.takeawayIsLikelyToBeRead}-${e.title}-${e.miniCardTitle}-${e.explanation}-${e.details}`)}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_takeawayScore",void 0),(0,r._)(this,"_takeawayIsLikelyToBeRead",void 0),(0,r._)(this,"_takeawayFeedback",void 0),(0,r._)(this,"_miniCardTitle",void 0),(0,r._)(this,"_title",void 0),(0,r._)(this,"_details",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.Takeaway,this._takeawayScore=0,this._takeawayIsLikelyToBeRead=!1,this._takeawayFeedback=C.none,this._miniCardTitle="",this._title="",this._details=C.none,(0,h.pipe)(this.extraProperties.takeaway,E.Mi((e=>{this._takeawayScore=e.score,this._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,this._takeawayFeedback=e.feedbackState}))),this._miniCardTitle=e.minicardTitle,this._title=e.title,this._details=P.L.string(e.details)}}class pe extends oe{get todoAction(){return this._todoAction}get sentenceCount(){return this._sentenceCount}get wordCount(){return this._wordCount}get compressionRatio(){return this._compressionRatio}get summaryState(){return this._summaryState}get dismissedTransformGroups(){return this._dismissedTransformGroups}get transformGroups(){return(0,h.pipe)(this.transform,C.chain((e=>C.fromEither(e.content))),C.map((e=>(0,h.pipe)(e.alternatives,A.d5))),C.map((e=>v.EF.getTransformGroups(e))),C.getOrElse((()=>new Set)))}changeSummaryState(e){const t=(0,h.pipe)(e,(e=>{switch(e){case"requestSent":return Y.SummaryState.requestSent;case"notFound":return Y.SummaryState.notFound;default:(0,I.xb)(e)}}));return this.bumpVersion(),this._summaryState=t,this}dismissTransformGroup(e){if(!this._dismissedTransformGroups.has(e)){this._dismissedTransformGroups.add(e);const t=this._deleteRangesGroups.findIndex((t=>t===e));if(t>=0){this._deleteRangesGroups.splice(t,1);const e=t+1,n=this.getHighlightRanges();(0,I.V1)(e<n.length,"range to remove is out of bounds"),this.enqueueRangesRemove(new Set([n[e]]))}this.bumpVersion()}return this}_enqueueRawAlertTransformForUpdate(e){const t=Se(e);(0,I.V1)(k.isRight(t)&&k.isRight(this._replaceEither),"Cannot change replace type on the go"),this._replaceEither=t,this.highlightTexts=e.highlightText,this._deleteRangesGroups=(0,h.pipe)(this._replaceEither,k.fold((()=>[]),C.fold((()=>[]),(e=>v.EF.getDeleteOpsGroupsList(e.alternatives[0]))))),(0,h.pipe)(this._replaceEither,k.map((t=>{this._alertRangeManager.enqueueRanges([],we(e),(0,h.pipe)(e,Ce,C.getOrElse((()=>[])))),(0,h.pipe)(this._pendingAlertAlternativeManager,C.map((e=>e.dispose()))),this._pendingAlertAlternativeManager=(0,h.pipe)(t,C.map((t=>O.register(this._alternativeManager,this.id,e.rev,t.alternatives))))})))}enqueueRawAlertForUpdate(e){(0,I.V1)((0,h.pipe)(this.rawId,E.Lw((t=>t===e.id))),`Cannot update alert with different id, this: ${(0,h.pipe)(this.rawId,C.toNullable)}, that: ${e.id}`),this._sanityCheck(e),this.patchWithRawAlert(e),(0,h.pipe)(this.extraProperties.shortenIt,E.Mi((e=>{this._sentenceCount=e.sentenceCount,this._wordCount=e.wordCount,this._compressionRatio=e.compressionRatio})));let t=!1;switch(this._summaryState){case Y.SummaryState.notRequested:break;case Y.SummaryState.requestSent:g.tI.withAlternatives(e)?(this._summaryState=Y.SummaryState.received,this._dismissedTransformGroups=new Set):t=!0;break;case Y.SummaryState.received:g.tI.withAlternatives(e)||(this._summaryState=Y.SummaryState.invalidated,t=!0);break;case Y.SummaryState.invalidated:t=!0;break;case Y.SummaryState.notFound:break;default:(0,I.xb)(this._summaryState)}t||(this.explanation=e.explanation,this._todoAction=e.todo,this._enqueueRawAlertTransformForUpdate(e))}copy(e=!0){const t=super.copy(e);return t._sentenceCount=this._sentenceCount,t._wordCount=this._wordCount,t._compressionRatio=this._compressionRatio,t._todoAction=this._todoAction,t._summaryState=this._summaryState,t._dismissedTransformGroups=new Set(this._dismissedTransformGroups),t._deleteRangesGroups=this._deleteRangesGroups,t}static parseExtraProps(e){var t,n;return(0,h.pipe)(e.shorten_it,k.fromPredicate((e=>"true"===e),(0,h.constant)("not a ShortenIt alert")),k.chain((()=>o.Jq(k.either)({sentenceCount:(0,h.pipe)(T.Su(null!==(t=e.sentence_count)&&void 0!==t?t:""),k.mapLeft((0,h.constant)(`invalid sentence_count: got ${e.sentence_count}`))),wordCount:(0,h.pipe)(T.Su(null!==(n=e.word_count)&&void 0!==n?n:""),k.mapLeft((0,h.constant)(`invalid word_count: got ${e.word_count}`))),compressionRatio:void 0===e.shorten_it_compression_ratio?k.right(B.w.unsafeFromNumber(0)):(0,h.pipe)(T.sS(e.shorten_it_compression_ratio),k.mapLeft((0,h.constant)(`invalid shorten_it_compression_ratio: got ${e.shorten_it_compression_ratio}`)),k.chain(B.w.fromNumber))}))))}static calculateHashCode(e){return(0,N.Ej)({dismissedTransformGroups:Array.from(e.dismissedTransformGroups.values()).sort().join("|"),id:e.id,patternName:e.patternName,sentenceCount:e.sentenceCount,wordCount:e.wordCount,compressionRatio:B.w.unwrap(e.compressionRatio),summaryState:e.summaryState})}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_todoAction",void 0),(0,r._)(this,"_sentenceCount",void 0),(0,r._)(this,"_wordCount",void 0),(0,r._)(this,"_compressionRatio",void 0),(0,r._)(this,"_summaryState",void 0),(0,r._)(this,"_dismissedTransformGroups",void 0),(0,r._)(this,"_deleteRangesGroups",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.ShortenIt,this._todoAction="",this._sentenceCount=0,this._wordCount=0,this._compressionRatio=B.w.unsafeFromNumber(0),this._summaryState=Y.SummaryState.notRequested,this._dismissedTransformGroups=new Set,this._deleteRangesGroups=[],(0,h.pipe)(this.extraProperties.shortenIt,E.Mi((t=>{var n,r;this._sentenceCount=t.sentenceCount,this._wordCount=t.wordCount,this._compressionRatio=t.compressionRatio,this._summaryState=null!==(r=null===(n=t.alertState)||void 0===n?void 0:n.summaryState)&&void 0!==r?r:g.tI.withAlternatives(e)?Y.SummaryState.received:Y.SummaryState.notRequested}))),this._todoAction=e.todo,this._deleteRangesGroups=(0,h.pipe)(this._replaceEither,k.fold((()=>[]),C.fold((()=>[]),(e=>v.EF.getDeleteOpsGroupsList(e.alternatives[0])))))}}class he extends oe{get toneAlternatives(){return this._toneAlternatives}get selectedToneAlternativeIdx(){return this._selectedToneAlternativeIdx}setSelectedToneAlternativeIdx(e){return this.bumpVersion(),this._selectedToneAlternativeIdx=e,this}copy(e=!0){const t=super.copy(e);return t._toneAlternatives=this._toneAlternatives,t._selectedToneAlternativeIdx=this._selectedToneAlternativeIdx,t}static parseExtraProps(e){const t=Ie("ToneAIAlertImpl.parseExtraProps",m.y7.$.DEBUG);return(0,h.pipe)(C.fromNullable(e.tone_slider),C.chain((e=>(0,h.pipe)(k.tryCatch((()=>JSON.parse(e)),(()=>"invalid extra_properties.tone_slider JSON")),k.chain((e=>(0,h.pipe)(J.ToneSlider.decode(e),k.mapLeft((e=>`cannot decode extra_properties.tone_slider ${JSON.stringify(e)}`))))),k.map((e=>e.map((e=>({emojiID:e.emoji_id,name:e.name}))))),k.filterOrElse((e=>e.length>1),(e=>`expected extra_properties.tone_slider length to be greater than 1, but found ${e.length}`)),k.bimap((e=>t.error(`Cannot parse extra_properties for ToneAI alert: ${e}`)),(e=>({toneAlternatives:e}))),C.fromEither))))}static calculateHashCode(e){return(0,N.Ej)({id:e.id,selectedToneAlternativeIdx:e.selectedToneAlternativeIdx})}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_toneAlternatives",void 0),(0,r._)(this,"_selectedToneAlternativeIdx",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.ToneAI;const a=E.$v(this.extraProperties.toneAI);this._toneAlternatives=a.toneAlternatives,this._selectedToneAlternativeIdx=1}}class fe extends oe{get externalLink(){return this._externalLink}get emojiID(){return this._emojiID}get bannerColors(){return this._bannerColors}get isFlaggable(){return this._isFlaggable}get shouldDismissAfterOpeningLink(){return this._shouldDismissAfterOpeningLink}get highlightBackgroundColor(){return this._highlightBackgroundColor}get highlightUnderlineColor(){return this._highlightUnderlineColor}copy(e=!0){const t=super.copy(e);return t._externalLink=this._externalLink,t._emojiID=this._emojiID,t._bannerColors=this._bannerColors,t._isFlaggable=this._isFlaggable,t}static parseExtraProps(e){return(0,h.pipe)(e,C.fromPredicate((e=>Boolean(e.ethical_ai_external_link))),C.map((e=>{let t,n;if(void 0!==e.ethical_ai_is_flaggable)try{t=JSON.parse(e.ethical_ai_is_flaggable)}catch(e){t=!0}else t=!0;if(void 0!==e.ethical_ai_should_dismiss_after_opening_link)try{n=JSON.parse(e.ethical_ai_should_dismiss_after_opening_link)}catch(e){n=!1}else n=!1;return{externalLink:e.ethical_ai_external_link,emojiID:e.ethical_ai_emoji_id,bannerColors:void 0!==e.ethical_ai_banner_colors&&""!==e.ethical_ai_banner_colors.trim()?e.ethical_ai_banner_colors.split(","):void 0,isFlaggable:t,shouldDismissAfterOpeningLink:n,highlightBackgroundColor:e.ethical_ai_highlight_background_color,highlightUnderlineColor:e.ethical_ai_highlight_underline_color}})))}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_externalLink",void 0),(0,r._)(this,"_emojiID",void 0),(0,r._)(this,"_bannerColors",void 0),(0,r._)(this,"_isFlaggable",void 0),(0,r._)(this,"_shouldDismissAfterOpeningLink",void 0),(0,r._)(this,"_highlightBackgroundColor",void 0),(0,r._)(this,"_highlightUnderlineColor",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.EthicalAI;const a=E.$v(this.extraProperties.ethicalAI);this._externalLink=a.externalLink,this._emojiID=a.emojiID,this._bannerColors=a.bannerColors,this._isFlaggable=a.isFlaggable,this._shouldDismissAfterOpeningLink=a.shouldDismissAfterOpeningLink,this._highlightBackgroundColor=a.highlightBackgroundColor,this._highlightUnderlineColor=a.highlightUnderlineColor}}class me extends oe{get snippetText(){return this._snippetText}get libLink(){return this._libLink}get snippetsTrigger(){return this._snippetsTrigger}copy(e=!0){const t=super.copy(e);return t._snippetText=this._snippetText,t._snippetText=this._libLink,t}static calculateHashCode(e){return(0,N.CG)(e)}hashCode(){return 31*super.hashCode()+me.calculateHashCode(this._snippetText)}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_snippetText",void 0),(0,r._)(this,"_libLink",void 0),(0,r._)(this,"_snippetsTrigger",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.SuggestedSnippet,(0,I.V1)(C.isSome(this.extraProperties.suggestedSnippet),"Tried to create SuggestedSnippetAlert without providing a snippet text."),this._snippetText=this.extraProperties.suggestedSnippet.value.snippetText,this._libLink=this.extraProperties.suggestedSnippet.value.libLink,this._snippetsTrigger=this.extraProperties.suggestedSnippet.value.snippetsTrigger}}class ge extends oe{get knowledgeHubTermCreationUrl(){return this._knowledgeHubTermCreationUrl}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_knowledgeHubTermCreationUrl",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.KnowledgeHubSuggestedTerm,(0,I.V1)(C.isSome(this.extraProperties.knowledgeHubTermCreationUrl),"Tried to create KnowledgeHubSuggestedTermAlert without providing a term creation url."),this._knowledgeHubTermCreationUrl=this.extraProperties.knowledgeHubTermCreationUrl.value}}var ye;!function(e){let t;!function(e){e.Default="default",e.Plagiarism="plagiarism",e.Super="super",e.Premium="premium",e.Takeaway="takeaway",e.Synfony="synfony",e.ShortenIt="shortenIt",e.ToneAI="toneAI",e.EthicalAI="ethicalAI",e.SuggestedSnippet="suggestedSnippet",e.KnowledgeHubSuggestedTerm="knowledgeHubSuggestedTerm"}(t=e.Type||(e.Type={})),e.fromAlertModel=function(e){return e.alert},e.getReplacementText=(e,t)=>()=>T.zb((()=>{const n=e._raw.replacements[t];return(0,I.V1)(void 0!==n,"Unknown alternativeIndex",(()=>`alternativeIndex(${t}) `+e.toString())),n})),e.getApplicableAlternative=(e,t)=>()=>T.zb((()=>{(0,I.V1)((0,h.pipe)(e.getReplaceEither(),k.exists(C.isSome)),"Alert doesn't have any deltas to be applied",e.toString());const{alternative:r}=(0,h.pipe)(e.getReplaceEither(),T.$v,E.$v)[t];return(0,I.V1)(void 0!==r,"Unknown alternativeIndex",(()=>`alternativeIndex(${t}) `+e.toString())),{alternative:n(e,r),alternativeIndex:t}}));const n=(e,t)=>R(e)?v.EF.fillGaps(t,e.gapValue):x(e)?v.EF.dismissTransformGroups(t,e.dismissedTransformGroups):t;let r,o,l,c,d;function p(e){return ye.State.isBulkApplied(e.state)}function f(e){return e.state.type===ye.State.Type.REGISTERED}function m(e){return e.state.type===ye.State.Type.REMOVED}function y(e){return m(e)&&e.state.reason===ye.State.Removed.Reason.duplicated}function x(e){return e.alertType===ye.Type.ShortenIt}function R(e){return G.isOneGap(e.extraProperties.cardType)}function P(e){return(0,h.pipe)(e.extraProperties.freePremium,E.gR("unlocked"))}function L(e){return(0,h.pipe)(e.extraProperties.freePremium,E.gR("locked"))}function N(e){return(0,h.pipe)(e.extraProperties.freePremium,E.gR("uphook"))}function M(e){return e.lensId===ee.J.SpecialId.Premium}function O(e){return e.alertType===ye.Type.Default||e.alertType===ye.Type.Super||e.alertType===ye.Type.Takeaway||e.alertType===ye.Type.Synfony||e.alertType===ye.Type.ShortenIt||e.alertType===ye.Type.ToneAI||e.alertType===ye.Type.EthicalAI||e.alertType===ye.Type.SuggestedSnippet||e.alertType===ye.Type.KnowledgeHubSuggestedTerm}!function(e){let t;!function(e){e[e.Pending=0]="Pending",e[e.Dispose=1]="Dispose"}(t=e.State||(e.State={}))}(r=e.Transition||(e.Transition={})),function(e){e.IDLE="idle",e.CHECKING="checking"}(o=e.CheckingState||(e.CheckingState={})),function(e){let t,n,r,s;function l(e){return ye.State.Type.REGISTERED===e.type}!function(e){e.REGISTERED="REGISTERED",e.BEING_APPLIED="BEING_APPLIED",e.APPLIED="APPLIED",e.REMOVED="REMOVED"}(t=e.Type||(e.Type={})),e.isIdle=function(e){return e.type===ye.State.Type.REGISTERED&&e.checkingState===o.IDLE},function(e){e.create=e=>({type:t.REGISTERED,checkingState:e})}(n=e.Registered||(e.Registered={})),function(e){let n;e.create=(e,n,r,i)=>({type:t.APPLIED,from:i,undoable:e,source:n,method:r}),e.fromBeingApplied=(e,n)=>(0,a._)((0,i._)({},e),{type:t.APPLIED,undoable:n}),e.createBeingApplied=(e,n,r)=>({type:t.BEING_APPLIED,from:r,source:e,method:n}),function(e){e.ByCard="ByCard",e.Bulk="Bulk"}(n=e.Method||(e.Method={}))}(r=e.Applied||(e.Applied={})),function(e){let n;!function(e){e.textChange="textChange",e.capiDone="capiDone",e.capiDismiss="capiDismiss",e.duplicated="duplicated",e.canceled="canceled",e.bulkAcceptUserResponse="bulkAcceptUserResponse"}(n=e.Reason||(e.Reason={})),e.create=e=>({type:t.REMOVED,reason:e})}(s=e.Removed||(e.Removed={})),e.init=n.create(o.IDLE),e.isBulkApplied=function(e){return ye.State.Type.APPLIED===e.type&&e.method===ye.State.Applied.Method.Bulk},e.isRegistered=l,e.isRemoved=function(e){return ye.State.Type.REMOVED===e.type},e.isBeingApplied=function(e){return ye.State.Type.BEING_APPLIED===e.type},e.getCheckingState=function(e){return l(e)?e.checkingState:o.IDLE}}(l=e.State||(e.State={})),function(e){e.Muted="Muted",e.Unmuted="Unmuted"}(c=e.MuteStateType||(e.MuteStateType={})),function(e){e.fromMutedByType=e=>e===g.xD.MutedByType.MUTED_BY_USER?ye.MuteStateType.Muted:ye.MuteStateType.Unmuted}(c=e.MuteStateType||(e.MuteStateType={})),e.hasNestedHighlights=function(e){const t=e.getHighlightRanges();if(t.length<2)return!1;if(t.some(K.l.isEnclosingView))return!0;const{left:n,right:r}=s.jB(K.l.isMainView)(t);return 0!==n.length&&r.some((e=>n.some((t=>_.vY.contains(t,e)))))},e.hasEnclosingHighlight=function(e){return e.getHighlightRanges().some(K.l.isEnclosingView)},e.isApplied=function(e){return e.state.type===ye.State.Type.APPLIED},e.isBeingApplied=function(e){return e.state.type===ye.State.Type.BEING_APPLIED},e.isBeingAppliedinBulk=function(e){return e.state.type===ye.State.Type.BEING_APPLIED&&e.state.method===ye.State.Applied.Method.Bulk},e.isInteractable=function(e){return f(e)||p(e)},e.isBulkApplied=p,e.isAccepted=function(e){return ye.isApplied(e)&&e.state.undoable.action===g.yp.ACCEPTED},e.isRegistered=f,e.isNotRegistered=function(e){return e.state.type!==ye.State.Type.REGISTERED},e.isRemoved=m,e.isRemovedByTextChange=function(e){return m(e)&&e.state.reason===ye.State.Removed.Reason.textChange},e.isNotRemoved=function(e){return e.state.type!==ye.State.Type.REMOVED},e.isCapiDone=function(e){return m(e)&&e.state.reason===ye.State.Removed.Reason.capiDone},e.isDuplicated=function(e){return y(e)},e.isInDuplicatedState=y,e.isCritical=function(e){return e.lensType===ee.J.Type.Critical||e.lensType===ee.J.Type.Correctness},e.isCriticalImpact=function(e){return e._raw.impact===g.tI.Impact.Critical},e.isHidden=function(e){return e._raw.hidden},e.getRawId=function(e){return e.rawId},e.isPlagiarism=function(e){return e.lensId===ee.J.SpecialId.Plagiarism},e.isVox=function(e){return O(e)&&C.isSome(e.extraProperties.vox)},e.isTakeaway=function(e){return e.alertType===ye.Type.Takeaway},e.isShortenIt=x,e.isToneAI=function(e){return e.alertType===ye.Type.ToneAI},e.isEthicalAI=function(e){return e.alertType===ye.Type.EthicalAI},e.isCitationDetection=function(e){return C.isSome(e.extraProperties.citationDetection)},e.isOneGap=R,e.isRated=function(e){return u.gt(B.w.ord)(e.progress,B.w.MIN)},e.isPremium=function(e){return M(e)},e.isFreePremium=P,e.isLocked=L,e.isLockedUIUphook=N,e.isLockedUIAlert=function(e){return L(e)||P(e)||N(e)},e.isPriority=function(e){return e.view===g.tI.View.priority},e.isInPremiumLens=M,e.isApplicableAlert=O,e.isRegisteredApplicableAlert=function(e){return f(e)&&O(e)},e.isSuperAlert=function(e){return e.alertType===ye.Type.Super},e.isSuggestedSnippet=function(e){return e.alertType===ye.Type.SuggestedSnippet},e.isKnowledgeHubSuggestedTerm=function(e){return e.alertType===ye.Type.KnowledgeHubSuggestedTerm},e.isCacheable=function(e){return ye.isRegistered(e)&&(0,S.Ub)(ye.isVbar,ye.isWithTeaser)(e)&&!ye.isPlagiarism(e)&&!ye.isRated(e)&&!ye.isSuperAlert(e)},e.isVbar=function(e){return e.extraProperties.vbar},e.isWithTeaser=function(e){return e.extraProperties.underlineWithTeaser},e.belongsToAllAlerts=function(e){return e.belongsToAllAlerts},e.belongsToPriorityLens=function(e){return ye.belongsToAllAlerts(e)&&ye.isPriority(e)},e.belongsToPredictionTakeaways=function(e){return ye.belongsToAllAlerts(e)&&(0,h.pipe)(C.fromNullable(e.prediction),C.flatten,C.exists((e=>"takeaways"===e)))},e.belongsToPredictionEmogenie=function(e){return ye.belongsToAllAlerts(e)&&(0,h.pipe)(C.fromNullable(e.prediction),C.flatten,C.exists((e=>"emogenie"===e)))},e.belongsToAnySpecialCategory=function(e){return g.tI.belongsToAnySpecialCategory(e._raw)},e.belongsToSpecialCategory=function(e){return g.tI.belongsToSpecialCategory(e._raw)},e.getCheckingState=function(e){return ye.State.getCheckingState(e.state)},e.inUse=function(e){return e.references>0},e.isMuted=function(e){return!ye.isPlagiarism(e)&&e.mute===ye.MuteStateType.Muted},e.isBulkAcceptable=function(e){return ye.isRegistered(e)&&e.extraProperties.bulkAcceptable&&e.alertType===ye.Type.Default},e.isInline=function(e){return e.inline===g.tI.Inline.inline},e.hasDrilldownTree=function(e){return O(e)&&C.isSome(e.extraProperties.drilldownTree)},e.shouldBeRemoved=function(e){return!ye.inUse(e)&&ye.isNotRegistered(e)},function(e){e.snapshot=e=>({cardType:e.cardType,alternatives:e.alternatives.map((e=>({type:e.type,lengthAffected:e.lengthAffected,delta:b.E.anonymizeTextAndStringAttrs(e.delta)})))})}(d=e.Alternatives||(e.Alternatives={}));let D=1;function F(e){return Math.trunc(Math.random()*e)}let $=0;e.generate=function(e,t,n,r,o){$+=30;const s=n&&"number"==typeof n.start?n.start:$,l=n&&"number"==typeof n.end?n.end:s+1,c=r?r.start:s,u=r?r.end:l,d=function(e,t){const n=g.tI.Id.create("alert#"+String(D++)),r=t&&t.cardLayout||g.BU.mock,o=e===ee.J.SpecialId.Plagiarism?{outcome:"Originality"}:ee.J.isMainOutcomeId(e)?{outcome:ee.J.OutcomeId.toRawOutcome(e)}:{},s=!!ee.J.isPremiumId(e)||t&&t.hidden;return(0,i._)((0,a._)((0,i._)({},g.tI.mock),{id:n,cardLayout:(0,i._)({},r,o),hidden:s}),t)}(e,t),p={begin:c,end:u,highlightBegin:s,highlightEnd:l,transformJson:o?(0,h.pipe)(o,C.toUndefined):g.r5.create({highlights:[{s,e:l}],alternatives:C.none})};return Object.assign(d,p),d},e.generateWithSubAlerts=function(e,t){const n=e?g.r5.create({highlights:e.map((e=>({s:e.start,e:e.end}))),alternatives:(0,h.pipe)(A.ci(e),C.map(A.Tj((e=>({s:e.start,e:e.end})))),C.map((e=>v.EF.Group.fromSubalerts(e,[w.d.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 1_1",attributes:{type:w.d.Edit.Type.MAIN}}]}),w.d.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 2_1",attributes:{type:w.d.Edit.Type.MAIN}}]})]))))}):g.tI.mockWithSubalerts.subalerts,r=e?e.map(((e,t)=>"Highlight_"+t)):g.tI.mockWithSubalerts.highlightText;return(0,i._)((0,a._)((0,i._)({},g.tI.mockWithSubalerts),{labels:g.tI.mockWithSubalerts.labels,highlightText:r,subalerts:n}),t)};let H=1;e.generatePlagiarism=function(e,t,n){const r=n&&n.start||F($+=1),a=(0,i._)({},g.tI.mockPlagiarism,t),o=n&&n.end||r+1+F(20),s={id:g.tI.Id.create("plagiarismAlert#"+String(H++)),begin:r,end:o,highlightBegin:r,highlightEnd:o,highlightText:[e],transformJson:g.r5.create({highlights:[{s:r,e:o}],alternatives:C.none})};return Object.assign(a,s),a},e.isPlagiarismSourceEqual=function(e,t){return e.title===t.title&&function(e,t){return e.source===t.source&&("web"===e.source&&(0,h.pipe)(E.fP(((e,t)=>e===t))(e.url,t.url),C.exists(h.identity))||"publication"===e.source&&(0,h.pipe)(E.fP(((e,t)=>e===t))(e.authors,t.authors),C.exists(h.identity)))}(e.plagiarismType,t.plagiarismType)},e.create=function(e,t,n,r){let i;return i=g.tI.isHidden(e)?new ie(e,t,n,r):g.tI.isPlagiarism(e)?new ae(e,t,n,r):g.tI.isOneGap(e)?new ue(e,t,n,r):!g.tI.withSubalerts(e)||g.tI.isEthicalAI(e)||g.tI.isCitationDetection(e)?g.tI.isTakeaway(e)?new de(e,t,n,r):g.tI.hasDrilldownTree(e)?new le(e,t,n,r):g.tI.isShortenIt(e)?new pe(e,t,n,r):g.tI.isToneAI(e)?new he(e,t,n,r):g.tI.isEthicalAI(e)?new fe(e,t,n,r):g.tI.isSuggestedSnippet(e)?new me(e,t,n,r):g.tI.isKnowledgeHubSuggestedTerm(e)?new ge(e,t,n,r):new se(e,t,n,r):new ce(e,t,n,r),i};var W=e.CRITICAL_GROUPS=new Set(["Spelling","Grammar","Punctuation","Fluency","Conventions"]);e.isCriticalGroup=function(e){return W.has(e)},e.highlightsCollapsed=function(e){return e.getHighlightRanges().every(_.vY.isEmpty)},e.isDuplicateCandidate=function(e,t=!1){return(t||e.isValid)&&!e.allowDuplicates&&ye.isRegistered(e)},e.isDuplicatedBy=function(e,t){if(!t.hasMatchingHighlightsWith(e,_.vY.ord.equals))return!1;const n=e.toRawAlert(),r=t.toRawAlert();return n.group===r.group&&"Spelling"===n.group||n.category===r.category&&n.point===r.point},e.isNotDisposed=function(e){return!e.disposed}}(ye||(ye={}));const ve=g.tI.matchBy((e=>_.vY.create(e.begin,e.end,{btype:K.l.Meta.Behavior.REPLACE})),(()=>_.vY.empty),(()=>_.vY.empty));function be(e,t){return t.highlights.map((t=>_.vY.create(t.s,t.e,{vtype:"focus"===t.type?K.l.Meta.View.FOCUS:"enclosing"===t.type?K.l.Meta.View.ENCLOSING:"main_start"===t.type?K.l.Meta.View.MAIN_START:K.l.Meta.View.MAIN,btype:e})))}function we(e){const t=!0===e.updatable?K.l.Meta.Behavior.HIGHLIGHT_UPDATABLE:K.l.Meta.Behavior.HIGHLIGHT;return g.tI.match(e,(e=>[_.vY.create(e.highlightBegin,e.highlightEnd,{vtype:K.l.Meta.View.MAIN,btype:t})]),(e=>be(t,e.transformJson)),(e=>be(t,e.subalerts)))}const _e=C.map((e=>(0,h.pipe)(e.context,A.Tj((e=>_.vY.create(e.s,e.e,{btype:K.l.Meta.Behavior.CONTEXT}))))));function Ce(e){return g.tI.match(e,(()=>C.none),(e=>_e(e.transformJson.alternatives)),(e=>_e(e.subalerts.alternatives)))}const Se=g.tI.matchBy((e=>k.left(ve(e))),(e=>k.right(e.transformJson.alternatives)),(e=>k.right(e.subalerts.alternatives)));var ke;!function(e){e.create=function(e,t){return(0,I.V1)(e.id===t.id,"can not create UpdatedAlertWithOldAlert from alerts with different ids",(()=>JSON.stringify({olda:M.Y.show.show(e),newa:M.Y.show.show(t)}))),(0,I.V1)(e.version<t.version,"old alert should have different revision than new alert",(()=>JSON.stringify({olda:M.Y.show.show(e),newa:M.Y.show.show(t)}))),(0,I.V1)(ye.isNotDisposed(t.alert),"new alert can not be disposed",(()=>JSON.stringify({olda:e.alert.toString(),newa:t.alert.toString()}))),[e,t]},e.show=(0,d.M4)(M.Y.show,M.Y.show)}(ke||(ke={}));const Ie=(0,S.Bj)(m.Bx.Logging.getLogger)},56330:(e,t,n)=>{n.d(t,{R:()=>r});var r,i=n(84647),a=n(65390),o=n(36840),s=n(38908),l=n(15990);!function(e){let t;!function(e){e[e.red=0]="red",e[e.green=1]="green",e[e.yellow=2]="yellow",e[e.grey=3]="grey"}(t=e.Color||(e.Color={}));const n=/<span.*?<\/span><br\/>/g,r=/^<span.*?class="(.+?)".*?>/,c=/^<span.*?>(.+?): /,u=/^<span.*?>(?:.+?: )?(.+?)<\/span><br\/>/;e.parse=(e,d=!1)=>(0,i.pipe)(a.fromNullable(e),a.map((e=>e.replace(/^<p>/,"").split("<p>").map((e=>{const i=e.match(n);return i&&(0,o.z2)(i)?i.map((e=>{var n;const i=function(e){switch(e){case"red":return t.red;case"green":return t.green;case"yellow":return t.yellow;default:return t.grey}}(s.Zx(null!==(n=s.Q7(e,r))&&void 0!==n?n:"")),o=a.fromNullable(s.Q7(e,c)),l=s.Q7(e,u);return Boolean(l)?{color:i,title:o,text:l,hasItalic:d}:null})).filter(Boolean):[]})).filter(o.z2))),a.chain(l.L.array)),e.colorMatch=function(e){return n=>{switch(e){case t.red:return n.red;case t.green:return n.green;case t.yellow:return n.yellow;default:return n.fallback}}}}(r||(r={}))},11783:(e,t,n)=>{n.d(t,{P:()=>r});var r,i=n(69384),a=n(66799),o=n(22835);!function(e){var t=e.isKnown=e=>"id"in e;let n;e.splitById=e=>{if(t(e)){const{id:t}=e;return{id:t,local:(0,i._)(e,["id"])}}return{local:e}},e.toLocal=e=>{if(t(e)){const{id:t}=e;return(0,i._)(e,["id"])}return e},function(e){e.identity=e=>e,e.forcePositionOverTransformJson=e=>(e=>void 0!==e.extra_properties&&void 0!==e.extra_properties.progress)(e)?e:a.tI.withTransformJson(e)&&a.tI.hasPosition(e)&&!a.tI.withSubalerts(e)?o.yo(e,{transformJson:void 0}):e}(n=e.Transform||(e.Transform={})),e.isHighlightValid=function(e,t){return a.tI.match(e,(e=>t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]),(e=>!!a.tI.hasPosition(e)&&t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]),(()=>!1))}}(r||(r={}))},98383:(e,t,n)=>{n.d(t,{dn:()=>i,jQ:()=>y});var r,i,a=n(23988),o=n(84647),s=n(99002),l=n(60575),c=n(38832),u=n(49004),d=n(44869),p=n(65390),h=n(36840),f=n(66202),m=n(23121),g=n(86562);!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=d.OW({alternative:c.EF.eq,alternativeId:s.Eq,alertId:s.Eq})}(r||(r={}));class y{pushChanges(e){u.lY.isDelta(e)&&this._alternatives.forEach((t=>{(0,o.pipe)(t.alternative.rebase(e.delta),p.fold(h.Yi,(e=>t.alternative=e)))}))}registerAlternative(e,t){const n=y.getAlternativeId(t),r={alternative:e,alternativeId:n,alertId:t};return this._alternatives.set(n,r),r}deregisterAlternative(e){return(0,o.pipe)(this.getAlternative(e),f.chain((({alternative:e,alternativeId:t})=>m.zb((()=>((0,g.V1)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))))}constructor(){(0,a._)(this,"_log",l.Bx.Logging.getLogger("alternative_manager",l.y7.$.DEBUG)),(0,a._)(this,"_alternatives",new Map),(0,a._)(this,"getAlternative",(e=>{const t=this._alternatives.get(e);if(t)return f.right(t);{const t=`Tried to retrieve non-registered alternative: ${e}`;return this._log.error(t),f.left(new Error(t))}}))}}(0,a._)(y,"_alternativeCounter",0),(0,a._)(y,"getAlternativeId",(e=>`alt-${e}-${y._alternativeCounter++}`)),function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:y.getAlternativeId(t),alertId:t}),getAlternative:()=>f.left(new Error("Not implemented in mock")),deregisterAlternative:()=>f.right(c.EF.create([]))}}(i||(i={}))},88761:(e,t,n)=>{n.d(t,{Y:()=>r});var r,i=n(10334),a=n(15668),o=n(49490),s=n(7432),l=n(83288);!function(e){let t;!function(e){e.ord=l.ordString,e.show=o.N4}(t=e.Id||(e.Id={}));var n=e.ordId=l.contramap((e=>e.id))(l.ordString),r=e.ordHRange=l.contramap((e=>e.alert.getHighlightRanges()[0]))(s.vY.ord),c=e.ordVersion=l.contramap((e=>e.version))(l.ordNumber),u=e.ord=(0,a.fold)(l.getSemigroup())(r,[n,c]),d=e.show={show:e=>`Alert #(${e.id}, version:${e.version}, state:${e.state.type}, mute:${e.mute})`};e.ordShow=(0,i._)({},u,d),e.create=function(e){return{alert:e,id:e.id,state:e.state,counters:e.counters,version:e.version,mute:e.mute}},e.isRegistered=e=>"REGISTERED"===e.state.type}(r||(r={}))},22809:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(84647),a=n(99002),o=n(6320),s=n(59042),l=n(36916),c=n(96719),u=n(60608),d=n(88761),p=n(91612),h=n(44277);!function(e){let t;!function(e){e.show=s.b.getShow(a.wv,d.Y.show),e.eq=s.b.getEq(d.Y.Id.ord,d.Y.ord),e.empty=()=>s.b.empty(),e.toRegistered=function(e){return s.b.fromMutation((t=>{(0,i.pipe)(e,s.b.forEach(((e,n)=>d.Y.isRegistered(e)&&t.set(n,l.kb(e))),((e,n,r)=>{d.Y.isRegistered(e)?d.Y.isRegistered(n)?t.set(r,l.WP(e,n)):t.set(r,l.kb(e)):d.Y.isRegistered(n)&&t.set(r,l.pG(n))}),((e,n)=>d.Y.isRegistered(e)&&t.set(n,l.pG(e)))))}))},e.filter=function(e){return s.b.filter(e,((t,n)=>e(t)&&e(n)),e)}}(t=e.Diff||(e.Diff={})),e.empty=p.z.iso.wrap(p.z.empty),e.eq=o.nZ(p.z.eqShow),e.show=p.z.eqShow,e.get=function(e){return(0,i.flow)(p.z.iso.unwrap,p.z.get(e))},e.reduce=function(e,t){return(0,i.flow)(p.z.iso.unwrap,p.z.reduce(e,t))},e.diff=function(e,t){return p.z.diff(p.z.iso.unwrap(e),p.z.iso.unwrap(t))},e.isEmpty=function(e){return 0===p.z.iso.unwrap(e).entries.size},e.find=function(e){return(0,i.flow)(p.z.iso.unwrap,p.z.find(e))},e.size=function(){return(0,i.flow)(p.z.iso.unwrap,p.z.size)},e.from=function(e){return(0,i.pipe)(p.z.createDiff({added:e.reduce(((e,t)=>e.set(t.id,d.Y.create(t))),new Map)}),c.s.recover(i.constVoid),h.z.applyDiff,u.Tj((0,i.flow)(c.s.recover(i.constVoid),p.z.iso.wrap)))(p.z.empty)}}(r||(r={}))},91612:(e,t,n)=>{n.d(t,{z:()=>r});var r,i=n(10334),a=n(38886),o=n(49490),s=n(84647),l=n(84906),c=n(6320),u=n(59042),d=n(65390),p=n(86562),h=n(23121),f=n(74816),m=n(66202),g=n(36916),y=n(80993),v=n(44869),b={equals:function(){return!0}},w=n(88761);!function(e){function t(e,t){return n=>n.order.reduce(((e,r)=>((0,p.V1)(n.entries.has(r),"got corrupted state"),t(e,n.entries.get(r)))),e)}function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const r=new Map,i=u.b.fromMutation((i=>{n.forEach(((e,t)=>{i.set(t,g.kb(e))})),e.forEach(((e,t)=>{i.has(t)?r.set(t,`alert add overlaps with alert remove: toAdd(${w.Y.show.show(e)} overlapWith(${g.cs(w.Y.show,w.Y.show).show(i.get(t))}))`):i.set(t,g.pG(e))})),t.forEach((([e,t],n)=>{i.has(n)?r.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${w.Y.show.show(t)}) overlapWith(${g.cs(w.Y.show,w.Y.show).show(i.get(n))}))`):i.set(n,g.WP(e,t))}))}));return r.size>0?m.left({recovered:i,rejected:r}):m.right(i)}e.iso=c.KH(),e.empty={entries:new Map,order:[],latestChangeDiff:u.b.empty(),diffVersion:0},e.get=function(e){return t=>d.fromNullable(t.entries.get(e))},e.find=function(e){return t(d.none,((t,n)=>(0,s.pipe)(t,d.alt((()=>d.fromPredicate(e)(n))))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?h.$v(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:f.H_(w.Y.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=f.bt(f.n.createStrict(w.Y.ordShow),t.entries,e);return(0,s.pipe)(n,m.bimap((n=>{const r=u.b.fromMutation((t=>{(0,s.pipe)(e,u.b.forEach(((e,r)=>!n.rejected.has(r)&&t.set(r,g.kb(e))),((e,r,i)=>!n.rejected.has(i)&&t.set(i,g.WP(e,r))),((e,r)=>!n.rejected.has(r)&&t.set(r,g.pG(e)))))}));return{recovered:S(n.recovered,r,t.diffVersion),rejected:n.rejected}}),(n=>S(n,e,t.diffVersion))))}},e.applyDiffLoose=function(e){return t=>{const n=f.bt(f.n.createLoose(w.Y.ordShow),t.entries,e);return(0,s.pipe)(n,m.bimap((n=>({recovered:S(n.recovered,e,t.diffVersion),rejected:n.rejected})),(n=>S(n,e,t.diffVersion))))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:u.b.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};var r=e.diffEqShow=(0,i._)({},u.b.getEq(w.Y.Id.ord,w.Y.ord),u.b.getShow(w.Y.Id.show,w.Y.show));const _=(0,i._)({},y.nZ(w.Y.Id.ord,w.Y.ord),y.cs(w.Y.Id.show,w.Y.show)),C=(0,i._)({},a.nZ(w.Y.Id.ord),a.cs(w.Y.Id.show));function S(e,t,n){return{entries:e,order:(0,s.pipe)(e,y.zu(w.Y.ord),a.Tj((e=>e.id))),latestChangeDiff:t,diffVersion:n+1}}e.contentEqShow=(0,i._)({},v.OW({entries:_,order:C,latestChangeDiff:b,diffVersion:b}),o.pJ({entries:_,order:C,latestChangeDiff:r,diffVersion:l.wv})),e.eqShow=(0,i._)({},v.OW({entries:_,order:C,latestChangeDiff:r,diffVersion:l.Eq}),o.pJ({entries:_,order:C,latestChangeDiff:r,diffVersion:l.wv}))}(r||(r={}))},44277:(e,t,n)=>{n.d(t,{z:()=>r});var r,i=n(84647),a=n(66202),o=n(91612);!function(e){e.empty=o.z.empty,e.applyDiff=function(e){return(0,i.flow)(o.z.applyDiffLoose(e),a.mapLeft((e=>({recovered:e.recovered,rejected:e.rejected}))))},e.toCheckingResult=function(e){return o.z.iso.wrap(e)}}(r||(r={}))},78429:(e,t,n)=>{n.d(t,{hI:()=>S,vz:()=>i});var r,i,a=n(23988),o=n(84647),s=n(60575),l=n(49004),c=n(91242),u=n(88105),d=n(7432),p=n(38908),h=n(65390),f=n(66202),m=n(23121),g=n(55172),y=n(86562),v=n(58193),b=n(36840),w=n(42543);function _(e){return null===e||p.WA(e.charCodeAt(0))}class C{pushChanges(e){l.lY.isReset(e)?this._textLength=e.length:l.lY.isDelta(e)&&(this._verify&&(0,c.vA)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}constructor(e=0,t=!1){(0,a._)(this,"_textLength",void 0),(0,a._)(this,"_verify",void 0),this._textLength=e,this._verify=t}}!function(e){e.create=e=>d.vY.compose({id:e})}(r||(r={})),function(e){class t{registerRange(e,t){return r.create(e)(t)}deregisterRange(e){return d.vY.empty}findClosestToPosition(e,t){return h.none}findRanges(e){return[]}widen(e){return(0,o.pipe)(e,(e=>d.vY.alterLeft(e,1)),f.chain((e=>d.vY.alterRight(e,1))),m.$v)}narrow(e){return(0,o.pipe)(e,h.fromPredicate((e=>d.vY.size(e)>1)),h.map((e=>(0,o.pipe)(e,(e=>d.vY.alterLeft(e,-1)),f.chain((e=>d.vY.alterRight(e,-1))),m.$v))))}}e.RangeManagerMock=t,e.mock=new t}(i||(i={}));class S{pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=((e,t)=>{let n=0;const r=new Map;if(l.lY.isFlush(e))return{affected:[],changed:[]};let i=t.length+1;return l.lY.isReset(e)?t.forEach((e=>{e.start=0,e.end=0,r.set(e.meta.id,e)})):e.delta.ops.forEach((e=>{if(u.E.isRetain(e))n+=e.retain;else if(u.E.isInsert(e)){const a=n,o=g.yz(t,(e=>e.end<a)),s=e.insert,l="string"==typeof s?s.length:1;if(n+=l,h.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,n="string"==typeof s?s.charAt(0):null;for(let i=o.value;i<t.length;++i){const o=t[i];o.start<a?o.end===a?_(n)||r.set(o.meta.id,o):(r.set(o.meta.id,o),o.end+=l):o.start===o.end&&o.end===a?_(n)||r.set(o.meta.id,o):(o.start!==a||_(e)||r.set(o.meta.id,o),o.start+=l,o.end+=l)}i>o.value&&(i=o.value)}}else if(u.E.isDelete(e)){const a=n,o=g.yz(t,(e=>e.end<=a));if(h.isSome(o)){const n=a+e.delete;for(let i=o.value;i<t.length;++i){const o=t[i];o.start,o.start<n?(r.set(o.meta.id,o),o.start<a?o.end=o.end-Math.min(e.delete,o.end-a):o.end<=n?(o.start=a,o.end=a):(o.start=a,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}i>o.value&&(i=o.value)}}})),{changed:t.slice(i),affected:Array.from(r.values())}})(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const n={changed:t.changed,affected:t.affected.map((e=>this.getRange(e.meta.id)))};return this._enableMPTE&&n.affected.length>0?this.rangeChangedMPTE.next(n.affected):(n.changed.length>0||n.affected.length>0)&&this._rangeChanged.next(n),n}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const n=r.create(e)(t);return this._validateRange(n),this._ranges.set(e,n),this._rangesArray.push(n),this._rangesArray.sort(d.vY.ord.compare),n}_validateRange(e){d.vY.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return(0,o.pipe)(g.yz(this._rangesArray,(e=>e.end<t.end)),h.getOrElse((()=>this._rangesArray.length)),(n=>{let r=n;for(;r<this._rangesArray.length&&this._rangesArray[r].meta.id!==e;)r++;return(0,y.V1)(r<this._rangesArray.length&&this._rangesArray[r].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(r,1),t}))}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return h.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return(0,o.pipe)(g.yz(this._rangesArray,(t=>t.end<e.end)),h.getOrElse((()=>this._rangesArray.length)),(n=>{let r=n;for(;r<this._rangesArray.length&&this._rangesArray[r].end===e.end;)this._rangesArray[r].start===e.start&&t.push(this._rangesArray[r]),r++;return t}))}findIntersections(e){const t=[];return(0,o.pipe)(g.yz(this._rangesArray,(t=>t.end<e.start)),h.getOrElse((()=>this._rangesArray.length)),(n=>{let r=n;for(;r<this._rangesArray.length;){const n=this._rangesArray[r];n.end>e.start&&e.end>n.start&&t.push(this._rangesArray[r]),r++}return t}))}findClosestToPosition(e,t){const n=this._rangesArray.filter(t);return(0,o.pipe)(g.yz(n,(t=>e>=t.end)),h.getOrElse((()=>n.length)),(t=>{const r=h.fromNullable(n[t]),i=h.fromNullable(n[t-1]);return(0,o.pipe)(r,h.map((t=>(0,o.pipe)(i,h.fold((()=>t),(n=>t.start-e<=e-n.end?t:n))))),v.NW(i))}))}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(s.y7.$.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(d.vY.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}constructor(e=0,t=!1,n=!1){(0,a._)(this,"_enableMPTE",void 0),(0,a._)(this,"_strictMode",void 0),(0,a._)(this,"_log",void 0),(0,a._)(this,"_verifyState",void 0),(0,a._)(this,"_lenCalc",void 0),(0,a._)(this,"_ranges",void 0),(0,a._)(this,"_rangesArray",void 0),(0,a._)(this,"_rangeChanged",void 0),(0,a._)(this,"rangeChanged",void 0),(0,a._)(this,"rangeChangedMPTE",void 0),(0,a._)(this,"widen",void 0),(0,a._)(this,"narrow",void 0),this._enableMPTE=t,this._strictMode=n,this._log=s.Bx.Logging.getLogger("position_manager",s.y7.$.DEBUG),this._verifyState=this._log.isEnabled(s.y7.$.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new w.B7,this.rangeChanged=this._rangeChanged,this.rangeChangedMPTE=new w.B7,this.widen=e=>(this._validateRange(e),(0,o.pipe)(e,(e=>d.vY.alterLeft(e,e.start<=0?0:1)),f.chain((e=>d.vY.alterRight(e,e.end>=this._lenCalc.textLength?0:1))),f.getOrElse((t=>(this._log.error("TextRange mutation error",t),e))))),this.narrow=e=>(this._validateRange(e),(0,o.pipe)(e,h.fromPredicate((e=>d.vY.size(e)>1)),h.map((e=>(0,o.pipe)(e,(e=>d.vY.alterLeft(e,e.meta.increasedLeft>0?-1:0)),f.chain((e=>d.vY.alterRight(e,e.meta.increasedRight>0?-1:0))),f.getOrElse((t=>(this._log.error("TextRange mutation error",t),e)))))))),this._lenCalc=new C(e,this._verifyState),(0,b.hJ)("positions",(()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()}))}}},29120:(e,t,n)=>{n.d(t,{b:()=>r});const r=(0,n(44386).iN)()},80159:(e,t,n)=>{n.d(t,{G:()=>r,d:()=>i});var r,i,a=n(36840);!function(e){let t;function n(e){return e.type===r.Type.confirmed}function i(e){return e.type===r.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone",e.looked="looked",e.feedbackModalOpen="feedbackModalOpen",e.feedbackModalClose="feedbackModalClose",e.feedbackModalSubmit="feedbackModalSubmit",e.teaserExpand="teaserExpand"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(e){return e.type===r.Type.applied},e.isAlertOpenAction=function(e){return e.type===r.Type.opened},e.isCardCloseAction=function(e){return e.type===r.Type.closed},e.isAlertIgnoreAction=function(e){return e.type===r.Type.ignored},e.isAlertAddToDictionaryAction=function(e){return e.type===r.Type.addedToDictionary},e.isConfirmAction=n,e.isUndoAction=i,e.isMountAction=function(e){return e.type===r.Type.mounted},e.isLookedAction=function(e){return e.type===r.Type.looked},e.isFeedbackSubmitAction=function(e){return e.type===r.Type.feedbackModalSubmit},e.isFeedbackOpenAction=function(e){return e.type===r.Type.feedbackModalOpen},e.isFeedbackCloseAction=function(e){return e.type===r.Type.feedbackModalClose},e.isTeaserExpandAction=function(e){return e.type===r.Type.teaserExpand},e.isBulkAction=(0,a.Ub)(n,i)}(r||(r={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(i||(i={}))},53354:(e,t,n)=>{n.d(t,{B:()=>s});var r=n(23988),i=n(68745),a=n(65141),o=n(19711);class s{static copy(e,t){this._clearSelection();const n=this._createHiddenSpan(e);return this.select(n),this._copy(e,t).then((()=>{n.parentElement.removeChild(n)})).catch((e=>{throw n.parentElement.removeChild(n),e}))}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise(((n,r)=>{try{const i=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(i)?n():r(new Error("Copy API doesn't work"))}catch(e){r(e)}}))}}(0,r._)(s,"copyApiAvailable",new i.t(!0));try{a.R(window,"click").pipe(o.$()).subscribe((()=>{document.queryCommandSupported("copy")||s.copyApiAvailable.next(!1)}))}catch(e){s.copyApiAvailable.next(!1)}},19657:(e,t,n)=>{n.d(t,{$z:()=>h,y4:()=>r});var r,i,a=n(23988),o=n(38886),s=n(84647),l=n(86562),c=n(58193),u=n(65390),d=n(66202),p=n(55172);function h(e,t){return t.reduce(((t,n)=>{const r="function"==typeof e?e(n):n[e];let i=t.get(r);return i||(i=[],t.set(r,i)),i.push(n),t}),new Map)}(i=r||(r={})).URI="ImmutableSortedMap",i.create=function(e,t,n){const i=Array.isArray(e)?new Map(e.map((e=>[t(e),e]))):e,a=r.orderKeys(i,n);return i.forEach((e=>(0,l.V1)(m(e),"init value should implement IEquals",(()=>JSON.stringify(e))))),new f(i,a,n,t)},i.empty=function(e,t){return new f(new Map,[],t,e)},i.diff=function(e,t){const n=e.clear();return e.reduce((({added:e,preserved:n,removed:r,changed:i},a,o)=>{const s=e.has(o)?e.remove(o):e;if(t.has(o)){const e=a.equals(c.$v(t.get(o)).value);return{removed:r,added:s,preserved:e?n.add(a):n,changed:e?i:i.add(a)}}return{removed:r.add(a),added:s,preserved:n,changed:i}}),{removed:n,added:t,preserved:n,changed:n})},i.unsafeGet=function(e,t){return c.$v(t.get(e)).value},i.unsafeGetBy=function(e){return t=>c.$v(t.get(e)).value},i.unsafeGetAt=function(e,t){return c.$v(t.getAt(e))},i.unsafeGetAtBy=function(e){return t=>c.$v(t.getAt(e))},i.nonEmpty=function(e){return e.size>0},i.lowerBound=function(e,t){let n=-1,r=e.size;for(;n+1!==r;){const i=n+(r-n>>1);t(c.$v(e.getAt(i)))?n=i:r=i}return n+1},i.createKeySorter=function(e,t){return(n,r)=>t(e(n),e(r))},i.orderKeys=function(e,t){return Array.from(e.keys()).sort(r.createKeySorter((t=>e.get(t)),t))},i.takeByKey=function(e,t,n){const r=(0,s.pipe)(n,o.SL((t=>t===e))),i=u.fromNullable(t.get(e));return(0,l.V1)(u.isNone(r)&&u.isNone(i)||u.isSome(r)&&u.isSome(i),"unsynced hash&order"),c.fP(((e,t)=>({index:e,value:t})))(r,i)},i.getFoldableWithIndex=function(){return{URI:r.URI,_E:void 0,reduce:(e,t,n)=>e.reduce(n,t),foldMap:e=>(t,n)=>t.reduce(((t,r)=>e.concat(t,n(r))),e.empty),reduceRight:(e,t,n)=>e.reduce(((e,t)=>n(t,e)),t),reduceWithIndex:(e,t,n)=>e.reduce(((e,t,r)=>n(r,e,t)),t),reduceRightWithIndex:(e,t,n)=>e.reduce(((e,t,r)=>n(r,t,e)),t),foldMapWithIndex:e=>(t,n)=>t.reduce(((t,r,i)=>e.concat(t,n(i,r))),e.empty)}};class f{get(e){return r.takeByKey(e,this._hash,this._order)}getIndex(e){return u.fromPredicate((e=>e>-1))(this._order.indexOf(e))}getAt(e){return u.fromNullable(this._hash.get(this._order[e]))}has(e){return this._hash.has(e)}find(e,t=0){if(t<0)return u.none;for(let n=t;n<this._order.length;n++){const t=this._order[n],r=this._hash.get(t);if(e(r))return u.some({index:n,value:r})}return u.none}findFrom(e,t){return this.find(e,t)}findRight(e,t){if(Boolean(t)&&t>=this._order.length)return u.none;for(let n=Boolean(t)?t:this._order.length-1;n>=0;n--){const t=this._order[n],r=this._hash.get(t);if(e(r))return u.some({index:n,value:r})}return u.none}findRightFrom(e,t){return this.findRight(e,t)}map(e,t=this._comp){const n=new Map;this._order.forEach(((t,r)=>{const i=this._hash.get(t),a=e(i,t,r);(0,l.V1)(m(a),"transformed value should implement IEquals",(()=>JSON.stringify(a))),n.set(t,a)}));const i=r.orderKeys(n,t);return new f(n,i,t,this._getKey)}mapTo(e){return this._order.map(((t,n)=>e(this._hash.get(t),t,n)))}filter(e){const t=new Map,n=this._order.filter((n=>{const r=this._hash.get(n),i=e(r,n);return i&&t.set(n,r),i}));return new f(t,n,this._comp,this._getKey)}reduce(e,t){return this._order.reduce(((t,n,r)=>e(t,this._hash.get(n),n,r)),t)}modifyWith(e,t){const n=new Map(this._hash),i=this._order.slice(),a=(e,a)=>{const o=r.takeByKey(a,n,i),s=t(a,e,o);(0,l.V1)(m(s),"modified value should implement IEquals",(()=>JSON.stringify(s))),n.set(a,s),u.isNone(o)&&i.push(a)};return e instanceof Array?e.forEach((([e,t])=>a(t,e))):e.forEach(a),i.sort(r.createKeySorter((e=>n.get(e)),this._comp)),new f(n,i,this._comp,this._getKey)}patchWith(e,t){const n=new Map(this._hash),i=this._order.slice(),a=(e,a)=>{const o=r.takeByKey(a,n,i),d=t(a,e,o);(0,l.V1)(c.Lw(m)(d),"patched value should implement IEquals",(()=>JSON.stringify(d))),(0,s.pipe)(d,u.fold((()=>{(0,s.pipe)(o,u.fold(s.constVoid,(({index:e})=>{n.delete(a),i.splice(e,1)})))}),(e=>{n.set(a,e),u.isNone(o)&&i.push(a)})))};return e instanceof Array?e.forEach((([e,t])=>a(t,e))):e.forEach(a),i.sort(r.createKeySorter((e=>n.get(e)),this._comp)),new f(n,i,this._comp,this._getKey)}add(e){const t=new Map(this._hash),n=this._order.slice();return(Array.isArray(e)?e:[e]).forEach((e=>{const r=this._getKey(e);(0,l.V1)(m(e),"added value should implement IEquals",(()=>JSON.stringify(e))),t.set(r,e),-1===n.indexOf(r)&&n.push(r)})),n.sort(r.createKeySorter((e=>t.get(e)),this._comp)),new f(t,n,this._comp,this._getKey)}update(e,t){return(0,s.pipe)(this.get(e),u.fold((()=>d.left(`Provided key ${e} not found in the map`)),(({value:n})=>{const i=new Map(this._hash),a=this._order.slice();return i.set(e,t(n)),a.sort(r.createKeySorter((e=>i.get(e)),this._comp)),d.right(new f(i,a,this._comp,this._getKey))})))}remove(e){(0,l.V1)(this.has(e),`can not remove unknown key: ${e}`);const t=new Map(this._hash);t.delete(e);const n=p.cJ(e,this._order);return new f(t,n,this._comp,this._getKey)}clear(){return new f(new Map,[],this._comp,this._getKey)}hashCode(){let e=7;return this._hash.forEach((t=>e+=t.hashCode())),e}equals(e){return this.hashCode()===e.hashCode()&&this.size===e.size&&this.values().every(((t,n)=>t.equals(c.$v(e.getAt(n)))))}values(){return this._order.map((e=>this._hash.get(e)))}keys(){return this._order}get size(){return this._order.length}constructor(e,t,n,r){(0,a._)(this,"_hash",void 0),(0,a._)(this,"_order",void 0),(0,a._)(this,"_comp",void 0),(0,a._)(this,"_getKey",void 0),this._hash=e,this._order=t,this._comp=n,this._getKey=r,(0,l.V1)(e.size===t.length,"every hash entry should has order")}}function m(e){return!(!Boolean(e)||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}},72017:(e,t,n)=>{n.d(t,{Iq:()=>r,JV:()=>s,Us:()=>a,V_:()=>l,hx:()=>c,lW:()=>d,pJ:()=>i,tG:()=>p,u:()=>o,vH:()=>h,vY:()=>u});var r,i,a,o,s,l,c,u,d,p,h,f=n(10334),m=n(17171),g=n(84647),y=n(99002),v=n(44869),b=n(36840);!function(e){e.Delete="delete",e.Insert="insert",e.Text="text",e.List="list",e.Arrow="arrow"}(r||(r={})),function(e){let t,n;!function(e){e[e.InsertList=0]="InsertList",e[e.DeleteList=1]="DeleteList",e[e.DeleteOr=2]="DeleteOr",e[e.InsertOr=3]="InsertOr",e[e.Arrow=4]="Arrow",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.Drilldown=7]="Drilldown",e[e.ShortenIt=8]="ShortenIt",e[e.ToneAI=9]="ToneAI",e[e.Citation=10]="Citation",e[e.WritingExpert=11]="WritingExpert"}(t=e.Type||(e.Type={})),e.eq=v.ee(((e,t)=>e.type===t.type&&e.tooltipText===t.tooltipText&&JSON.stringify(e.labels)===JSON.stringify(t.labels))),function(e){e.eq=v.mJ((e=>JSON.stringify(e.labels)))(y.Eq)}(n=e.ShortenIt||(e.ShortenIt={})),e.isFullSentence=e=>e.type===i.Type.FullSentence,e.isOneGap=e=>e.type===i.Type.OneGap,e.isShortenIt=e=>e.type===i.Type.ShortenIt,e.isToneAI=e=>e.type===i.Type.ToneAI,e.isRegular=e=>(0,g.not)((0,b.Ub)(i.isFullSentence,i.isOneGap,i.isShortenIt,i.isToneAI))(e)}(i||(i={})),function(e){e.create=(e,t)=>({labels:e,tooltipText:t,type:i.Type.InsertList})}(a||(a={})),function(e){e.create=(e,t)=>({labels:e,tooltipText:t,type:i.Type.DeleteList})}(o||(o={})),function(e){e.create=(e,t)=>({labels:e,tooltipText:t,type:i.Type.DeleteOr})}(s||(s={})),function(e){e.create=(e,t,n)=>({type:i.Type.InsertOr,labels:[e,t],tooltipText:n})}(l||(l={})),function(e){e.create=function(e,t,n){return{type:i.Type.Drilldown,original:e,labels:t,tooltipText:n}},e.getSelectedItems=(e,t)=>{if(!t||0===t.length)return{activeLabels:e.labels,original:e.original};const n=t.slice(1).reduce(((e,t)=>e.subLabels[t]),e.labels[t[0]]);return{activeLabels:n.subLabels,original:n.label}}}(c||(c={})),function(e){function t(e,t){return[...e,...t].map((e=>e.text.length)).reduce(b.cz,0)>30}e.create=function(e,n,r,a){return{type:i.Type.Arrow,original:e,labels:n,tooltipText:r,onlyReplacements:!0===a||t(e,n[0])}}}(u||(u={})),function(e){e.WithFormatting="WithFormatting",e.PlainText="PlainText"}(d||(d={})),function(e){e.createPlainText=function(e,t){return{type:i.Type.FullSentence,labels:e,tooltipText:t,kind:d.PlainText}},e.createWithFormatting=function(e,t){return{type:i.Type.FullSentence,labels:e,tooltipText:t,kind:d.WithFormatting}}}(p||(p={})),function(e){e.create=function(e,t){return{type:i.Type.OneGap,labels:{left:e.left.map((e=>(0,m._)((0,f._)({},e),{type:r.Text}))),right:e.right.map((e=>(0,m._)((0,f._)({},e),{type:r.Text})))},tooltipText:t}}}(h||(h={}))},78884:(e,t,n)=>{n.d(t,{z:()=>r});var r,i=n(44869),a=n(38886);!function(e){var t=e.eq=(0,i.OW)({alert:(0,i.mJ)((e=>e.id))(i.w_),highlightIndex:i.w_});e.getEq=()=>t,e.getHighlightRange=e=>a.$I(e.highlightIndex)(e.alert.getHighlightRanges())}(r||(r={}))},45653:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(10334),a=n(17171),o=n(84647),s=n(36840),l=n(58193),c=n(44869),u=n(65390),d=n(22835),p=n(66202),h=n(86562),f=n(62597),m=n(63967);!function(e){let t;function n(e){return e.type===t.default}function g(e){return e.type===t.super}function y(e){return e.type===t.takeaway}function v(e){return e.type===t.shortenIt}function b(e){return e.type===t.toneAI}function w(e){return e.type===t.ethicalAI}function _(e){return e.type===t.writingExpertVbar}function C(e){return e.type===t.writingExpertWithTeaser}function S(e){return e.type===t.writingExpertWithTeaser||e.type===t.writingExpertVbar}function k(e){return(0,o.pipe)(e.freePremium,l.gR("unlocked"))}function I(e){return(0,o.pipe)(e.freePremium,l.gR("locked"))}function A(e){return(0,o.pipe)(e.freePremium,l.gR("uphook"))}!function(e){e.default="default",e.super="super",e.plagiarism="plagiarism",e.premium="premium",e.takeaway="takeaway",e.synfony="synfony",e.shortenIt="shortenIt",e.toneAI="toneAI",e.ethicalAI="ethicalAI",e.suggestedSnippet="suggestedSnippet",e.knowledgeHubSuggestedTerm="knowledgeHubSuggestedTerm",e.writingExpertVbar="writingExpertVbar",e.writingExpertWithTeaser="writingExpertWithTeaser"}(t=e.Type||(e.Type={})),e.isApplicableAlert=function(e){return(0,s.Ub)(n,g,y,v,b,w,_,S,k)(e)},e.isDefault=n,e.isSuper=g,e.isPlagiarism=function(e){return e.type===t.plagiarism},e.isPremium=function(e){return e.type===t.premium},e.isPremiumPreviewPlagiarism=function(e){return(e.type===t.premium&&e.lensName)===f.J.SpecialId.Plagiarism},e.isFree=function(e){return e.isFree},e.isPriority=function(e){return"priority"===e.view},e.isTakeaway=y,e.isShortenIt=v,e.isToneAI=b,e.isEthicalAI=w,e.isSuggestedSnippet=function(e){return e.type===t.suggestedSnippet},e.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.patternName},e.isVBar=_,e.isWritingExpertWithTeaser=C,e.isWritingExpert=S,e.isWritingExpertDebug=function(e){return"WritingExpert/Rewrite/TextEvaluation"===e.patternName&&!_(e)&&!C(e)},e.isHoverableInline=function(e){return!_(e)},e.isFullSentence=function(e){return n(e)&&m.bU.isFullSentence(e.extraProperties.cardType)},e.isSynfony=function(e){return n(e)&&m.bU.isSynfony(e.extraProperties.cardType)},e.isOneGap=function(e){return n(e)&&m.bU.isOneGap(e.extraProperties.cardType)},e.isInQuotes=function(e){return n(e)&&e.extraProperties.isInQuotes},e.isBulkApplied=function(e){return m.Fc.State.isBulkApplied(e.state)},e.isBeingApplied=function(e){return m.Fc.State.isBeingApplied(e.state)},e.isFreePremium=k,e.isLocked=I,e.isLockedUIUphook=A,e.isLockedUIAlert=function(e){return I(e)||k(e)||A(e)};var T=e.eq=c.ee(((e,t)=>e.type===t.type&&m.HJ.ordId.equals(e,t)));e.snapshot=e=>({id:e.id,type:e.type,state:e.state,title:e.title,view:e.view,lensId:e.lensId,allowUpdate:e.allowUpdate,belongsToAllAlerts:e.belongsToAllAlerts,alternatives:(0,o.pipe)(e,u.fromPredicate(r.isApplicableAlert),u.chain((e=>e.getTransform())),u.chain((0,o.flow)(d.Up("content"),p.map(m.Fc.Alternatives.snapshot),u.fromEither)),u.toNullable)}),e.fromModel=function(e){const n={id:e.id,state:e.state,title:e.title,progress:e.progress,lensId:e.lensId,lensType:e.lensType,lensName:e.toLensAlert().lensName,alertType:e.alertType,lensPriority:e.lensPriority,getHighlightRanges:e.getHighlightRanges,hasNestedHighlights:e.hasNestedHighlights,highlightTexts:e.highlightTexts,allowUpdate:e.allowUpdate,miniCardTitle:e.miniCardTitle,todoAction:e.todoAction,patternName:e.patternName,patternNameQualifier:e.patternNameQualifier,belongsToAllAlerts:e.belongsToAllAlerts,hashCode:()=>e.hashCode(),equals:function(e){return T.equals(this,e)},toJSON:function(){return r.snapshot(this)},toString:function(){return JSON.stringify(this)},isFree:e.isFree,view:e.view,bundleInfo:e.bundleInfo,prediction:e.prediction,dismissSurvey:e.dismissSurvey,acceptSurvey:e.acceptSurvey,gbPrompt:e.gbPrompt,freePremium:e.extraProperties.freePremium,result:e.result};if(m.Fc.isTakeaway(e)){const r=(0,a._)((0,i._)({},n),{type:t.takeaway,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,takeawayScore:e.takeawayScore,takeawayIsLikelyToBeRead:e.takeawayIsLikelyToBeRead,takeawayFeedback:e.takeawayFeedback});return(0,o.unsafeCoerce)(r)}if(m.Fc.isSuperAlert(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.super,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,labels:e.labels}));if(m.Fc.isShortenIt(e)){const r=(0,a._)((0,i._)({},n),{type:t.shortenIt,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,sentenceCount:e.sentenceCount,wordCount:e.wordCount,compressionRatio:e.compressionRatio,summaryState:e.summaryState,dismissedTransformGroups:new Set(e.dismissedTransformGroups),transformGroups:new Set(e.transformGroups)});return(0,o.unsafeCoerce)(r)}if(m.Fc.isToneAI(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.toneAI,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,toneAlternatives:e.toneAlternatives,selectedToneAlternativeIdx:e.selectedToneAlternativeIdx}));if(m.Fc.isEthicalAI(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.ethicalAI,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,externalLink:e.externalLink,emojiID:e.emojiID,bannerColors:e.bannerColors,isFlaggable:e.isFlaggable,shouldDismissAfterOpeningLink:e.shouldDismissAfterOpeningLink,highlightBackgroundColor:e.highlightBackgroundColor,highlightUnderlineColor:e.highlightUnderlineColor}));if(m.Fc.isSuggestedSnippet(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.suggestedSnippet,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,snippetText:e.snippetText,libLink:e.libLink,snippetsTrigger:e.snippetsTrigger}));if(m.Fc.isKnowledgeHubSuggestedTerm(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.knowledgeHubSuggestedTerm,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,knowledgeHubTermCreationUrl:e.knowledgeHubTermCreationUrl}));if(m.Fc.isPlagiarism(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.plagiarism,cardId:e.cardId,plagiarismType:e.plagiarismType}));if(m.Fc.isApplicableAlert(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{type:(s=e,m.Fc.isVbar(s)?t.writingExpertVbar:m.Fc.isWithTeaser(s)?t.writingExpertWithTeaser:t.default),examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform}));var s;if(m.Fc.isPremium(e))return(0,o.unsafeCoerce)((0,a._)((0,i._)({},n),{categoryHuman:e.categoryHuman,type:t.premium}));throw new h.zU(`Not supported type of alert, must be either Alert, SuperAlert or PlagiarismAlert, was: ${e.constructor.name}(${e.lensType})`)}}(r||(r={}))},92141:(e,t,n)=>{n.d(t,{CC:()=>o,Jj:()=>l,X9:()=>r,tv:()=>i});var r,i,a,o,s,l,c=n(36840),u=n(86562),d=n(45653),p=n(73285);!function(e){let t,n,i;function a(e){return e.type===r.Type.takeawayCorrectlyDetected||e.type===r.Type.takeawayIncorrectlyDetected}function o(e){return e.type===r.Type.bulkApply}function s(e){return e.type===r.Type.bulkDismiss}function l(e){return e.type===r.Type.bulkIgnore}function u(e){return e.type===r.Type.bulkHighlight}function h(e){return e.type===r.Type.bulkUndo}function f(e){return e.type===r.Type.bulkIndividualUndo}function m(e){return e.type===r.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptCreateRule="gbPromptCreateRule",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed",e.listItemClick="listItemClick"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(n=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case d.A.Type.super:return n.superCard;case d.A.Type.default:default:return n.defaultCard}},e.isAlertApplyAction=function(e){return e.type===r.Type.alertApply},e.isAlertFeedbackAction=function(e){return e.type===r.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(e){return e.type===r.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(e){return e.type===r.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(e){return e.type===r.Type.takeawayDismiss},e.isTakeawayResolveAction=function(e){return e.type===r.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=a,e.isTakeawayAction=function(e){return a(e)||e.type===r.Type.takeawayDismiss||e.type===r.Type.takeawayResolve},e.isToneAIChangeToneAlternativeAction=function(e){return e.type===r.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(e){return e.type===r.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(e){return e.type===r.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(e){return e.type===r.Type.alertIgnore},e.isAlertResolveAction=function(e){return e.type===r.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(e){return e.type===r.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(e){return e.type===r.Type.alertApplyFormSubmit},e.isGbPromptApply=function(e){return e.type===r.Type.gbPromptApply},e.isGbPromptCreateRule=function(e){return e.type===r.Type.gbPromptCreateRule},e.isGbPromptDismiss=function(e){return e.type===r.Type.gbPromptDismiss},e.isGbPromptShow=function(e){return e.type===r.Type.gbPromptShow},e.isMuteCategoryAction=function(e){return e.type===r.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(e){return e.type===r.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(e){return e.type===r.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(e){return e.type===r.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(e){return e.type===r.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(e){return e.type===r.Type.hover},e.isAlertCardShow=function(e){return e.type===r.Type.alertCardShow},e.isBulkAcceptItemShow=function(e){return e.type===r.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(e){return e.type===r.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(e){return e.type===r.Type.alertMinicardButtonClick},e.isMiniItemClick=function(e){return e.type===r.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===p.Q.Type.collapseButtonClick},e.isOnboardingClose=function(e){return e.type===r.Type.onboardingClose},e.isNavigation=function(e){return e.type===r.Type.openSetGoals||e.type===r.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(e){return e.type===r.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(e){return e.type===r.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(e){return e.type===r.Type.changeUserInput},e.isFocusUserInput=function(e){return e.type===r.Type.focusUserInput},e.isBulkApply=o,e.isBulkDismiss=s,e.isBulkIgnore=l,e.isBulkHighlight=u,e.isBulkUndo=h,e.isBulkIndividualUndo=f,e.isBulkLooksGood=m,e.isBulkAction=(0,c.Ub)(o,s,l,u,f,m,h),e.isMutedAlertSuggestionsManagementClick=function(e){return e.type===r.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(e){return e.type===r.Type.sduiCardAction},function(e){e.hasAction=function(e,t){return e.actions.some((e=>e.type===t))}}(i=e.ProxySduiCardAction||(e.ProxySduiCardAction={})),e.isOpenIdeasGallery=function(e){return e.type===r.Type.openIdeasGallery},e.isListItemClick=function(e){return e.type===r.Type.listItemClick},e.hasClickPoint=(0,c.Ub)(r.isBulkHighlight,r.isAlertMinicardButtonClick,r.isListItemClick)}(r||(r={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(i||(i={})),function(e){e.isReviewEdit=function(e){return e.type===r.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===r.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===r.Type.shortenItKeepEdit}}(a||(a={})),function(e){let t;function n(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=n,e.isCardExpand=function(e){return n(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),function(e){let t;!function(e){e.setAcademicDomainAndCitationStyle="setAcademicDomainAndCitationStyle"}(t=e.Kind||(e.Kind={})),e.isSetAcademicDomainAndCitationStyleAction=function(e){return e.type===t.setAcademicDomainAndCitationStyle}}(l||(l={})),(0,u.AS)(void 0)},79321:(e,t,n)=>{n.d(t,{K:()=>r,n:()=>i});var r,i,a=n(44869),o=n(52818),s=n(6320);!function(e){let t;!function(e){e.ISO=(0,s.KH)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(r||(r={})),function(e){let t,n,r;!function(e){e.ISO=(0,s.KH)(),e.equals=(0,s.nZ)(a.US).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=(0,s.KH)()}(n=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=(0,s.KH)()}(r=e.CardTop||(e.CardTop={}));var i=e.concatC=e=>t=>e+t;const l=e=>new o.uB(e);e.converters=function(e,t,n){const r=l(i(n)).get,a=l(i(-e)).get;return{windowToViewport:l(i(-t)).get,viewportToWindow:l(i(t)).get,cardTopToViewport:a,viewportToCardTop:l(i(e)).get,absTopToViewportTop:e=>a(r(e)),absTopToCardTop:r}}}(i||(i={}))},79334:(e,t,n)=>{n.d(t,{Et:()=>i,X$:()=>r});var r,i,a,o=n(23988),s=n(44869),l=n(79321);!function(e){e.above="above",e.below="below",e.hidden="hidden"}(r||(r={})),function(e){e.Impl=class{constructor(e,t,n){(0,o._)(this,"scrollTop",void 0),(0,o._)(this,"viewport",void 0),(0,o._)(this,"converters",void 0),this.scrollTop=e,this.viewport=t,this.converters=l.n.converters(e,l.K.FromWindowTop.ISO.unwrap(t.top),n)}}}(i||(i={})),function(e){const t=(0,s.OW)({top:s.US,height:s.US});e.eqDimensionsTuple=(0,s.JU)(t,t)}(a||(a={}))},94190:(e,t,n)=>{n.d(t,{K:()=>r});var r,i=n(10334),a=n(17171),o=n(44296),s=n(36652);!function(e){var t=s.e;e.Transition=t;var n=s.y;function r(e){return"visualState"in e}e.VisualState=n,e.eq={equals:(e,t)=>!r(e)||r(t)&&n.eq.equals(e.visualState,t.visualState)},e.isAnimatable=r,e.isFocused=e=>{switch(e.visualState.transition.type){case"expanded":case"focused":case"presuccess":case"success":case"feedback_form":return!0;default:return!1}};var l=e.isInTransition=e=>e.visualState.incomplete;let c;e.isRemoved=e=>"removed"===e.visualState.transition.type,e.isAnimatingAdded=e=>"added"===e.visualState.transition.type&&l(e),e.isAnimatingRemoval=e=>"removed"===e.visualState.transition.type&&l(e),e.isHidden=e=>"hidden"===e.visualState.transition.type,function(e){e.getPojoUpdates=()=>(0,a._)((0,i._)({},o.T.Capabilities.getPojoUpdates()),{setVisualState:e=>t=>(0,a._)((0,i._)({},t),{visualState:e})})}(c=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},73285:(e,t,n)=>{var r;n.d(t,{Q:()=>r}),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(r||(r={}))},44296:(e,t,n)=>{n.d(t,{T:()=>r});var r,i=n(10334),a=n(17171),o=n(44869),s=n(85731);!function(e){var t=s.X;let n;e.PositionState=t,e.eqById=o.ee(((e,t)=>e.id===t.id)),e.getEqById=()=>o.ee(((e,t)=>e.id===t.id)),e.positionStateEq={equals:(e,n)=>t.eq.equals(e.positionState,n.positionState)},e.verticalPositionEq={equals:(e,n)=>t.verticalEq.equals(e.positionState,n.positionState)},function(e){e.getPojoCloneable=()=>({clone:e=>(0,i._)({},e)}),e.getPojoUpdates=()=>({setPosition:e=>t=>(0,a._)((0,i._)({},t),{positionState:e})})}(n=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},85731:(e,t,n)=>{n.d(t,{X:()=>r});var r,i=n(93267),a=n(84647),o=n(84906),s=n(44869),l=n(22835);!function(e){e.eq=s.OW({absTop:o.Eq,height:o.Eq,animationInProgress:i.Eq,visible:i.Eq,isHeightValid:i.Eq,watched:i.Eq,inert:i.Eq}),e.verticalEq=s.OW({absTop:o.Eq,height:o.Eq}),e.empty={absTop:0,height:0,animationInProgress:!1,visible:!1,isHeightValid:!1,watched:!1,inert:!1},e.create=a.identity,e.dimensionEquals=function(e,t){return e.absTop===t.absTop&&e.height===t.height},e.changeTop=function(e,t){return l.yo(e,{absTop:t})},e.changeHeight=function(e,t){return l.yo(e,{height:t,isHeightValid:!0})},e.changeAnimationInProgress=function(e,t){return l.yo(e,{animationInProgress:t})},e.changeVisible=function(e,t){return l.yo(e,{visible:t})},e.invalidateHeight=function(e){return l.yo(e,{isHeightValid:!1})},e.changeWatched=function(e,t){return l.yo(e,{watched:t})},e.changeInert=function(e,t){return l.yo(e,{inert:t})}}(r||(r={}))},36652:(e,t,n)=>{n.d(t,{e:()=>r,y:()=>i});var r,i,a=n(93267),o=n(99002),s=n(44869),l=n(65390),c=n(86562),u=n(22835);!function(e){let t;e.eq=s.OW({type:o.Eq,clockwise:a.Eq}),t=e.nominal||(e.nominal={})}(r||(r={})),function(e){e.initial=(e,t=!0)=>({from:l.none,transitionId:0,transition:e,incomplete:t}),e.eq=s.OW({from:l.getEq(s.w_),transitionId:s.w_,transition:r.eq,incomplete:s.w_}),e.to=(e,t)=>({from:l.some(e.transition.type),transitionId:e.transitionId+1,transition:t,incomplete:!0}),e.complete=(e,t)=>((0,c.V1)(t===e.transitionId,"unexpected transitionId"),u.yo(e,{incomplete:!1}))}(i||(i={}))},87275:(e,t,n)=>{n.d(t,{Ct:()=>p,Ir:()=>i,Iw:()=>a,Tt:()=>o,nl:()=>r,os:()=>R,pk:()=>l});var r,i,a,o,s,l,c,u,d,p,h=n(23988),f=n(10334),m=n(17171),g=n(81276),y=n(53397),v=n(92802),b=n(84647),w=n(78323),_=n(65390),C=n(36840),S=n(86562),k=n(22835),I=n(62597),A=n(54988),T=n(1066),E=n(21216),x=n(91485);!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(r||(r={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.cheetah="cheetah",e.closed="closed"}(i||(i={})),(i||(i={})).fromLensId=e=>{switch(e){case I.J.SpecialId.Cheetah:return i.cheetah;case I.J.SpecialId.DraftAI:return i.draftAI;case I.J.SpecialId.Plagiarism:return i.plagiarism;case I.J.SpecialId.Premium:case I.J.SpecialId.FreePremiumAlerts:return i.advanced;case I.J.SpecialId.Closed:return i.closed;default:return i.lensview}},function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(a||(a={})),function(e){function t(e){return(0,b.pipe)(e.cardIndex,_.chain((t=>e.items.getAt(t))))}e.getActiveItem=t,e.getActiveItemIndex=e=>(0,b.flow)(o.getActiveItem,_.chain((t=>e.get(t.id))),_.map((e=>e.index))),e.getActiveItemOfType=function(e){return(0,b.flow)(t,_.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(n,r)=>t(n,(0,C.M4)(e,r)),e.compose=function(e){return(t,n)=>(0,y.concatAll)((0,g.JI)())(e.map((e=>e(t,n))))}}(s||(s={})),function(e){e.hasItems=function(e){return e.kind===a.active||e.kind===a.persistent}}(l||(l={}));class R{static create(e){return new R(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new R((0,f._)({},this._data,e))}hashCode(){let e=7;return e=31*e+(0,x.CG)(this.alertSource),e=31*e+(0,x.CG)(this.switchOrder),e=31*e+this.currentLens.hashCode(),e}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}constructor(e){(0,h._)(this,"_data",void 0),this._data=e}}!function(e){var t=e.withCardLensSnapshot=(e,t)=>n=>{const r=n.currentLens.items.size>50,i=(0,b.pipe)(n.currentLens.cardIndex,_.getOrElse((()=>0))),[a,o]=r?[Math.max(i-25,0),i+25]:[0,50];return{alertSource:n.alertSource,switchOrder:n.switchOrder,lens:{id:n.currentLens.id,card:(0,b.pipe)(t(n.currentLens),_.map(e)),items:n.currentLens.items.values().slice(a,o).map(e),sample:r}}};function n(e,t,n){return r=>{switch(r.currentLens.kind){case a.active:return e(r);case a.persistent:return t(r);case a.abstract:return n(r);default:return(0,S.xb)(r.currentLens)}}}e.snapshot=(e,r)=>n(t(e,r),t(e,r),(e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}}))),e.genericMapper=n;var o=e.mapper=e=>n(e,e,(()=>_.none)),s=e.getActiveItem=e=>o((({currentLens:t})=>e(t)));let l,c,u,d;function p(e){return e.currentLens.kind===a.persistent}e.getActiveAlertHighlight=e=>(0,b.flow)(s(e),_.map((e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex})))),e.getActiveAlert=e=>(0,b.flow)(s(e),_.map((e=>e.activeAlert))),e.getLens=o((({currentLens:e})=>_.some(e))),function(e){e.mapper=function(e,t){return n=>t[e(n)](n)}}(l=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===i.lensview},e.isPersistent=p,e.hasCards=function(e){return e.currentLens.kind===a.active||p(e)},e.hasItems=function(e){return e.currentLens.kind===a.active||e.currentLens.kind===a.persistent},e.hasSuccess=function(e){return I.J.isOutcomeId(e.currentLens.id)||I.J.isMainLens(e.currentLens.id)||e.currentLens.id===I.J.SpecialId.PredictionTakeaways||e.currentLens.id===I.J.SpecialId.PredictionEmogenie},e.isForceSidebar=e=>(R.isLensview(e)||e.currentLens.type===i.plagiarism)&&e.alertSource===r.forceSidebar,e.isSidebarOpened=e=>!R.is(I.J.SpecialId.Closed)(e),function(e){e.defaultFilter=k.Up("alertHighlight")}(c=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>w.J2.create((e=>e.currentLens),((e,t)=>t.patch({currentLens:e}))),e.getLensWithItems=()=>w.J2.create((e=>e.currentLens),((e,t)=>t.patch({currentLens:e})))}(u=e.Prism||(e.Prism={})),function(e){let t,n,r,i,a,o,s,l,c;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let n;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=A.w}(n=e.Source||(e.Source={}))}(n=e.Applicator||(e.Applicator={})),function(e){let n;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=A.w}(n=e.Source||(e.Source={}))}(r=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(i=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(a=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===I.J.SpecialId.Closed}e.isSidebarClosed=t,e.isSidebarOpen=(0,v.AU)(t),e.always=b.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const n=T.o((()=>E.of(void 0)),e),r=(0,m._)((0,f._)({},t.what),{source:n(t.what.source)});return(0,m._)((0,f._)({},t),{what:r})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(l=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:l.noFocus},e.unFocus={kind:l.unFocus},e.focusNext={kind:l.focusNext},e.focusFirst={kind:l.focusFirst},e.focusAlert=e=>({kind:l.focusAlert,alertHighlight:e})}(c=e.FocusBehavior||(e.FocusBehavior={}))}(d=e.Effect||(e.Effect={}))}(R||(R={})),function(e){e.defaultOptions={focusBehavior:R.Effect.FocusBehavior.focusFirst}}(c||(c={})),function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(u||(u={})),function(e){e.getDefault=()=>u.allAlerts}(d||(d={})),function(e){e.skip=b.constFalse,e.force=b.constTrue,e.proceed=e=>e.positionState.animationInProgress}(p||(p={}))},90045:(e,t,n)=>{n.d(t,{p:()=>r});var r,i=n(10334),a=n(17171),o=n(45819),s=n(53397),l=n(92802),c=n(38260),u=n(84647),d=n(78323),p=n(38886),h=n(65390),f=n(66202),m=n(58193),g=n(36840),y=n(22835),v=n(59042),b=n(44869),w=n(83288),_=n(86562),C=n(55172),S=n(63967),k=n(62597),I=n(22809),A=n(91485),T=n(94190),E=n(44296),x=n(87275);!function(e){let t,n,r,R;e.filterAlertInLens=(e,t)=>p.pb((n=>S.Fc.isNotRemoved(n)||h.isSome(e.items.find((e=>t.hasAlert(n.id)(e)))))),e.findItemWithAlertInLens=(e,t)=>(0,u.flow)(h.fromPredicate(S.Fc.isNotRemoved),h.chain((n=>e.items.find((e=>t.hasAlert(n.id)(e)&&!t.isScheduledToDispose(e))))),h.map((e=>e.value))),e.createWithInitialAlerts=(e,t,n,r,o)=>(s,l,c,d)=>{const p=(0,u.pipe)(d,h.fold((()=>u.identity),(e=>o.selectItemByAlert(e)))),f=e.create(s,l),m=c.filter(n.alertVisibleInSidebar(s)),g=t(s);if(x.pk.hasItems(f)){const e=I.A.empty,t=I.A.from(m),n=I.A.diff(e,t);return(0,u.pipe)(f,g(n,r),o.changeItemsVisualState(T.K.VisualState.initial({type:"rendered",clockwise:!0},!1)),p,(e=>(0,a._)((0,i._)({},e),{animation:x.Ct.skip})))}return f},e.createWithExternalItems=(e,t)=>(n,r,o,s,c)=>{const d=e.create(n,r);return(0,u.pipe)(c,h.filter((e=>x.pk.hasItems(e)&&x.pk.hasItems(d))),h.map((e=>t.changeItemsVisualState(T.K.VisualState.initial({type:"rendered",clockwise:!0},!1))((0,a._)((0,i._)({},d),{items:e.items.filter((0,l.AU)(t.isScheduledToDispose))})))),h.getOrElse((()=>d)))},function(e){e.setVisibleItems=e=>t=>(0,a._)((0,i._)({},t),{cardIndex:(0,u.pipe)(x.Tt.getActiveItem(t),h.chain((t=>(0,u.pipe)(e.get(t.id),h.map((e=>e.index)))))),items:e}),e.hideItem=function(e,t){return T.K.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e};var t=e.calculateCardsHeight=e=>(0,u.pipe)(e.getAt(e.size-1),h.map((e=>e.positionState.absTop+e.positionState.height)),h.getOrElse((()=>0)));e.getItemsPositionsUpdateTransformer=e=>({state:t,metadata:r})=>{if(!x.os.hasCards(t))return f.left({state:t,metadata:r});const i=x.os.Prism.getLens();return f.left({state:i.modify(n(e),t),metadata:r})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!x.os.hasCards(t))return f.left({state:t,metadata:n});const r=x.os.Prism.getLens();return f.left({state:r.modify((t=>{const n=t.items.map(((n,r,o)=>{const s=m.gR(o)(t.cardIndex)?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,o),visible:!0,isHeightValid:!0,watched:!0,inert:n.positionState.inert}:(0,a._)((0,i._)({},n.positionState),{visible:!1,isHeightValid:!0});return E.T.PositionState.eq.equals(n.positionState,s)?n:e.changePosition(s)(n)}));return(0,a._)((0,i._)({},t),{items:n,isCardsHeightValid:!0})}),t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!x.os.hasCards(t))return f.left({state:t,metadata:n});const r=x.os.Prism.getLens();return f.left({state:r.modify((t=>{const n=x.Tt.getActiveItem(t),r=t.items.filter((t=>!e.isScheduledToDispose(t)||(0,g.Ub)((0,l.AU)(T.K.isAnimatable),T.K.isAnimatingRemoval)(t)||(0,u.pipe)(n,h.exists((e=>e.id===t.id))))),o=(0,u.pipe)(t,x.Tt.getActiveItemIndex(r));return(0,a._)((0,i._)({},t),{items:r,cardIndex:o})}),t),metadata:n})};var n=e.updateItemsPositions=e=>n=>{const r=x.Tt.getActiveItem(n),o=(l=e,e=>(0,u.pipe)(e.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&(0,u.pipe)(t,m.Lw((e=>e.id!==n.id))))(l)(x.Tt.getActiveItem(e))),h.map((({value:e,index:t})=>({index:t,value:(0,u.pipe)(e,h.fromPredicate((e=>e.positionState.isHeightValid&&!l.isScheduledToDispose(e))))})))))(n),s=(0,u.pipe)(o,h.chain(y.Up("value")),h.map((e=>e.positionState.height)));var l;let c=0;const d=(0,u.pipe)(r,m.Lw((e=>e.positionState.isHeightValid))),p=(0,u.pipe)(o,h.map(y.Up("index")),h.getOrElse((()=>{return e=n.cardIndex,(0,u.pipe)(e,h.map((e=>0===e?1:0)),h.getOrElse((()=>0)));var e}))),f=n.items.map(((t,r,i)=>{const a=m.gR(i)(n.cardIndex),o=a||i===p,l=e.isScheduledToDispose(t)||(a?t.positionState.isHeightValid:h.isSome(s)),f=e.isScheduledToDispose(t)?e.useReferenceHeightOnRemove(t)?(0,u.pipe)(s,h.getOrElse((()=>t.positionState.height))):0:a?t.positionState.height:(0,u.pipe)(s,h.getOrElse((()=>t.positionState.height))),g={absTop:a||d?c:t.positionState.absTop,height:f,animationInProgress:n.animation(t,i),visible:t.positionState.visible,isHeightValid:l,watched:o,inert:t.positionState.inert};return e.shouldAnimatePositionChange(g,a)(t)||(g.animationInProgress=!1),c+=f,E.T.PositionState.eq.equals(t.positionState,g)?t:e.changePosition(g)(t)})),g=t(f),v=(0,u.pipe)(r,m.Lw((e=>e.positionState.isHeightValid)))&&(0,u.pipe)(f.getAt(p),m.Lw((e=>e.positionState.isHeightValid)));return(0,a._)((0,i._)({},n),{items:f,cardsHeight:g,isCardsHeightValid:v})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,r)=>i=>(0,u.pipe)(e,v.b.reduce(i,((e,{alert:t})=>r([t])(e)),((e,t,{alert:r})=>n([r])(e)),((e,{alert:n})=>t([n])(e)))),e.applyWithFilter=(e,t)=>(n,r,i,a)=>{const o=(0,u.flow)(p.jB(e),(e=>(0,u.flow)(a(e.left),i(e.right))));return t(n,(t=>r(t.filter(e))),o,a)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=d.J2.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n))),e.getFeedItems=()=>d.J2.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n)))}(r=e.Prism||(e.Prism={})),e.getEq=e=>b.ee(((t,n)=>{if(t.kind===x.Iw.abstract||n.kind===x.Iw.abstract)return t.id===n.id;{const r=t,i=n;return t.id===n.id&&h.getEq(e).equals(x.Tt.getActiveItem(r),x.Tt.getActiveItem(i))&&r.meta.equals(n.meta)&&r.items.equals(i.items)}})),e.lensHash={hashCode:e=>{if(e.kind===x.Iw.abstract)return(0,A.CG)(e.id);{const n=e;let r=7;return r=31*r+(0,A.CG)(e.id),r=31*r+(t=x.Tt.getActiveItem(n),(0,u.pipe)(t,h.fold((()=>2433880),(e=>null==e?9735524:e.hashCode()<<2)))),31*r+e.meta.count}var t}},function(e){e.getAlertReleaser=e=>({release:t=>n=>{const r=n.items.map(e.removeAlertFromItem([t],n)),o=(0,u.pipe)(n.cardIndex,h.chain((t=>(0,u.pipe)(r.findRightFrom(e.isScheduledToDispose,t),h.map((e=>e.index))))),h.isSome)?x.Ct.skip:x.Ct.force;return(0,a._)((0,i._)({},n),{animation:o,items:r})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const r=(0,u.pipe)(n,e,h.filter((0,l.AU)(t.isScheduledToDispose)),h.map((e=>n.items.add((0,u.pipe)(e,t.unselect(h.none,n.itemsOrd))))),h.getOrElse((()=>n.items)));return(0,a._)((0,i._)({},n),{items:r,animation:x.Ct.force,cardIndex:h.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==x.Ir.advanced});const t=e=>(0,u.pipe)(w.ordNumber,w.contramap((t=>(0,u.pipe)(e.items.get(t.id),h.map(y.Up("index")),h.getOrElse((()=>-1))))));function n(e,t,n){return r=>(0,u.pipe)(h.of(r),h.filter((e=>!n.isScheduledToDispose(e)&&t(e))),h.chain(n.hasActiveAlert),h.filter((t=>e.isRegistered(t.alert.id))))}e.getSelectableByAlert=(e,n)=>({selectItemByAlert:r=>o=>{if(!n.willShowChecksFeed(o))return o;const c=e(o),d=o.items.find(n.isSelectableByAlert(r));(0,_.V1)(h.isSome(d),"Can not find card for provided alert. Unknown card or it is already disposed.",(()=>r.alert.toString()));const{value:p,index:f}=m.$v(d),g=(0,s.concatAll)(w.getMonoid())([o.itemsOrd,t(o)]),y=(0,u.pipe)(c,h.filter((0,l.AU)(n.isScheduledToDispose)),h.map((e=>o.items.add((0,u.pipe)(e,n.unselect(h.some(p),o.itemsOrd))))),h.getOrElse((()=>o.items))).add((0,u.pipe)(p,n.selectByAlert(c,r,g)));return(0,a._)((0,i._)({},o),{items:y,animation:x.Ct.force,cardIndex:h.some(f)})}}),e.getSelectableById=(e,n)=>({selectItemById:r=>o=>{const c=e(o),d=o.items.get(r),{value:p,index:f}=m.$v(d),g=(0,s.concatAll)(w.getMonoid())([o.itemsOrd,t(o)]),y=(0,u.pipe)(c,h.filter((0,l.AU)(n.isScheduledToDispose)),h.map((e=>o.items.add((0,u.pipe)(e,n.unselect(h.some(p),g))))),h.getOrElse((()=>o.items))).add((0,u.pipe)(p,n.select(c,g)));return(0,a._)((0,i._)({},o),{items:y,animation:x.Ct.force,cardIndex:h.some(f)})}}),e.getItemReleaser=()=>({removeItemById:e=>t=>r(t.items.remove(e))(t)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>(0,a._)((0,i._)({},t),{meta:k.J.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?(0,a._)((0,i._)({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>r=>{(0,_.V1)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const o=r.id,s=e=>{const r=e.items.map(t.removeAlertFromItem(n,e));return(0,a._)((0,i._)({},e),{items:r})};if(k.J.isOutcomeId(o))return s(r);switch(o){case k.J.SpecialId.AllAlerts:case k.J.SpecialId.PredictionTakeaways:case k.J.SpecialId.PredictionEmogenie:case k.J.SpecialId.RealTimeProofit:case k.J.SpecialId.FreePremiumAlerts:return s(r);case k.J.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case k.J.SpecialId.Plagiarism:return(0,_.V1)(n.every(S.Fc.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),s(r);default:return(0,_.xb)(o)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>(0,u.pipe)(x.Tt.getActiveItem(t),h.exists((t=>e.isScheduledToDispose(t))))||h.isNone(t.items.find((t=>!e.isScheduledToDispose(t))))}},e.getHasSelectableAlert=n,e.getHasAlerts=function(e,t,r,i){const a=e=>n(t,r(e),i),s=e=>e.id===k.J.SpecialId.Premium||e.id===k.J.SpecialId.Plagiarism?e.meta.count:(0,u.pipe)(x.Tt.getActiveItem(e),h.chain(i.hasActiveAlert),h.map((e=>e.alert)),h.exists(S.Fc.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:s,getActiveAlertsCount:s,getActiveAlert:e=>(0,u.pipe)(x.Tt.getActiveItem(e),h.chain(i.hasActiveAlert)),findFirstAlert:e=>(0,u.pipe)(e.items.values(),c.CX(a(e))),findNextAlert:t=>((0,_.V1)(h.isSome(x.Tt.getActiveItem(t))===h.isSome(t.cardIndex),"Lens is in wrong state: cardIndex must reference existing card"),(0,u.pipe)((0,o.CO)(h.option)(x.Tt.getActiveItem(t),t.cardIndex),h.chain((([n,r])=>(0,u.pipe)(e.nextAlert(n),h.alt((()=>e.prevAlert(n))),h.map((e=>({alert:e,highlightIndex:0}))),h.alt((()=>(0,u.pipe)(C.rq(t.items.values(),r,a(t)),h.map((e=>e.value)))))))),m.NW((0,u.pipe)(t.items.values(),c.CX(a(t))))))}};var r=e.setVisibleItems=e=>t=>(0,a._)((0,i._)({},t),{cardIndex:(0,u.pipe)(x.Tt.getActiveItem(t),h.chain((t=>(0,u.pipe)(e.get(t.id),h.map((e=>e.index)))))),items:e})}(R=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},93584:(e,t,n)=>{n.d(t,{Bm:()=>i,FA:()=>a,sL:()=>r});var r,i,a,o=n(23988),s=n(65011),l=n(84647),c=n(66202),u=n(36840),d=n(23121),p=n(86562),h=n(65390),f=n(58193),m=n(63967),g=n(62597),y=n(42543),v=n(46669),b=n(6987),w=n(54988),_=n(61586),C=n(58347),S=n(15491),k=n(89769),I=n(82718),A=n(7323),T=n(36094),E=n(83541),x=n(21216),R=n(95168),P=n(21662),L=n(68594),B=n(90405),N=n(78339),M=n(78884),O=n(87275),D=n(90045);!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(r||(r={})),function(e){e.Mock=class{ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getEnclosingMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}constructor(){(0,o._)(this,"events",new y.B7),(0,o._)(this,"focusAlertHighlight",(()=>c.left(new Error("Method not implemented.")))),(0,o._)(this,"highlightAlertHighlight",(()=>c.left(new Error("Method not implemented.")))),(0,o._)(this,"moveCursorToHighlight",u.Yi)}},e.getHighlightIndex=function(e,t){return(0,l.pipe)(t,c.mapLeft((()=>new Error("Mark is collapsed"))),c.chain((t=>d.zb((()=>{const n=e.getHighlightRanges(),r=n.length>1?n.findIndex((e=>e.start===t.start&&e.end===t.end)):0;return(0,p.V1)(-1!==r,"Could not find highlight index by Range for provided Alert",(()=>JSON.stringify({alertRanges:n,targetRange:t}))),r})))))}}(i||(i={})),function(e){var t=e.getHighlightSubscription=(e,t,n)=>e.pipe(v.F(h.getEq(m.HJ.ord).equals),b.n((e=>(0,l.pipe)(e,h.fold((()=>w.w),(e=>_.c.create((()=>(n.debug(`highlight mark: ${e.id}`),(0,l.pipe)(t.highlightAlertHighlight(e),c.fold((t=>(n.error("Cannot highlight mark",t,{alertId:e.id}),u.Yi)),(t=>()=>{n.debug(`unhighlight mark: ${e.id}`),t.dispose()})))))))))))),n=(e.getHoverAlertHightlightSource=(e,t,n,r)=>(0,l.pipe)(r,C.B(100),S.T((0,l.flow)(h.chain((r=>{const i=e.get();return O.os.hasCards(i)?i.currentLens.items.find((e=>(0,l.pipe)(t.hasActiveAlert(e),h.map((e=>e.alert)),h.exists((t=>e.id===r&&n.isRegistered(t.id)))))):h.none})),h.chain((({value:e})=>t.hasActiveAlert(e))),h.map((e=>e.alert)))),v.F(h.getEq(m.HJ.ord).equals),S.T(h.map((t=>({alert:t,highlightIndex:0,source:e.get().alertSource})))),k.Z(h.none)),e.highlightMarkByHighlightedCard=(e,n,r,i,a,o)=>{const s=t(e.hovered.pipe(C.B(100),S.T((0,l.flow)(h.chain((e=>{const t=n.get();return O.os.hasCards(t)?t.currentLens.items.find((t=>(0,l.pipe)(a.hasActiveAlert(t),h.map((e=>e.alert)),h.exists((n=>t.id===e&&i.isRegistered(n.id)))))):h.none})),h.chain((({value:e})=>a.hasActiveAlert(e))),h.map((e=>e.alert))))),r,o);return{id:"highlightMarkByHighlightedAlert",when:g.J.isWithAlertsId,what:O.os.Effect.Applicator.create(s.pipe(I.K(A.t)))}},e.getAlertHighlightSource=e=>t=>(0,l.pipe)(t,v.F(h.getEq(m.HJ.ord).equals),S.T(h.map((t=>({alert:t,source:e,highlightIndex:0})))),k.Z(h.none)),e.getActiveHighlightSource=(e,t,n)=>e.view(O.os.mapper((({currentLens:e,alertSource:t})=>(0,l.pipe)(n(e),h.map((e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))))).pipe(b.n(T._F.rafScheduler),E.skipBy(h.getEq(M.z.getEq())),S.T(h.filter((e=>h.isSome(t.getRegistered(e.alert.id)))))));e.focusMarkByActiveAlert=(e,t,r,i,a,o=x.of(!0))=>{const s=(0,l.pipe)(n(e,r,i),R.M(f.Mi((e=>a.trace("new alert highlight: ",e)))),P.E(o),b.n((([e,n])=>(0,l.pipe)(e,h.fold((()=>(a.debug("Nothing to focus"),w.w)),(e=>_.c.create((()=>(a.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}, shouldMoveCursor: ${n}`),e.source===m.Kz.sidebar&&n&&t.moveCursorToHighlight(e,"start"),(0,l.pipe)(t.focusAlertHighlight(e),c.fold((t=>(a.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),u.Yi)),(t=>()=>{a.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()}))))))))))));return{id:"focusMarkByActiveAlert",when:g.J.isWithAlertsId,what:O.os.Effect.Applicator.create(s.pipe(I.K(A.t)))}},e.focusAlertByClickedMark=(e,t,n)=>({id:"focusAlertByActiveMark",when:O.os.Effect.When.isSidebarOpen,what:O.os.Effect.SwitchAlert.create(e.pipe(L.i(1),B.oE,P.E(t.pipe(N.p(O.os.hasCards))),N.p((([e,t])=>m.Fc.State.isRegistered(e.alert.state)&&(0,l.pipe)(e.alert,D.p.findItemWithAlertInLens(t.currentLens,n),h.isSome))),S.T(s.Es),S.T((({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:m.Kz.text,options:{order:"textOrder"}})))))}),e.createOnAlertApplySideEffect=function(e,t){const n=e.pipe(S.T((e=>n=>e.type===r.Type.AppliedAlertAnimationFinished&&n.currentLens.meta.filter(e.alert)&&m.Fc.isApplicableAlert(e.alert)&&O.os.hasItems(n)?n.patch({currentLens:t.finishApplyAnimation([e.alert])(n.currentLens),alertSource:e.alert.state.source}):n)));return{id:"onAlertApply",when:O.os.Effect.When.isSidebarOpen,what:O.os.Effect.Applicator.create(n)}}}(a||(a={}))},71202:(e,t,n)=>{n.d(t,{oh:()=>c});var r=n(23988),i=n(84647),a=n(80074),o=n(60575),s=n(54988),l=n(48368);class c{isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){o.Bx.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=a.s.create(l.f.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:i.constVoid,dotClicked:()=>t.set(l.f.Popup),popupClosed:()=>t.set(l.f.Passed),popupIgnored:()=>t.set(l.f.Hidden),actionTaken:()=>t.set(l.f.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}constructor(){(0,r._)(this,"completionTrigger",a.s.create(!1)),(0,r._)(this,"_steps",{}),(0,r._)(this,"getFirstTargetRect",(()=>s.w))}}},48368:(e,t,n)=>{n.d(t,{f:()=>i});var r,i,a=n(84647),o=n(80074),s=n(21216),l=n(65390);!function(e){e.mock=()=>({isStepEnabled:a.constFalse,subscribeForStep:()=>{throw new Error("Not implemented")},getStepCompletionCallback:(0,a.constant)(a.constVoid),changeState:a.constVoid,relaunchAllSteps:a.constVoid,getFirstTargetRect:()=>s.of(l.none),isLastStep:a.constFalse,completionTrigger:o.s.create(!1)})}(r||(r={})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Popover="popover",e.Passed="passed"}(i||(i={}))},757:(e,t,n)=>{n.d(t,{E:()=>r,T:()=>_});var r,i=n(50659),a=n(84647),o=n(84906),s=n(65390),l=n(41548),c=n(54988),u=n(21216),d=n(19772),p=n(82718),h=n(90405),f=n(15491),m=n(46669),g=n(83541),y=n(6987),v=n(24946),b=n(21662),w=n(89769);function _(e=12){const{ref:t,onMount:n}=d.R.useElWatcher(),{cardHeight:c,cardVisibleViewportHeight:p}=i.useContext(r.Context),h=i.useContext(l.q.Context);return{onMount:n,maxHeight:i.useRef(t.pipe(y.n(s.fold((0,a.constant)(u.of(s.none)),(e=>c.pipe(v.s(1),b.E(p),f.T((([t,n])=>(0,a.pipe)(n,s.map((n=>e.offsetHeight+Math.max(0,n-t)))))))))),w.Z(s.none),b.E(h.pipe(w.Z(void 0),f.T(s.fromNullable))),f.T((([t,n])=>(0,a.pipe)(t,s.alt((()=>(0,a.pipe)(n,s.map((t=>e*t)))))))),m.F(s.getEq(o.Eq).equals))).current,ref:t}}!function(e){var t=e.Context=i.createContext({cardHeight:c.w,cardVisibleViewportHeight:u.of(s.none)});e.Provider=e=>{const{ref:n,onMount:r}=d.R.useElWatcher(),a=i.useRef({cardHeight:e.card.pipe(p.K(n.pipe(h.oE,f.T((e=>e.offsetHeight)))),m.F(),g.shareReplay({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:e.cardVisibleViewportHeight.pipe(m.F(s.getEq(o.Eq).equals),g.shareReplay({bufferSize:1,refCount:!0}))});return i.createElement(t.Provider,{value:a.current},e.children(r))}}(r||(r={}))},59054:(e,t,n)=>{n.d(t,{y:()=>_,z:()=>w});var r=n(10334),i=n(17171),a=n(27199),o=n(11864),s=n(4885),l=n(72747);const c={position:"relative",borderRadius:o.Ks.rem(l.Am),background:a.Q1.CoreNeutral0,boxShadow:`0 ${o.Ks.rem(.625)} ${o.Ks.rem(l.o1)} 0 rgba(198, 203, 222, .45)`},u={$nest:{"&:before":{position:"absolute",width:o.Ks.px(10),height:o.Ks.px(10),borderRadius:o.Ks.percent(50),content:"''",transform:"scale(.5)"}}},d={$nest:{"&:before":{backgroundColor:s.YP}}},p={$nest:{"&:before":{backgroundColor:s.jr}}},h={$nest:{"&:before":{backgroundColor:a.Q1.CoreRed50}}},f={$nest:{"&:before":{backgroundColor:a.Q1.CoreBlue50}}},m={$nest:{"&:before":{backgroundColor:a.Q1.CoreGreen50}}},g={$nest:{"&:before":{backgroundColor:a.Q1.CorePurple50}}},y={$nest:{"&:before":{backgroundColor:a.Q1.CoreNeutral50}}},v={$nest:{"&:before":{backgroundColor:a.Q1.CoreNeutral50}}},b={$nest:{"&:before":{backgroundColor:a.Q1.CoreGreen60}}},w={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},_=(0,i._)((0,r._)({},o.Ks.stylesheet({dot:[u],dotAdvanced:[p],dotCritical:[d],dotCorrectness:[h],dotClarity:[f],dotEngagement:[m],dotDelivery:[g],dotVox:[y],knowledgeHub:[v],dotWritingExpert:[b]})),{fullCard:o.Ks.joinClasses([w.fullCardSelector,o.Ks.style(c)])})},325:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(62597),i=n(51707),a=n(45653),o=n(59054);const s=["b","i","br","ul","li"];var l;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:s.concat(["a"]),linkRegExp:t}:{allowedTags:s};return i.mA(e,n)},e.getDotStyle=e=>a.A.isWritingExpert(e)?o.y.dotWritingExpert:r.J.outcomeTypeMatch({correctness:o.y.dotCorrectness,clarity:o.y.dotClarity,premium:o.y.dotAdvanced,engagement:o.y.dotEngagement,delivery:o.y.dotDelivery,vox:o.y.dotVox,knowledgeHub:o.y.knowledgeHub})(e.lensType)}(l||(l={}))},95366:(e,t,n)=>{n.d(t,{V:()=>i,c:()=>r});const r={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"},i={llamaShadowToken:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"}},88219:(e,t,n)=>{n.d(t,{$s:()=>re,OM:()=>ae,Vy:()=>ce,cS:()=>pe,gs:()=>le,iF:()=>te,mC:()=>ne});var r=n(10334),i=n(17171),a=n(50659),o=n(84647),s=n(19840),l=n(80074),c=n(87574),u=n(35198),d=n(82608),p=n(38908),h=n(22835),f=n(86562),m=n(36840),g=n(65390),y=n(86922),v=n(19967),b=n(14737),w=n(24290),_=n(27917),C=n(10486),S=n(65873),k=n(89011),I=n(15491),A=n(72017),T=n(26251),E=n(757),x=n(82315),R=n(33320),P=n(79750);const L=e=>e?R.a:R.m,B=({theme:e,children:t})=>a.createElement(S.tu,{className:e.list},t),N=({transform:e,title:t,disabled:n,boldifier:r=W,classes:i,onClick:o})=>a.createElement(v.$n,{animationMode:b.g.FromClickPoint,name:"apply-insert",role:"insertion",tag:w.f.div,onClick:o,title:t,disabled:n,className:i.itemInsert},e.map(((e,t)=>a.createElement(a.Fragment,{key:t},r(e,i.diff))))),M=({transform:e,theme:t,showOnboarding:n,onClick:i,onExpand:o})=>{const l=a.useContext(y.S.Context),c=e.label.map(((e,t)=>a.createElement(a.Fragment,{key:t},e.text))),u=a.createElement(v.$n,(0,r._)({animationMode:b.g.FromClickPoint,name:"expand-insert",onClick:o,title:l.synfony.drilldownTooltip(c)},(0,s.Ly)(t.itemInsert,t.drilldownArrowButton)),a.createElement(_.In.Arrow,{direction:_.bO.right,className:t.drilldownIcon}));return a.createElement("div",{className:t.drilldownInsertGroup},a.createElement(v.$n,{animationMode:b.g.FromClickPoint,name:"apply-insert",role:"insertion",tag:w.f.div,onClick:i,title:l.synfony.applyTooltip,className:t.itemInsert},c),Boolean(e.subLabels.length)&&(n?a.createElement(ie,null,u):u))},O=({transform:e,title:t,theme:n,onClick:r})=>a.createElement(v.$n,{animationMode:b.g.FromClickPoint,name:"apply-remove",role:"deletion",tag:w.f.div,onClick:r,title:t,className:n.itemRemove},e.map(((e,t)=>a.createElement(q,{key:t,element:e,theme:n})))),D=({transform:e,title:t,theme:n,onClick:r,children:i})=>a.createElement("div",{className:n.removeOrContainer},e.map(((i,o)=>"text"===i.type?a.createElement("span",{key:o,className:o===e.length-1?n.itemContextShifted:n.itemContext},i.text):a.createElement(v.$n,{key:o,animationMode:b.g.FromClickPoint,name:"apply-remove-or",role:"deletion",tag:w.f.div,onClick:r,title:t,className:n.itemRemove},a.createElement(q,{element:i,theme:n})))),i),K=e=>a.createElement("span",{className:e.classes.or},a.useContext(y.S.Context).card.or),F=({transform:e,replacements:t,boldifier:n=W,theme:r,strikeThrough:i=!0})=>{var l;const c=e.every((e=>null===e.text.match(/\n/))),u=e.map((e=>e.text)).join(""),d=1===t.length?t[0].map((e=>e.text)).join(""):"",h=(0,P.$B)(u,d),f=(0,o.pipe)(null===(l=h)||void 0===l?void 0:l.oldFragment,(e=>Boolean(e)&&p.TD(e))),m=c&&f;return a.createElement("div",(0,s.Ly)(r.itemOriginal,i&&r.itemOriginalStrikeThrough),a.createElement("span",(0,s.Ly)(r.itemOriginalContent,m&&r.spacesOnlyContent),e.map(((e,t)=>a.createElement(a.Fragment,{key:t},n(e,r.diff))))))},$=()=>{const e=a.useContext(y.S.Context);return a.createElement(u.E.Regular,{a11yContrast:!0},e.beta)},H=({transform:e,boldifier:t=W,header:n,classes:r,onClick:i,beta:o})=>a.createElement(v.$n,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n,Boolean(o)&&a.createElement($,null)):null,e.map(((e,n)=>a.createElement(a.Fragment,{key:n},t(e,r.diff))))),G=({transform:e,boldifier:t=W,header:n,classes:r,onClick:i,beta:s})=>a.createElement(v.$n,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n,Boolean(s)&&a.createElement($,null)):null,a.createElement(d.Typography.Base,{className:r.transform},e.filter((e=>[A.Iq.Text,A.Iq.Insert].includes(e.type))).map(((e,n)=>a.createElement(a.Fragment,{key:n},t((0,o.unsafeCoerce)(e),r.diff)))))),W=h.Up("text"),V=({text:e,type:t},n)=>"text"===t?e:a.createElement("span",{className:n},e),q=({element:e,strikeClass:t,theme:n})=>"delete"===e.type?a.createElement("span",(0,s.Ly)(P.n.getClass(n,e.text),t),e.text):a.createElement(a.Fragment,null,e.text);const U=/^\W/,j=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceDelete;case A.Iq.Insert:return U.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case A.Iq.Text:case A.Iq.List:return"";default:return(0,f.xb)(e)}},z=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceHidden;case A.Iq.List:case A.Iq.Text:case A.Iq.Insert:return"";default:return(0,f.xb)(e)}},Q=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceHidden;case A.Iq.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case A.Iq.Insert:case A.Iq.Text:return"";default:return(0,f.xb)(e)}},Y=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceHidden;case A.Iq.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case A.Iq.Insert:case A.Iq.Text:return"";default:return(0,f.xb)(e)}},J=({p:e,theme:t})=>{const n=l.s.create(e.shouldBeCollapsed);return a.createElement(c.F.Fragment,null,n.view((0,m.Sw)(a.createElement("span",{className:e.type===A.Iq.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>n.set(!1),role:"button",tabIndex:0},a.createElement("span",{className:t.collapsiblePartContent},"…")),a.createElement(a.Fragment,null,e.text))))},Z=(e,t,n)=>{if(!e.shouldBeCollapsed)return e.text;switch(e.type){case A.Iq.Insert:case A.Iq.Delete:return t?a.createElement(J,{p:e,theme:n}):e.text;case A.Iq.Text:return a.createElement("span",null," … ");default:(0,f.xb)(e)}},X=e=>{const t=(0,o.pipe)(e.showDiff,(0,m.Sw)(j,z),(t=>t(e.transformPart,e.theme)));return a.createElement("span",{className:t},Z(e.transformPart,e.showDiff,e.theme))},ee=e=>{const t=(0,o.pipe)(e.showDiff,(0,m.Sw)(Q,Y),(t=>t(e.transformPart,e.theme)));return e.transformPart.type===A.Iq.List?a.createElement("span",{className:t,"data-indent":e.transformPart.indent}):a.createElement("span",{className:t},Z(e.transformPart,e.showDiff,e.theme))},te=({index:e=0,oldText:t,theme:n,newText:r})=>{const i=(0,P.LE)(t,r),o=!!i&&p.TD(i[1]);return a.createElement(a.Fragment,null,i?[i[0],a.createElement("span",{key:e,className:o?n.spacesOnlyContent:n.diff},i[1]),i[2]]:r)},ne=e=>{const{onMount:t,maxHeight:n}=(0,E.T)(),r=L(e.a11yContrast);return a.createElement(S.C6,{mount:t,style:{maxHeight:n.pipe(I.T(g.getOrElse(o.constUndefined)))},tabIndex:0,className:(0,o.pipe)(e.layoutDensity,T.p.Density.matchOrDefault(T.p.Density.minimal)((()=>r.minimalFullSentenceBackground),(()=>r.fullSentenceBackground)))},e.replacements.kind===A.lW.WithFormatting?e.replacements.labels.map(((t,n)=>a.createElement(ee,{showDiff:e.showDiff,transformPart:t,key:n,theme:r}))):e.replacements.labels.map(((t,n)=>a.createElement(X,{showDiff:e.showDiff,transformPart:t,key:n,theme:r}))))},re=({replacements:e,layoutDensity:t,a11yContrast:n,selection:r,onClick:i,onDive:o,onBack:s})=>{const l=a.useContext(y.S.Context),{activeLabels:c,original:u}=A.hx.getSelectedItems(e,r),d=L(n);return a.createElement(B,{theme:d},a.createElement("div",{className:d.drilldownOriginalRow},r.length>0&&a.createElement(v.$n.Ghost,{name:"go-back",title:l.synfony.back,onClick:s,className:d.drilldownBackButton},a.createElement(_.In.Arrow,{direction:_.bO.left})),a.createElement(F,{transform:u,theme:d,replacements:[],strikeThrough:!Boolean(r)||0===r.length})),a.createElement("div",{className:t===T.p.Density.cozy?d.cozyArrowInsertsList:d.arrowInsertsList},c.map(((e,t)=>a.createElement(M,{key:t,transform:e,showOnboarding:2===t,theme:d,onClick:i(e.alternativeId),onExpand:()=>o(t,e.alternativeId)})))))},ie=e=>{const t=a.useContext(y.S.Context);return a.createElement(x.M7,{alignment:"topLeft",eventType:"onclick",stepId:k.E.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:x.p3.rightCenter}},e.children)},ae=e=>{const t=a.useContext(y.S.Context).card,n=""===e.gapValue,r=L(e.a11yContrast);return a.createElement(a.Fragment,null,a.createElement(C.kI,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:r.oneGapInput}),a.createElement(N,{title:n?"":t.todoAction(e.replacements.tooltipText),boldifier:V,onClick:e.onApply,classes:{itemInsert:r.oneGapInsert,inlineHeader:r.inlineHeader,diff:r.diff},disabled:n,transform:oe(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},oe=(e,t,n)=>[...e,{type:A.Iq.Insert,text:se(e)+(t||"…")+se(n),shouldBeCollapsed:!1},...n],se=e=>e.length?" ":"",le=({replacementsLabels:e,layoutDensity:t,a11yContrast:n,onClick:r})=>{const i=a.useContext(y.S.Context).card.todoAction(e.tooltipText),o=L(n);switch(e.type){case A.pJ.Type.InsertList:return a.createElement(B,{theme:o},e.labels.map(((e,t)=>a.createElement(N,{key:t,title:i,onClick:r(t),transform:e,classes:o}))));case A.pJ.Type.DeleteList:return a.createElement(B,{theme:o},e.labels.map(((e,t)=>a.createElement(O,{key:t,title:i,onClick:r(t),transform:e,theme:o}))));case A.pJ.Type.Arrow:return function({labels:e,original:t,onlyReplacements:n},r,i,o,s){const l=1===t.length,[c]=l?[t[0].text,e[0][0].text].map((e=>(t,n)=>r=>a.createElement(te,{index:n,oldText:t,newText:r.text,theme:e}))(o)):[V,V];return a.createElement(B,{theme:o},!n&&a.createElement(F,{transform:t,theme:o,replacements:e}),a.createElement("div",{className:i===T.p.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map(((e,t)=>a.createElement(N,{key:t,title:r,onClick:s(t),transform:e,boldifier:c,classes:o})))))}(e,i,t,o,r);case A.pJ.Type.InsertOr:return a.createElement(B,{theme:o},a.createElement(N,{transform:e.labels[0],title:i,onClick:r(0),boldifier:V,classes:o}),a.createElement(K,{classes:o}),a.createElement(N,{transform:e.labels[1],title:i,onClick:r(1),boldifier:V,classes:o}));case A.pJ.Type.DeleteOr:return a.createElement(B,{theme:o},e.labels.map(((t,n)=>a.createElement(D,{key:n,title:i,onClick:r(n),theme:o,transform:t},n===e.labels.length-2&&a.createElement(K,{classes:o})))));case A.pJ.Type.Citation:case A.pJ.Type.FullSentence:case A.pJ.Type.OneGap:case A.pJ.Type.Drilldown:case A.pJ.Type.ShortenIt:case A.pJ.Type.ToneAI:case A.pJ.Type.WritingExpert:return null;default:return(0,f.xb)(e)}},ce=({replacementsLabels:e,onClick:t,header:n,customStyle:r,a11yContrast:i,beta:o})=>{const s=Array.isArray(e.labels)&&1===e.labels.length?r.inlineHeaderOne:r.inlineHeader,l=L(i);switch(e.type){case A.pJ.Type.DeleteList:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map(((e,i)=>a.createElement(H,{key:i,onClick:t(i),classes:{item:r.itemRemove,inlineHeader:s,diff:l.diff},boldifier:e=>a.createElement(q,{element:e,strikeClass:r.strike,theme:l}),transform:e,header:0===i?n:""}))));case A.pJ.Type.InsertList:case A.pJ.Type.InsertOr:case A.pJ.Type.Arrow:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map(((e,i)=>a.createElement(H,{key:i,onClick:t(i),classes:{item:r.itemInsert,inlineHeader:s,diff:l.diff},transform:e,boldifier:e=>V(e,r.diff),header:0===i?n:""}))));case A.pJ.Type.FullSentence:case A.pJ.Type.WritingExpert:return a.createElement("div",{className:r.inlineWrappedList},a.createElement(G,{onClick:t(0),classes:{item:r.itemInsert,inlineHeader:s,diff:l.diff,transform:r.transform},transform:e.labels,boldifier:e=>V(e,r.diff),header:n,beta:o}));case A.pJ.Type.DeleteOr:case A.pJ.Type.OneGap:case A.pJ.Type.Drilldown:case A.pJ.Type.ShortenIt:case A.pJ.Type.ToneAI:case A.pJ.Type.Citation:return null;default:return(0,f.xb)(e)}},ue=({label:e,a11yContrast:t})=>{const n=e.findIndex((e=>e.type===A.Iq.Delete));let o=e.reduce(((e,t)=>e.concat(t.text.split(" ").map((e=>({word:e,isDelete:t.type===A.Iq.Delete,shouldHighlight:!1}))))),[]).filter((e=>""!==e.word));return o=0===n?o.filter((e=>!e.isDelete)).map(((e,t)=>{let n=!1;return t-2<0&&(n=!0),(0,i._)((0,r._)({},e),{shouldHighlight:n})})):n===e.length-1?o.filter((e=>!e.isDelete)).map(((e,t,n)=>{let a=!1;return t+2>=n.length&&(a=!0),(0,i._)((0,r._)({},e),{shouldHighlight:a})})):o.map(((e,t,n)=>{let a=!1;return(void 0!==n[t+1]&&n[t+1].isDelete||void 0!==n[t-1]&&n[t-1].isDelete)&&(a=!0),(0,i._)((0,r._)({},e),{shouldHighlight:a})})).filter((e=>!e.isDelete)),a.createElement(a.Fragment,null,o.map(((e,n,r)=>a.createElement("span",{key:`${e.word}-${n}`,className:e.shouldHighlight?L(t).toneAIInsert:void 0},e.word,void 0===r[n+1]||(0,P.Bx)(r[n+1].word)?"":" "))))},de=({label:e,a11yContrast:t})=>a.createElement(a.Fragment,null,e.filter((e=>e.type!==A.Iq.Delete)).map((e=>a.createElement("span",{key:e.text,className:e.type===A.Iq.Insert?L(t).toneAIInsert:void 0},e.text)))),pe=({label:e,className:t,a11yContrast:n})=>{let r;return r=e.some((e=>e.type===A.Iq.Insert))?a.createElement(de,{label:e,a11yContrast:n}):a.createElement(ue,{label:e,a11yContrast:n}),a.createElement("div",{className:t},r)}},33320:(e,t,n)=>{n.d(t,{a:()=>ee,m:()=>X});var r=n(10334),i=n(17171),a=n(80152),o=n(24497),s=n(38548),l=n(27199),c=n(11864),u=n(29120),d=n(72747);const p=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:c.Ks.rem(.5*e)}}}),h=(e,t,n,r)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:`card-list${t}`,counterReset:r,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${n}) '. '`}}}}}),f=e=>[h(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),h(e,5,"lower-roman","card-list6 card-list7 card-list8"),h(e,6,"decimal","card-list7 card-list8"),h(e,7,"lower-alpha","card-list8"),h(e,8,"lower-roman","none")],m="cards-replacements_labels-",g={list:`${m}list`,item:`${m}item`,diff:`${m}diff`,columnList:`${m}columnList`,itemInsert:`${m}itemInsert`,deleteAll:`${m}deleteAll`,crossed:`${m}crossed`,deleteQuote:`${m}deleteQuote`,deletePunctuation:`${m}deletePunctuation`,deleteDoubleComma:`${m}deleteDoubleComma`,deleteApostrophe:`${m}deleteApostrophe`,deleteLetter:`${m}deleteLetter`,deletePunctuationBeforeLetter:`${m}deletePunctuationBeforeLetter`,itemOriginal:`${m}itemOriginal`,itemOriginalStrikeThrough:`${m}itemOriginalStrikeThrough`,itemOriginalContent:`${m}itemOriginalContent`,spacesOnlyContent:`${m}spacesOnlyContent`,removeOrContainer:`${m}removeOrContainer`,itemContext:`${m}itemContext`,itemContextShifted:`${m}itemContextShifted`,or:`${m}or`,arrowInsertsList:`${m}arrowInsertsList`,cozyArrowInsertsList:`${m}cozyArrowInsertsList`,inlineHeader:`${m}inlineHeader`,fullSentenceBackground:`${m}fullSentenceBackground`,minimalFullSentenceBackground:`${m}minimalFullSentenceBackground`,fullSentenceDelete:`${m}fullSentenceDelete`,fullSentenceDeleteCollapsed:`${m}fullSentenceDeleteCollapsed`,fullSentenceHidden:`${m}fullSentenceHidden`,fullSentenceListItem:`${m}fullSentenceListItem`,fullSentenceBulletListItem:`${m}fullSentenceBulletListItem`,fullSentenceDashedListItem:`${m}fullSentenceDashedListItem`,fullSentenceOrderedListItem:`${m}fullSentenceOrderedListItem`,fullSentenceOrderedListItemWithFormatting:m+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:m+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:m+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:`${m}fullSentenceInsert`,fullSentenceInsertPunctuation:`${m}fullSentenceInsertPunctuation`,toneAIInsert:`${m}toneAIInsert`,itemRemove:`${m}itemRemove`,oneGapInsert:`${m}oneGapInsert`,oneGapInput:`${m}oneGapInput`,drilldownInsertGroup:`${m}drilldownInsertGroup`,drilldownArrowButton:`${m}drilldownArrowButton`,drilldownIcon:`${m}drilldownIcon`,drilldownOriginalRow:`${m}drilldownOriginalRow`,drilldownBackButton:`${m}drilldownBackButton`,collapsibleDelete:`${m}collapsibleDelete`,collapsibleInsert:`${m}collapsibleInsert`,collapsiblePartContent:`${m}collapsiblePartContent`},y={position:"relative",overflow:"hidden",margin:`0 ${c.Ks.rem(.5)} ${c.Ks.rem(.5)} 0`,padding:`${c.Ks.rem(.25)} ${c.Ks.rem(.5)}`,borderRadius:c.Ks.rem(d.H0),color:l.Q1.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:c.Ks.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},v={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:c.Ks.rem(.3125),width:"1px",height:"120%",background:l.Q1.CoreNeutral0,content:"''",opacity:.8}}},b={position:"relative",marginRight:c.Ks.rem(.5),whiteSpace:"nowrap"},w=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${c.Ks.rem(1)} 0`,padding:e?0:c.Ks.rem(.5),maxHeight:c.Ks.rem(12),borderRadius:c.Ks.rem(d.H0),background:e?l.Q1.CoreNeutral0:l.Q1.CoreNeutral10,color:l.Q1.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${d.UO}, ${d.ZQ}`}),_={position:"relative",marginRight:c.Ks.rem(.5),maxWidth:`calc(100% - ${c.Ks.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:c.Ks.rem(.5),color:l.Q1.CoreNeutral50,content:"'→'",verticalAlign:"middle"}}},C={textDecoration:"line-through",color:l.Q1.CoreRed40,textDecorationLine:"line-through"},S=[p(0),p(1),p(2),p(3),p(4),p(5),p(6),p(7),p(8)],k={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${d.UO}, ${d.ZQ}`},I=e=>({display:"inline-block",background:e?a.Q.Background.Brand.Default:l.Q1.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?o.Blue80:l.Q1.CoreGreen50},"&[data-disabled='true']":{background:e?a.Q.Background.Brand.Default:l.Q1.CoreGreen40,opacity:.4}}}),A={$nest:{"&:after":{transform:"rotate(-25deg)"}}},T={paddingRight:c.Ks.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},E=e=>({color:e?a.Q.Background.Brand.Default:l.Q1.CoreGreen60,fontWeight:600}),x={paddingRight:c.Ks.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},R={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},P={display:"flex",flexBasis:"100%"},L={margin:`0 ${c.Ks.rem(.5)} ${c.Ks.rem(.5)} 2px`,color:l.Q1.CoreNeutral60},B={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},N={marginBottom:c.Ks.rem(.25),color:l.Q1.CoreNeutral60,fontWeight:400,fontSize:c.Ks.rem(.8),lineHeight:c.Ks.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},M={color:a.Q.Background.Critical.Default,textDecoration:"line-through",fontWeight:600},O=(0,i._)((0,r._)({},M),{textDecoration:"none"}),D={fontWeight:"bold",color:l.Q1.CorePurple50},K={background:a.Q.Background.Critical.Default,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:o.Red80}}},F={$nest:{"&:before":{content:"'¶\\A\\00a0-\\00a0'"}}},$={$nest:{"&:before":{content:"'¶\\A\\00a0\\2022\\00a0'"}}},H={width:"100%",marginTop:c.Ks.rem(.5),marginBottom:c.Ks.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:l.Q1.CoreNeutral40}}},G={marginTop:c.Ks.rem(.5),lineHeight:`calc(${c.Ks.rem(2)} - ${c.Ks.px(2)})`,padding:`0 ${c.Ks.rem(.5)}`,border:c.Ks.important(`${c.Ks.px(1)} solid ${l.Q1.CoreNeutral50}`),color:l.Q1.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:c.Ks.important(l.Q1.CoreNeutral20)}}},W=u.b.style(y,I(!1)),V={margin:`0 ${c.Ks.rem(.5)} ${c.Ks.rem(.5)} 0`,$nest:{[`& .${g.itemInsert}`]:{transitionProperty:"background",margin:0},[`& > .${g.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${g.drilldownArrowButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},q={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:c.Ks.rem(.1875),paddingRight:c.Ks.rem(.3125)},U={width:c.Ks.rem(1),height:c.Ks.rem(1),minWidth:c.Ks.rem(1),minHeight:c.Ks.rem(1),verticalAlign:"top",marginTop:c.Ks.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:c.Ks.important("white")}}},j={width:c.Ks.percent(100),marginBottom:c.Ks.rem(.5),display:"flex",$nest:{"& > *":{marginRight:c.Ks.rem(.5)}}},z={background:l.Q1.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:l.Q1.CoreNeutral10}}},Q={display:"inline-block",width:c.Ks.rem(1),lineHeight:c.Ks.rem(.625),height:c.Ks.rem(.625),margin:`0 ${c.Ks.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:c.Ks.rem(d.OC)},Y={lineHeight:c.Ks.rem(.2),verticalAlign:"super",marginLeft:"1px"},J=(0,i._)((0,r._)({},Q),{backgroundColor:l.Q1.CoreRed10}),Z=(0,i._)((0,r._)({},Q),{backgroundColor:l.Q1.CoreGreen10}),X={list:c.Ks.joinClasses([g.list,c.Ks.style(k),u.b.style(k)]),item:c.Ks.joinClasses([g.item,c.Ks.style(y),u.b.style(y)]),itemInsert:c.Ks.joinClasses([g.itemInsert,c.Ks.style(y,I(!1)),W]),deleteAll:c.Ks.joinClasses([g.deleteAll,c.Ks.style({textDecoration:"line-through"}),u.b.style({textDecoration:"line-through"})]),crossed:c.Ks.joinClasses([g.crossed,c.Ks.style(v)]),deleteQuote:c.Ks.joinClasses([g.deleteQuote,c.Ks.style(v,A),u.b.style(v,A)]),deletePunctuation:c.Ks.joinClasses([g.deletePunctuation,c.Ks.style(v,T),u.b.style(v,T)]),deleteDoubleComma:c.Ks.joinClasses([g.deleteDoubleComma,c.Ks.style({textDecoration:"line-through"}),u.b.style({textDecoration:"line-through"})]),deleteApostrophe:c.Ks.joinClasses([g.deleteApostrophe,c.Ks.style(v,x),u.b.style(v,x)]),deleteLetter:c.Ks.joinClasses([g.deleteLetter,c.Ks.style(R),u.b.style(R)]),deletePunctuationBeforeLetter:c.Ks.joinClasses([g.deletePunctuationBeforeLetter,c.Ks.style({textDecoration:"line-through"}),u.b.style({textDecoration:"line-through"})]),itemOriginal:c.Ks.joinClasses([g.itemOriginal,c.Ks.style(_),u.b.style(_)]),itemOriginalStrikeThrough:c.Ks.joinClasses([g.itemOriginalStrikeThrough,c.Ks.style(C),u.b.style(C)]),itemOriginalContent:c.Ks.joinClasses([g.itemOriginalContent,c.Ks.style({color:l.Q1.CoreNeutral90}),u.b.style({color:l.Q1.CoreNeutral90})]),spacesOnlyContent:c.Ks.joinClasses([g.spacesOnlyContent,c.Ks.style({whiteSpace:"pre"})]),removeOrContainer:c.Ks.joinClasses([g.removeOrContainer,c.Ks.style(P),u.b.style(P)]),itemContext:c.Ks.joinClasses([g.itemContext,c.Ks.style(b)]),itemContextShifted:c.Ks.joinClasses([g.itemContextShifted,c.Ks.style(b,{marginRight:"2px"}),u.b.style(b,{marginRight:"2px"})]),or:c.Ks.joinClasses([g.or,c.Ks.style(L),u.b.style(L)]),arrowInsertsList:c.Ks.joinClasses([g.arrowInsertsList,c.Ks.style(B),u.b.style(B)]),columnList:c.Ks.joinClasses([g.columnList,c.Ks.style(B,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),u.b.style(B)]),cozyArrowInsertsList:c.Ks.joinClasses([g.arrowInsertsList,c.Ks.style(B,{flex:2,flexBasis:"0%"}),u.b.style(B)]),inlineHeader:c.Ks.joinClasses([g.inlineHeader,c.Ks.style(N),u.b.style(N)]),toneAIInsert:c.Ks.joinClasses([g.toneAIInsert,c.Ks.style(D),u.b.style(D)]),fullSentenceBackground:c.Ks.joinClasses([g.fullSentenceBackground,c.Ks.style(w(!1)),u.b.style(w(!1))]),minimalFullSentenceBackground:c.Ks.joinClasses([g.minimalFullSentenceBackground,c.Ks.style(w(!1),{lineHeight:c.Ks.rem(1.3125)}),u.b.style(w(!1),{lineHeight:c.Ks.rem(1.3125)})]),fullSentenceDelete:c.Ks.joinClasses([g.fullSentenceDelete,c.Ks.style(M),u.b.style(M)]),fullSentenceDeleteCollapsed:c.Ks.joinClasses([g.fullSentenceDeleteCollapsed,c.Ks.style(O),u.b.style(O)]),fullSentenceHidden:c.Ks.joinClasses([g.fullSentenceHidden,c.Ks.style({display:"none"})]),fullSentenceListItem:c.Ks.joinClasses([g.fullSentenceListItem,c.Ks.style(...S),u.b.style(...S)]),fullSentenceBulletListItem:c.Ks.joinClasses([g.fullSentenceBulletListItem,c.Ks.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),u.b.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:c.Ks.joinClasses([g.fullSentenceDashedListItem,c.Ks.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),u.b.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:c.Ks.joinClasses([g.fullSentenceOrderedListItem,c.Ks.style(...f(""),...S),u.b.style(...f(""),...S)]),fullSentenceOrderedListItemWithFormatting:c.Ks.joinClasses([g.fullSentenceOrderedListItemWithFormatting,c.Ks.style(...f("¶"),...S,E(!1)),u.b.style(...f("¶"),...S,E(!1))]),fullSentenceBulletListItemWithFormatting:c.Ks.joinClasses([g.fullSentenceBulletListItemWithFormatting,c.Ks.style(...S,$,E(!1)),u.b.style(...S,$)]),fullSentenceDashedListItemWithFormatting:c.Ks.joinClasses([g.fullSentenceDashedListItemWithFormatting,c.Ks.style(...S,F,E(!1)),u.b.style(...S,F)]),fullSentenceInsert:c.Ks.joinClasses([g.fullSentenceInsert,c.Ks.style(E(!1))]),fullSentenceInsertPunctuation:c.Ks.joinClasses([g.fullSentenceInsertPunctuation,c.Ks.style(E(!1))]),diff:c.Ks.joinClasses([g.diff,c.Ks.style({fontWeight:"bolder"}),u.b.style({fontWeight:"bolder"})]),itemRemove:c.Ks.joinClasses([g.itemRemove,c.Ks.style(y,K)]),oneGapInsert:c.Ks.joinClasses([g.oneGapInsert,c.Ks.style(y,I(!1),H),W]),oneGapInput:c.Ks.joinClasses([g.oneGapInput,c.Ks.style(G)]),drilldownInsertGroup:c.Ks.joinClasses([g.drilldownInsertGroup,c.Ks.style(V)]),drilldownArrowButton:c.Ks.joinClasses([g.drilldownArrowButton,c.Ks.style(q)]),drilldownIcon:c.Ks.joinClasses([g.drilldownIcon,c.Ks.style(U)]),drilldownOriginalRow:c.Ks.joinClasses([g.drilldownOriginalRow,c.Ks.style(j)]),drilldownBackButton:c.Ks.joinClasses([g.drilldownBackButton,c.Ks.style(z)]),collapsibleDelete:c.Ks.joinClasses([g.collapsibleDelete,c.Ks.style(J)]),collapsibleInsert:c.Ks.joinClasses([g.collapsibleInsert,c.Ks.style(Z)]),collapsiblePartContent:c.Ks.joinClasses([g.collapsiblePartContent,c.Ks.style(Y)])};c.Ks.cssRule(`.${g.fullSentenceDelete} + .${g.fullSentenceInsert}`,{marginLeft:c.Ks.rem(.25)});const ee=(0,i._)((0,r._)({},X),{itemInsert:c.Ks.joinClasses([g.itemInsert,c.Ks.style(y,I(!0)),W,s.zB]),oneGapInsert:c.Ks.joinClasses([g.oneGapInsert,W,c.Ks.style(y,I(!0),H),s.zB]),fullSentenceOrderedListItemWithFormatting:c.Ks.joinClasses([g.fullSentenceOrderedListItemWithFormatting,u.b.style(...f("¶"),...S,E(!1)),c.Ks.style(...f("¶"),...S,E(!0))]),fullSentenceBulletListItemWithFormatting:c.Ks.joinClasses([g.fullSentenceBulletListItemWithFormatting,c.Ks.style(...S,$,E(!0)),u.b.style(...S,$)]),fullSentenceDashedListItemWithFormatting:c.Ks.joinClasses([g.fullSentenceDashedListItemWithFormatting,c.Ks.style(...S,F,E(!0)),u.b.style(...S,F)]),fullSentenceInsert:c.Ks.joinClasses([g.fullSentenceInsert,c.Ks.style(E(!0))]),fullSentenceInsertPunctuation:c.Ks.joinClasses([g.fullSentenceInsertPunctuation,c.Ks.style(E(!0))]),fullSentenceBackground:c.Ks.joinClasses([g.fullSentenceBackground,c.Ks.style(w(!0)),u.b.style(w(!1))]),minimalFullSentenceBackground:c.Ks.joinClasses([g.minimalFullSentenceBackground,c.Ks.style(w(!0),{lineHeight:c.Ks.rem(1.3125)}),u.b.style(w(!0),{lineHeight:c.Ks.rem(1.3125)})])})},79750:(e,t,n)=>{var r;function i(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'”“.,;:!?\\\/…\-—()]+$/)}function a(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const n=s(e,t);if(void 0===n)return null;const{from:r,to:i,oldFragment:a,newFragment:o}=n,l=1===o.length&&r>0&&e[r-1]===o,c=1===a.length&&0===o.length&&t[r-1]===a;let u=r,d=o;return(l||c)&&(u=r-1),l&&(d=o+o),c&&(d=a),d.length>3?null:[e.substring(0,u),d,e.substring(i)]}function s(e,t){if(e===t)return;const n=e.length,r=t.length;if(r>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(r-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,r-n)}}if(r<n){if(e.substr(n-r)===t)return{from:0,to:n-r,oldFragment:e.substr(0,n-r),newFragment:""};if(e.substr(0,r)===t)return{from:r,to:n,oldFragment:e.substr(r),newFragment:""}}const i=r<n?r:n,a=function(e,t,n){let r=0;for(;e[r]===t[r]&&r<n;)r+=1;return r}(e,t,i);let o=function(e,t,n,r,i){let a=0;for(;e[n-a-1]===t[r-a-1]&&i-a>=0;)a+=1;return a}(e,t,n,r,i);return a+o>n&&(o-=a+o-n),a+o>r&&(o-=a+o-r),{from:a,to:n-o,oldFragment:e.substr(a,n-o-a),newFragment:t.substr(a,r-o-a)}}n.d(t,{$B:()=>s,Bx:()=>i,LE:()=>o,i0:()=>a,n:()=>r}),function(e){e.getClass=function(e,t){return null!==(n=t)&&1===n.length&&/["'”’]/.test(n)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:i(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var n}}(r||(r={}))},43292:(e,t,n)=>{n.d(t,{k:()=>o});var r=n(10334),i=n(27199),a=n(11864);const o=(e,t,n,o,s,l)=>(0,r._)({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:a.Ks.rem(2),borderRadius:s,backgroundColor:i.Q1.CoreNeutral0,boxShadow:o,content:"' '"},Boolean(l)&&"bottom"!==l?{top:n}:{bottom:n})},39946:(e,t,n)=>{n.d(t,{Y:()=>D,c:()=>R});var r=n(10334),i=n(17171),a=n(77167),o=n(38107),s=n(27199),l=n(11864),c=n(4885),u=n(72747);const d=s.Q1.BackgroundTooltip,p=s.Q1.CoreNeutral90,h=s.Q1.CoreNeutral40,f=l.Ks.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${l.Ks.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),m={width:l.Ks.rem(1),height:l.Ks.rem(1),borderRadius:l.Ks.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:`${f} 2s infinite`,$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},g=l.Ks.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),y={width:l.Ks.rem(1),height:l.Ks.rem(1),borderRadius:l.Ks.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:l.Ks.rem(1),height:l.Ks.rem(1),borderRadius:l.Ks.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:`${g} 2s infinite`,willChange:"transform"},"&:hover:before":{animation:"none"}}},v={margin:`${l.Ks.rem(-1.5)} 0 0 ${l.Ks.rem(-1.5)}`,padding:l.Ks.rem(1),borderRadius:l.Ks.percent(50),cursor:"pointer",pointerEvents:"all"},b={margin:`0 0 ${l.Ks.rem(.5)}`,color:s.Q1.CoreNeutral0,fontWeight:"bold"},w={color:s.Q1.CoreNeutral0,lineHeight:l.Ks.rem(1.25)},_={display:"flex",padding:`${l.Ks.rem(1)} ${l.Ks.rem(1.5)} ${l.Ks.rem(1.25)} ${l.Ks.rem(2)}`,width:l.Ks.rem(20),borderRadius:l.Ks.rem(u.H0),background:d,color:s.Q1.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},C={display:"inline-block",marginRight:l.Ks.rem(a.v$)},S={marginRight:l.Ks.rem(2),width:l.Ks.rem(2),flexShrink:0,alignSelf:"center"},k={position:"absolute",top:0,right:0},I={stroke:c.aD,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:s.Q1.CoreNeutral0,fill:s.Q1.CoreNeutral0}}},A={position:"absolute",top:l.Ks.percent(50),left:l.Ks.percent(50),zIndex:u.k2},T={position:"relative",zIndex:u.yg},E={zIndex:u.C9},x={position:"absolute",zIndex:u.C9},R=l.Ks.prefixedStylesheet("onboarding",{pulse:[m],pulseWrapper:[v],header:[b],description:[w],stepWrapper:[_],content:[C],alertIcon:[S],closeIconWrapper:[k],closeIcon:[I],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[A],containerDiv:[{}],editor:[T],onboardingPopup:[E],notificationContainer:[x],pulseOptimized:[y]}),P={display:"flex",flexDirection:"column",width:l.Ks.percent(100)},L=(0,i._)((0,r._)({},k),{top:l.Ks.rem(.5),right:l.Ks.rem(.5)}),B=(0,i._)((0,r._)({},I),{$nest:(0,i._)((0,r._)({},I.$nest),{svg:{height:l.Ks.rem(1),width:l.Ks.rem(1)}})}),N=(0,i._)((0,r._)({},_),{background:p,color:s.Q1.CoreNeutral0,borderRadius:l.Ks.rem(o.Dk),padding:l.Ks.rem(1)}),M={width:l.Ks.percent(100),backgroundColor:"#2DC9B6",color:p,fontWeight:"bold",borderRadius:l.Ks.rem(o.KD),marginTop:l.Ks.rem(1),padding:l.Ks.rem(.5)},O=(0,i._)((0,r._)({},w),{color:h}),D=l.Ks.prefixedStylesheet("a11y-onboarding",{contentWrapper:[P],closeIconWrapper:[L],closeIcon:[B],stepWrapper:[N],completeButton:[M],description:[O]})},82315:(e,t,n)=>{n.d(t,{p3:()=>U,M7:()=>j,UX:()=>Q});var r=n(23988),i=n(10334),a=n(17171),o=n(69384),s=n(50659),l=n(84647),c=n(17644),u=n(87574),d=n(19840),p=n(80074),h=n(65390),f=n(86562),m=n(58193),g=n(50581),y=n(41548),v=n(35098),b=n(15491),w=n(60269),_=n(78339),C=n(14342),S=n(21662),k=n(6987),I=n(36094),A=n(21216),T=n(90405),E=n(54988),x=n(38427),R=n(24946),P=n(71202),L=n(48368),B=n(39946),N=n(27199),M=n(19967),O=n(27917),D=n(98530),K=n(65873),F=n(82608);const $=e=>s.createElement(M.$n,{className:B.Y.completeButton,onClick:e.onClick},e.text),H=({alignment:e,rect:t,onClose:n,className:r,children:o,icon:c,pinTargetRect:p,hideCloseButton:f,onMount:m})=>s.createElement(D.P.ByRelativeRect,(0,a._)((0,i._)({rect:t,className:B.c.notificationContainer},D.P.Alignment.toSelector(e)),{pinTargetRect:p,withPin:!0}),s.createElement(u.F.div,(0,a._)((0,i._)({},(0,d.Ly)(B.c.stepWrapper,r)),{mount:m}),(0,l.pipe)(c,h.fold((()=>s.createElement(O.In.Grammarly,{className:B.c.alertIcon})),(e=>s.createElement(e,{className:B.c.alertIcon})))),o,!(null!=f&&f)&&s.createElement(M.$n,{name:"onboard-close",className:B.c.closeIconWrapper,onClick:()=>n&&n()},s.createElement(O.In.Close,{className:B.c.closeIcon,width:12})))),G=({alignment:e,rect:t,onClose:n,className:r,children:o,pinTargetRect:l,hideCloseButton:c,onMount:p})=>s.createElement(D.P.ByRelativeRect,(0,a._)((0,i._)({rect:t,className:B.c.notificationContainer},D.P.Alignment.toSelector(e)),{pinTargetRect:l,withPin:!0}),s.createElement(u.F.div,(0,a._)((0,i._)({},(0,d.Ly)(B.Y.stepWrapper,r)),{mount:p}),o,!(null!=c&&c)&&s.createElement(M.$n,{name:"onboard-close",className:B.Y.closeIconWrapper,onClick:()=>{var e;return null===(e=n)||void 0===e?void 0:e()}},s.createElement(O.In.Close,{className:B.Y.closeIcon,width:12,color:N.Q1.CoreNeutral40})))),W=e=>{var{title:t,description:n}=e,r=(0,o._)(e,["title","description"]);return s.createElement(H,r,s.createElement("span",{className:B.c.content},Boolean(t)?s.createElement(K.P1,{className:B.c.header},t):null,s.createElement(K.C6,{className:B.c.description},n)))},V=e=>{var{title:t,description:n,isLastStep:r,onComplete:i}=e,a=(0,o._)(e,["title","description","isLastStep","onComplete"]);return s.createElement(G,a,s.createElement("div",{className:B.Y.contentWrapper},s.createElement("div",{className:B.c.content},Boolean(t)?s.createElement(F.Typography.Base,{className:B.c.header},t):null,s.createElement(F.Typography.Base,{className:B.Y.description},n)),s.createElement($,{text:r?"Done":"Next",onClick:i})))},q=({className:e,onClick:t,customStyle:n})=>s.createElement(u.F.div,(0,a._)((0,i._)({},(0,d.Ly)(B.c.pulseWrapper,e)),{style:n,onClick:()=>t&&t()}),s.createElement("div",{className:B.c.pulseOptimized}));var U;function j(e){const t=s.useContext(j.Context),{stepId:n,onboardingViewModel:r}=e,c=(0,o._)(e,["stepId","onboardingViewModel"]),u=r||t,d=z(n,u),p=s.useContext(v.L.Context).pipe(b.T((e=>e.rect)));return(0,l.pipe)(d,h.fold((()=>s.Children.only(e.children)),(e=>{var t,r;return s.createElement(Q,(0,a._)((0,i._)({},c),{onboardingStep:e,viewportRect:p,isLastStep:null===(t=(r=u).isLastStep)||void 0===t?void 0:t.call(r,n)}))})))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(U||(U={}));const z=(e,t)=>((0,f.V1)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?h.some(t.subscribeForStep(e)):h.none);class Q extends s.Component{componentWillUnmount(){const e=this.props.onboardingStep;"popup"!==e.state.get()&&"popover"!==e.state.get()||e.popupIgnored(),this._subs.forEach((e=>e.unsubscribe()))}componentDidMount(){const e=this.props.dotPosition;var t;e?this._subs.push(w.h(this.context,this.props.onboardingStep.state.pipe(_.p((e=>"dot"===e||"popup"===e||"popover"===e)))).pipe(C.c(500),S.E(this._wrapperElement,this._containerElement),k.n((([t,n,r])=>(0,l.pipe)((0,l.tuple)(n,r),(0,l.tupled)(m.fP(((t,n)=>{switch(e.kind){case"findFirstButton":return I.br(e.buttonOrder).pipe(k.n((r=>A.of(void 0).pipe(C.c(500),b.T((()=>{const[i,a]=Z(t,n,e.position,r,e.selector);return this._exactTargetRect.set(a),i})),T.oE))));case"dotAtPosition":return A.of(Y(e.position));default:return(0,f.xb)(e)}}))),h.fold((()=>E.w),c.D))))).subscribe((e=>{this._spotStyle.set(e),this._visibilityState.set(!0)})),x.zV([null!==(t=this.props.dismissalTrigger)&&void 0!==t?t:E.w,this.props.onboardingStep.state]).pipe(_.p((([e,t])=>e&&("dot"===t||"popup"===t||"popover"===t))),R.s(1)).subscribe((()=>{this.props.onboardingStep.actionTaken()}))):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return s.createElement(u.F.div,(0,a._)((0,i._)({key:"onboarding-wrapper"},(0,d.Ly)(B.c.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName)),{mount:e=>this._wrapperElement.set(h.fromNullable(e))}),s.createElement("div",(0,a._)((0,i._)({key:"container",ref:e=>this._containerElement.set(h.fromNullable(e))},(0,d.Ly)(B.c.containerDiv,this.props.themes&&this.props.themes.containerClassName)),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),p.s.combine(e.state,this._visibilityState,((t,n)=>{if(!n)return null;switch(t){case L.f.Dot:const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),s.createElement(q,(0,a._)((0,i._)({customStyle:this._spotStyle,key:"spot"},(0,d.Ly)(B.c.onboardingSpot,t)),{onClick:()=>e.dotClicked()}));case L.f.Popup:return s.createElement(W,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(h.fold((()=>g.Rect.empty),g.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:h.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(m.y0)});case L.f.Popover:return s.createElement(V,{key:"step",title:this.props.title,isLastStep:Boolean(this.props.isLastStep),alignment:this.props.alignment,rect:this._containerElement.view(h.fold((()=>g.Rect.empty),g.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,onClose:()=>e.popupClosed(),onComplete:()=>e.actionTaken(),pinTargetRect:this._exactTargetRect.view(m.y0)});default:return null}})))}constructor(...e){super(...e),(0,r._)(this,"context",void 0),(0,r._)(this,"_subs",[]),(0,r._)(this,"_wrapperElement",p.s.create(h.none)),(0,r._)(this,"_containerElement",p.s.create(h.none)),(0,r._)(this,"_exactTargetRect",p.s.create(h.none)),(0,r._)(this,"_visibilityState",p.s.create(!1)),(0,r._)(this,"_spotStyle",p.s.create({})),(0,r._)(this,"_onEventActionTaken",((e,t=!0)=>n=>{const r=e.state.get();if("popup"===r||"popover"===r||t&&"dot"===r){var i;const r=n.target;if(g.isDisabled(r))return;const a=t||g.hasParentWithClassName(r,B.c.containerDiv);if("findFirstButton"===(null===(i=this.props.dotPosition)||void 0===i?void 0:i.kind)&&!g.hasParentWithAttribute(r,"role","button"))return;a&&e.actionTaken()}else"dot"===r&&(n.preventDefault(),n.stopPropagation())}))}}(0,r._)(Q,"contextType",y.q.Context),(0,r._)(Q,"defaultProps",{alignment:"left"});const Y=e=>{switch(e){case U.leftTop:return{top:0,left:0};case U.leftCenter:return{top:"50%",left:0};case U.leftBottom:return{top:"100%",left:0};case U.rightTop:return{top:0,left:"100%"};case U.rightCenter:return{top:"50%",left:"100%"};case U.rightBottom:return{top:"100%",left:"100%"};case U.center:return{top:"50%",left:"50%"};default:return(0,f.xb)(e)}},J=(e,t,n)=>{switch(n){case U.rightTop:return{top:e.top-t.top,left:e.left-t.left+e.width};case U.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return(0,f.xb)(n)}},Z=(e,t,n,r,i)=>{const a=t.querySelectorAll(null!=i?i:'[role="button"], [role="insertion"], [role="deletion"], button'),o=a.length>0&&(void 0===r?a[a.length-1]:a[r]);if(Boolean(o)){const t=g.Rect.fromEl((0,l.unsafeCoerce)(o)),r=g.Rect.fromEl(e);return[h.some(J(t,r,n)),h.some(t)]}return Boolean(i)?[h.none,h.none]:[h.some({top:"50%",left:"50%"}),h.none]};!function(e){var t=e.Context=s.createContext(null);e.ContextMock=({children:e})=>s.createElement(t.Provider,{value:new P.oh,children:e})}(j||(j={}))},15990:(e,t,n)=>{n.d(t,{L:()=>r});var r,i=n(84647),a=n(36840),o=n(65390);!function(e){e.string=function(e){return(0,i.pipe)(o.fromNullable(e),o.filter(a.z2))},e.array=function(e){return(0,i.pipe)(o.fromNullable(e),o.map((function(e){return e.filter(Boolean)})),o.filter(a.z2))}}(r||(r={}))},96719:(e,t,n)=>{n.d(t,{s:()=>r});var r,i=n(38886),a=n(65011),o=n(84647),s=n(66202);!function(e){var t=function(e){return e.left.length>0?s.left({rejected:e.left,recovered:e.right}):s.right(e.right)},n=(e.URI="RecoverableOperation",e.fromArray=function(e){return function(n){return(0,o.pipe)(n.map((function(t){return(0,o.pipe)(e(t),s.mapLeft((function(e){return(0,o.tuple)(e,t)})))})),i.sj,t,r((function(e){return e.map(a.gp)})))}},e.map=function(e){return function(t){return(0,o.pipe)(t,s.bimap((function(t){return{rejected:t.rejected,recovered:e(t.recovered)}}),e))}}),r=e.mapLeft=function(e){return function(t){return(0,o.pipe)(t,s.mapLeft((function(t){return{rejected:e(t.rejected),recovered:t.recovered}})))}},l=e.flatten=function(e){return function(t){return(0,o.pipe)(t,s.fold((function(t){return(0,o.pipe)(t.recovered,s.fold((function(n){return s.left({rejected:e.concat(t.rejected,n.rejected),recovered:n.recovered})}),(function(e){return s.left({rejected:t.rejected,recovered:e})})))}),o.identity))}};e.flatMap=function(e,t){return function(r){return(0,o.pipe)(r,n(t),l(e))}},e.recover=function(e){return s.fold((function(t){return e(t.rejected),t.recovered}),o.identity)},e.tapFailure=function(e){return s.mapLeft((function(t){return e(t),t}))},e.foldSuccess=function(e){return s.fold((function(t){return e(t.recovered)}),e)},e.of=function(e,t){return void 0===t?s.right(e):s.left({recovered:e,rejected:t})},e.fromSeparatedArray=t}(r||(r={}))},59042:(e,t,n)=>{n.d(t,{Z:()=>i,b:()=>r});var r,i,a,o,s,l,c=n(91817),u=n(80993),d=n(84647),p=n(6320),h=n(65390),f=n(36916),m=n(17425);a=r||(r={}),o=function(e,t,n){return function(i){return r.fromMutation((function(a){(0,d.pipe)(i,r.forEach((function(t,n){return a.set(n,f.kb(e(n,t)))}),(function(e,n,r){return(0,d.pipe)(t(r,e,n),(function(e){var t=(0,c._)(e,2),n=t[0],i=t[1];return a.set(r,f.WP(n,i))}))}),(function(e,t){return a.set(t,f.pG(n(t,e)))})))}))}},s=function(e,t,n){return function(i){return r.fromMutation((function(a){(0,d.pipe)(i,r.forEach((function(t,n){return e(n,t)&&a.set(n,f.kb(t))}),(function(e,n,r){return t(r,e,n)&&a.set(r,f.WP(e,n))}),(function(e,t){return n(t,e)&&a.set(t,f.pG(e))})))}))}},l=function(e){return function(t,n,r){return function(a){var o=i.iso().unwrap(a),s=e.empty;return o.forEach((function(i,a){s=e.concat(s,f.AU((function(e){return t(a,e)}),(function(e){return r(a,e)}),(function(e,t){return n(a,e,t)}))(i))})),s}}},a.reduce=function(e,t,n,r){return function(a){var o=i.iso().unwrap(a),s=e;return o.forEach((function(e,i){s=f.AU((function(e){return t(s,e,i)}),(function(e){return r(s,e,i)}),(function(e,t){return n(s,e,t,i)}))(e)})),s}},a.mapWithIndex=o,a.map=function(e,t,n){return o((function(t,n){return e(n)}),(function(e,n,r){return t(n,r)}),(function(e,t){return n(t)}))},a.filterWithIndex=s,a.filter=function(e,t,n){return s((function(t,n){return e(n)}),(function(e,n,r){return t(n,r)}),(function(e,t){return n(t)}))},a.foldMapWithIndex=l,a.foldMap=function(e){return function(t,n,r){return l(e)((function(e,n){return t(n)}),(function(e,t,r){return n(t,r)}),(function(e,t){return r(t)}))}},a.forEach=function(e,t,n){return function(r){i.iso().unwrap(r).forEach((function(r,i){f.AU((function(t){return e(t,i)}),(function(e){return n(e,i)}),(function(e,n){return t(e,n,i)}))(r)}))}},a.fromMutation=function(e){var t=i.empty();return e(t),i.iso().wrap(t)},a.empty=function(){return i.iso().wrap(i.empty())},a.concat=function(e,t,n){var r=i.iso();return r.wrap(i.concat(e,r.unwrap(t),r.unwrap(n)))},a.inverse=function(e){var t=i.iso();return(0,d.pipe)(t.unwrap(e),u.Tj(m.wg),t.wrap)},a.getEq=function(e,t){return p.nZ(i.getEq(e,t))},a.toJSON=function(e){return Array.from(i.iso().unwrap(e))},a.getShow=function(e,t){return i.getShow(e,t)},a.isEmpty=function(e){return 0===i.iso().unwrap(e).size},function(e){e.iso=function(){return p.KH()},e.empty=function(){return new Map};e.concat=function(e,t,n){var r=new Map(t);return n.forEach((function(t,n){r.has(n)?(0,d.pipe)(function(e,t,n){return f.nZ(e,e).equals(t,n)?h.some(n):f.nZ(e,e).equals(t,m.wg(n))?h.none:f.OC(t)?f.AU((function(){return h.some(f.kb(t.left))}),(function(e){return h.some(f.WP(t.left,e))}),(function(n,r){return e.equals(t.left,r)?h.none:h.some(f.WP(t.left,r))}))(n):f.FG(t)?f.AU((function(){return h.none}),(0,d.flow)(f.pG,h.some),(function(e,t){return h.some(f.pG(t))}))(n):f.AU((function(){return h.some(f.kb(t.left))}),(0,d.flow)(f.pG,h.some),(function(n,r){return e.equals(t.left,r)?h.none:h.some(f.WP(t.left,r))}))(n)}(e,r.get(n),t),h.fold((function(){r.delete(n)}),(function(e){return r.set(n,e)}))):r.set(n,t)})),r},e.inverse=u.Tj(m.wg),e.getEq=function(e,t){return u.nZ(e,f.nZ(t,t))},e.getShow=function(e,t){return u.cs(e,f.cs(t,t))}}(i||(i={}))},14729:(e,t,n)=>{n.d(t,{w:()=>r});var r,i=n(10334),a=n(91817),o=n(38886),s=n(82094),l=n(15668),c=n(84647),u=n(50581),d=n(86562),p=n(65390),h=n(66202),f=n(23121);!function(e){var t,n=function(e,n){var r=n.position,a=n.point,o={width:Math.trunc(e.width),height:Math.trunc(e.height)};return u.Rect.validate(t.match((function(){return(0,i._)({top:a.y,right:a.x,bottom:a.y+o.height,left:a.x-o.width},o)}),(function(){return(0,i._)({top:a.y-o.height,right:a.x,bottom:a.y,left:a.x-o.width},o)}),(function(){return(0,i._)({top:a.y-o.height,right:a.x+o.width,bottom:a.y,left:a.x},o)}),(function(){return(0,i._)({top:a.y,right:a.x+o.width,bottom:a.y+o.height,left:a.x},o)}))(r))},m=function(e){return b(u.Rect.Point.normalize({x:e.left,y:e.top}))};!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),(t=e.Position||(e.Position={})).match=function(e,n,r,i){return function(a){switch(a){case t.topRight:return e();case t.bottomRight:return n();case t.bottomLeft:return r();case t.topLeft:return i();default:return(0,d.xb)(a)}}};var g,y,v,b=e.topLeft=function(e){return{position:t.topLeft,point:u.Rect.Point.normalize(e)}},w=e.topRight=function(e){return{position:t.topRight,point:u.Rect.Point.normalize(e)}},_=e.bottomRight=function(e){return{position:t.bottomRight,point:u.Rect.Point.normalize(e)}},C=e.bottomLeft=function(e){return{position:t.bottomLeft,point:u.Rect.Point.normalize(e)}};e.relativeTo=function(e,t){return{position:e.position,point:u.Rect.Point.relativeTo(e.point,t)}},e.empty=b(u.Rect.Point.empty),e.toRect=n,e.fromRect=m,e.inRect=function(e,t){var n=t.point;return u.Rect.hasPoint(e,n)},e.toCss=function(e){var n=e.position,r=e.point;return t.match((function(){return{top:r.y,right:r.x}}),(function(){return{right:r.x,bottom:r.y}}),(function(){return{bottom:r.y,left:r.x}}),(function(){return{top:r.y,left:r.x}}))(n)},(v=g=e.Zone||(e.Zone={})).create=function(e,t){return(0,d.V1)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]},v.bySide=function(e,t){return u.Rect.Side.match((function(){return g.create(C({x:Math.ceil(t.left),y:Math.ceil(t.top)}),_({x:Math.floor(t.right),y:Math.ceil(t.top)}))}),(function(){return g.create(b({x:Math.floor(t.right),y:Math.ceil(t.top)}),C({x:Math.floor(t.right),y:Math.floor(t.bottom)}))}),(function(){return g.create(b({x:Math.ceil(t.left),y:Math.floor(t.bottom)}),w({x:Math.floor(t.right),y:Math.floor(t.bottom)}))}),(function(){return g.create(w({x:Math.ceil(t.left),y:Math.ceil(t.top)}),_({x:Math.ceil(t.left),y:Math.floor(t.bottom)}))}))(e)},(e.Variants||(e.Variants={})).byAxis=function(e,t){return s.A4((0,l.first)(),o.YS)(u.Rect.Axis.toSides(e).map((function(e){return[e,g.bySide(e,t)]})))},function(e){function t(e,t){return(0,c.pipe)(u.Rect.intersection(e,t),p.map((function(e){var n=e.width/t.width,r=e.height/t.height,i=(Number.isNaN(n)?0:n/2)+(Number.isNaN(r)?0:r/2);return(0,d.V1)(i>=0,"quality can not be negavite: ".concat(i)),(0,d.V1)(i<=1,"quality can be higher than 1: ".concat(i)),i})))}e.empty={quality:0,point:r.empty},e.qualityOfIntersection=t,e.byViewport=function(e,n){return{quality:(0,c.pipe)(t(e,n),p.getOrElse((function(){return 0})))+(0,c.pipe)(u.Rect.scale(2,n),h.chain(u.Rect.normalize),p.fromEither,p.chain((function(n){return t(e,n)})),p.getOrElse((function(){return 0}))),point:m(n)}},e.fromZone=function(e,t,r){return(0,c.pipe)(o.YO.traverse(h.either)(r,(function(e){return n(t,e)})),h.chain((function(e){var t=(0,a._)(e,2),n=t[0],r=t[1];return u.Rect.join(n,r)})),h.chain((function(e){return u.Box.placeIntoRect(t,e)})),h.map((function(t){return t.map((function(t){return y.byViewport(e,t)}))})))}}(y=e.Qualified||(e.Qualified={})),(e.QualifiedVariants||(e.QualifiedVariants={})).build=function(e,t,n){return(0,c.pipe)(n,s.Tj((function(n){return y.fromZone(e,t,n)})))},function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={})),e.takeBy=function(e,t){return function(n){return(0,c.pipe)(n,s.RE({point:y.empty,side:e},(function(n,r,i){return(0,c.pipe)(i,h.map((function(i){return i.filter((function(r,i){return t.toString().includes(i.toString())&&e===n})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:n}:e}),r)})),f.$v)}))).point}};var n=e.preferBy=function(e,t){return function(n){return(0,c.pipe)(n,s.RE({point:y.empty,side:e},(function(n,r,i){return(0,c.pipe)(i,h.map((function(i){return i.reduce((function(r,i,a){return i.quality>r.point.quality||i.quality===r.point.quality&&t.toString().includes(a.toString())&&e===n?{point:i,side:n}:r}),r)})),f.$v)}))).point}};e.preferTopMiddle=n("top",t.middle),e.preferTopEdges=n("top",t.edges)}(e.Selector||(e.Selector={}))}(r||(r={}))},74816:(e,t,n)=>{n.d(t,{H_:()=>d,bt:()=>h,n:()=>p,y$:()=>m});var r=n(80993),i=n(84647),a=n(59042),o=n(66202),s=n(65390),l=n(58193),c=n(36916),u=n(17425);function d(e){return function(t,n){return a.b.fromMutation((function(r){return t.forEach((function(t,i){if(n.has(i)){var a=n.get(i);e.equals(t,a)||r.set(i,c.WP(t,a))}else r.set(i,c.kb(t))})),n.forEach((function(n,i){if(t.has(i)){var a=t.get(i);e.equals(a,n)||r.set(i,c.WP(a,n))}else r.set(i,c.pG(n))})),r}))}}var p,h=f(i.identity);function f(e){return function(t,n,r){var l=new Map(n),u=new Map;return a.Z.iso().unwrap(r).forEach((function(n,r){(0,i.pipe)(n,e,t(s.fromNullable(l.get(r))),c.wu((function(e){return u.set(r,e)}),s.fold((function(){l.delete(r)}),(function(e){return l.set(r,e)}))))})),u.size>0?o.left({recovered:l,rejected:u}):o.right(l)}}function m(e){return function(t,n){var a=[],o=new Map(t);return n.forEach((function(t,n){(0,i.pipe)(r.G1(e)(n,o),l.jw((function(){return a.push(n)})))})),a}}f(u.wg),function(e){e.createStrict=function(e){return function(t){return c.AU((function(n){return s.isNone(t)?c.kb("can not remove non existent entry: left(".concat(e.show(n),")")):e.equals(t.value,n)?c.pG(s.none):c.kb("can not remove non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),")"))}),(function(n){return s.isSome(t)?c.kb("can not add existent entry: target(".concat(e.show(t.value),") right(").concat(e.show(n),")")):c.pG(s.some(n))}),(function(n,r){return e.equals(n,r)?c.kb("can not apply update with equals parts: left(".concat(e.show(n),") right(").concat(e.show(r),")")):s.isNone(t)?c.kb("can not update non existent entry: left(".concat(e.show(n),") right(").concat(e.show(r),")")):e.equals(t.value,n)?c.pG(s.some(r)):c.kb("can not apply update on non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),") right(").concat(e.show(r),")"))}))}},e.createLoose=function(e){return function(t){return c.AU((function(n){return s.isNone(t)?c.kb("can not remove non existent entry: left(".concat(e.show(n),")")):e.equals(t.value,n)?c.pG(s.none):c.WP("removed non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),")"),s.none)}),(function(n){return s.isSome(t)?c.WP("existent entry was overwritten: target(".concat(e.show(t.value),") right(").concat(e.show(n),")"),s.some(n)):c.pG(s.some(n))}),(function(n,r){var a=e.equals(n,r)?s.some("unexpected equal parts in provided update"):s.none;return s.isNone(t)?c.WP((0,i.pipe)(a,s.map((function(e){return e+", "})),s.getOrElse((function(){return""})))+"update applied on non existent entry: left(".concat(e.show(n),") right(").concat(e.show(r),")"),s.some(r)):e.equals(t.value,n)?(0,i.pipe)(a,s.map((function(t){return t+": left(".concat(e.show(n),") right(").concat(e.show(r),")")})),s.fold((function(){return c.pG(s.some(r))}),(function(e){return c.WP(e,s.some(r))}))):c.WP((0,i.pipe)(a,s.map((function(e){return e+", "})),s.getOrElse((function(){return""})))+"update applied on non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),") right(").concat(e.show(r),")"),s.some(r))}))}}}(p||(p={}))},45419:(e,t,n)=>{n.d(t,{FM:()=>o});var r=n(13110),i=n(84647),a=n(65390),o=(0,i.flow)(a.fromNullable,(0,a.chain)(r.ci))},17425:(e,t,n)=>{n.d(t,{wg:()=>a});var r=n(66202),i=n(36916);function a(e){return(0,i.ES)(e)?(0,i.WP)(e.right,e.left):(0,r.swap)(e)}},82444:(e,t,n)=>{n.d(t,{En0:()=>U,H6h:()=>Y,UCW:()=>fe});var r=n(1059),i=n(82541),a=n(38791),o=((0,a.L)((function(e){return fe(e)})),(0,a.L)((function(e){var t;return e.sum("type")(((t={}).notify=l(e),t.openSettings=c(e),t.openLearnMore=u(e),t.openPerformanceScore=d(e),t.openToneDetector=p(e),t.upgradeToPremium=h(e),t.showHighlights=f(e),t.hideHighlights=m(e),t.openFeedback=g(e),t.openCreateSnippetModal=y(e),t.closeCard=v(e),t.nextCard=b(e),t.prevCard=w(e),t.removeRoot=_(e),t.removeAlerts=C(e),t.applyAlerts=S(e),t.selectAlternative=k(e),t.transition=I(e),t.openLink=A(e),t.copyToClipboard=T(e),t.nativeOpenAssistant=E(e),t.pushAssistantFeed=x(e),t.popAssistantFeed=R(e),t.focusAssistantCard=P(e),t.switchView=L(e),t.newRevision=B(e),t.highlightAlert=N(e),t.stopApplyingAlerts=M(e),t.closePopover=O(e),t.interactPopover=K(e),t.openGrammarlyGo=$(e),t.enablePlagiarismCheck=H(e),t.disablePlagiarismCheck=G(e),t.enableWritingExpertCheck=W(e),t.disableWritingExpertCheck=V(e),t.nativeOpenUserSatisfactionFeedback=q(e),t))}))),s=Yn(i.nm),l=(0,a.L)((function(e){return e.intersect(e.partial({sourceId:kn(e)}))(e.struct({type:e.literal("notify"),userAction:s(e)}))})),c=(0,a.L)((function(e){return e.struct({type:e.literal("openSettings")})})),u=(0,a.L)((function(e){return e.struct({type:e.literal("openLearnMore")})})),d=(0,a.L)((function(e){return e.struct({type:e.literal("openPerformanceScore")})})),p=(0,a.L)((function(e){return e.struct({type:e.literal("openToneDetector")})})),h=(0,a.L)((function(e){return e.struct({type:e.literal("upgradeToPremium")})})),f=(0,a.L)((function(e){return e.struct({type:e.literal("showHighlights")})})),m=(0,a.L)((function(e){return e.struct({type:e.literal("hideHighlights")})})),g=(0,a.L)((function(e){return e.struct({type:e.literal("openFeedback")})})),y=(0,a.L)((function(e){return e.struct({type:e.literal("openCreateSnippetModal"),snippetContent:e.string})})),v=(0,a.L)((function(e){return e.struct({type:e.literal("closeCard")})})),b=(0,a.L)((function(e){return e.struct({type:e.literal("nextCard")})})),w=(0,a.L)((function(e){return e.struct({type:e.literal("prevCard")})})),_=(0,a.L)((function(e){return e.struct({type:e.literal("removeRoot")})})),C=(0,a.L)((function(e){return e.struct({type:e.literal("removeAlerts")})})),S=(0,a.L)((function(e){return e.struct({type:e.literal("applyAlerts"),alternativeIndex:e.number})})),k=(0,a.L)((function(e){return e.struct({type:e.literal("selectAlternative"),alternativeIndex:e.number})})),I=(0,a.L)((function(e){return e.struct({type:e.literal("transition"),fromName:e.string,toName:e.string,animateFrom:j(e),animateTo:j(e)})})),A=(0,a.L)((function(e){return e.struct({type:e.literal("openLink"),url:e.string})})),T=(0,a.L)((function(e){return e.struct({type:e.literal("copyToClipboard"),text:e.string})})),E=(0,a.L)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("nativeOpenAssistant")}))})),x=(0,a.L)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("pushAssistantFeed"),feedId:e.string}))})),R=(0,a.L)((function(e){return e.intersect(e.partial({fallbackFeed:wn(e)}))(e.struct({type:e.literal("popAssistantFeed")}))})),P=(0,a.L)((function(e){return e.struct({type:e.literal("focusAssistantCard"),cardId:e.string})})),L=(0,a.L)((function(e){return e.struct({type:e.literal("switchView"),where:kn(e),selected:Gn(e)})})),B=(0,a.L)((function(e){return e.struct({type:e.literal("newRevision")})})),N=(0,a.L)((function(e){return e.struct({type:e.literal("highlightAlert"),highlightIndex:e.number})})),M=(0,a.L)((function(e){return e.struct({type:e.literal("stopApplyingAlerts")})})),O=(0,a.L)((function(e){return e.struct({type:e.literal("closePopover"),rootPopoverId:kn(e)})})),D=Yn(i.gm),K=(0,a.L)((function(e){return e.struct({type:e.literal("interactPopover"),rootPopoverId:kn(e),popoverViewId:kn(e),interaction:D(e)})})),F=Yn(i.bk),$=(0,a.L)((function(e){return e.intersect(e.partial({alertId:e.number}))(e.struct({type:e.literal("openGrammarlyGo"),entryPoint:F(e)}))})),H=(0,a.L)((function(e){return e.struct({type:e.literal("enablePlagiarismCheck")})})),G=(0,a.L)((function(e){return e.struct({type:e.literal("disablePlagiarismCheck")})})),W=(0,a.L)((function(e){return e.struct({type:e.literal("enableWritingExpertCheck")})})),V=(0,a.L)((function(e){return e.struct({type:e.literal("disableWritingExpertCheck")})})),q=(0,a.L)((function(e){return e.struct({type:e.literal("nativeOpenUserSatisfactionFeedback")})})),U=(0,a.L)((function(e){return e.readonly(e.array(o(e)))})),j=Yn(i.Ay),z=(0,a.L)((function(e){return e.lazy("Behavior",(function(){return Q(e)}))})),Q=(0,a.L)((function(e){var t;return e.sum("type")(((t={})["behavior:strongAlertRef"]=Y(e),t["behavior:animation:fadeIn"]=J(e),t["behavior:animation:fadeOut"]=Z(e),t["behavior:popoverAnchor"]=X(e),t["behavior:lifecycle"]=te(e),t))})),Y=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.struct({type:e.literal("behavior:strongAlertRef"),id:kn(e),alertIds:e.readonly(e.array(e.string)),onEmpty:U(e)}))})),J=(0,a.L)((function(e){return e.struct({type:e.literal("behavior:animation:fadeIn"),id:kn(e),timeCurve:jn(e)})})),Z=(0,a.L)((function(e){return e.struct({type:e.literal("behavior:animation:fadeOut"),id:kn(e),timeCurve:jn(e)})})),X=(0,a.L)((function(e){return e.lazy("BehaviorPopoverAnchor",(function(){return ee(e)}))})),ee=(0,a.L)((function(e){return e.intersect(e.partial({view:Mn(e)}))(e.struct({type:e.literal("behavior:popoverAnchor"),id:kn(e),positionHint:Dn(e)}))})),te=(0,a.L)((function(e){return e.struct({type:e.literal("behavior:lifecycle"),onMount:U(e),onUnmount:U(e)})})),ne=(0,a.L)((function(e){return e.readonly(e.array(z(e)))})),re=Yn(i.mY),ie=(0,a.L)((function(e){return e.struct({topLeft:Kn(e),topRight:Kn(e),bottomRight:Kn(e),bottomLeft:Kn(e)})})),ae=Yn(i.ZN),oe=Yn(i.aH),se=Yn(i.w),le=Yn(i.Q1),ce=Yn(i.A7),ue=(0,a.L)((function(e){return e.intersect(e.partial({label:e.string}))(e.intersect(e.partial({description:e.string}))(e.struct({})))})),de=(0,a.L)((function(e){var t;return e.sum("kind")(((t={}).unknown=pe(e),t.known=he(e),t))})),pe=(0,a.L)((function(e){return e.struct({kind:e.literal("unknown"),value:e.string})})),he=(0,a.L)((function(e){return e.struct({kind:e.literal("known"),value:ce(e)})})),fe=(0,a.L)((function(e){return e.lazy("Content",(function(){return me(e)}))})),me=(0,a.L)((function(e){var t;return e.sum("type")(((t={}).text=ge(e),t.assistantFeed=_e(e),t.assistantCard=Se(e),t.popoverStack=Ie(e),t.inlineCard=Te(e),t["gButton:default"]=xe(e),t["gButton:tone"]=Re(e),t["gButton:proofit"]=Pe(e),t["gButton:get-started"]=Le(e),t["gButton:plagiarism"]=Be(e),t["gButton:writingExpert"]=Ne(e),t.gButton=Me(e),t.proofitButton=Oe(e),t.lensesSwitchPanel=Ke(e),t.strongAlertRef=Fe(e),t.column=He(e),t.row=We(e),t.block=Ue(e),t.box=ze(e),t.scroll=Ye(e),t.list=it(e),t.selectableDropDownMenu=ot(e),t.dropDownMenuButton=st(e),t.icon=dt(e),t.image=pt(e),t.button=ht(e),t.sticker=mt(e),t.overlay=wt(e),t.tooltip=Ct(e),t.clickableText=kt(e),t.count=It(e),t.alertsCount=At(e),t.alternativeChoice=xt(e),t.slider=Mt(e),t.alternativeSlider=Ft(e),t.nativeSkillsModal=Ht(e),t.nativeSkillsList=Gt(e),t.nativeSkillsView=Wt(e),t.nativeToneInsightsModal=Vt(e),t.nativeLearnMoreModal=qt(e),t.nativeSettingsModal=Ut(e),t.nativeFeedbackModal=jt(e),t.nativeGetStartedChecklistModal=zt(e),t.nativeProofitModal=Qt(e),t.nativeKeyTakeawaysAssistantCard=Yt(e),t.nativeInlineCardContent=Jt(e),t.nativePerformanceScoreButton=Zt(e),t.viewStack=Xt(e),t.nativeExperimentalGBConsistencyUpsellFooter=tn(e),t.radioButtonsGroup=rn(e),t.nativeExperimentalGBToneInsightsUpsellFooter=an(e),t.collapsedCard=on(e),t.shortFormCard=ln(e),t.longFormCard=un(e),t.progressBar=hn(e),t.horizontalRule=fn(e),t.globalPart=mn(e),t.globalPartPlaceholder=yn(e),t))})),ge=(0,a.L)((function(e){return e.intersect(e.partial({backgroundColor:le(e)}))(e.intersect(e.partial({outlineColor:le(e)}))(e.struct({type:e.literal("text"),id:kn(e),meta:ue(e),size:Un(e),text:e.string,textColor:le(e),format:e.readonly(e.array(qn(e))),selectable:e.boolean})))})),ye=Yn(i.ne),ve=(0,a.L)((function(e){return e.struct({orderBy:e.string,direction:ye(e)})})),be=Yn(i.TV),we=(0,a.L)((function(e){return e.struct({property:e.string,condition:be(e),value:e.number})})),_e=(0,a.L)((function(e){return e.lazy("ContentAssistantFeed",(function(){return Ce(e)}))})),Ce=(0,a.L)((function(e){return e.intersect(e.partial({footer:fe(e)}))(e.intersect(e.partial({onEmpty:U(e)}))(e.intersect(e.partial({onAssistantClose:U(e)}))(e.intersect(e.partial({name:de(e)}))(e.struct({type:e.literal("assistantFeed"),id:kn(e),header:fe(e),ordering:e.readonly(e.array(ve(e))),filtering:e.readonly(e.array(we(e))),onRemove:U(e)})))))})),Se=(0,a.L)((function(e){return e.lazy("ContentAssistantCard",(function(){return ke(e)}))})),ke=(0,a.L)((function(e){return e.intersect(e.partial({properties:e.readonly(e.record(e.nullable(e.number)))}))(e.intersect(e.partial({footer:fe(e)}))(e.intersect(e.partial({name:de(e)}))(e.struct({type:e.literal("assistantCard"),id:kn(e),meta:ue(e),child:fe(e),onFocus:U(e),onBlur:U(e)}))))})),Ie=(0,a.L)((function(e){return e.lazy("ContentPopoverStack",(function(){return Ae(e)}))})),Ae=(0,a.L)((function(e){return e.struct({type:e.literal("popoverStack"),id:kn(e),views:e.readonly(e.record(Mn(e))),selected:Gn(e)})})),Te=(0,a.L)((function(e){return e.lazy("ContentInlineCard",(function(){return Ee(e)}))})),Ee=(0,a.L)((function(e){return e.intersect(e.partial({minWidth:Fn(e)}))(e.intersect(e.partial({maxWidth:Fn(e)}))(e.intersect(e.partial({behaviors:ne(e)}))(e.struct({type:e.literal("inlineCard"),id:kn(e),meta:ue(e),child:fe(e),onFocus:U(e)}))))})),xe=(0,a.L)((function(e){return e.struct({type:e.literal("gButton:default"),id:kn(e),meta:ue(e),actions:U(e)})})),Re=(0,a.L)((function(e){return e.struct({type:e.literal("gButton:tone"),id:kn(e),meta:ue(e),actions:U(e)})})),Pe=(0,a.L)((function(e){return e.struct({type:e.literal("gButton:proofit"),id:kn(e),meta:ue(e),actions:U(e)})})),Le=(0,a.L)((function(e){return e.struct({type:e.literal("gButton:get-started"),id:kn(e),meta:ue(e),actions:U(e)})})),Be=(0,a.L)((function(e){return e.struct({type:e.literal("gButton:plagiarism"),id:kn(e),meta:ue(e),actions:U(e)})})),Ne=(0,a.L)((function(e){return e.struct({type:e.literal("gButton:writingExpert"),id:kn(e),meta:ue(e),actions:U(e)})})),Me=(0,a.L)((function(e){return e.struct({type:e.literal("gButton"),id:kn(e),meta:ue(e),actions:U(e)})})),Oe=(0,a.L)((function(e){return e.struct({type:e.literal("proofitButton"),id:kn(e),meta:ue(e),actions:U(e)})})),De=(0,a.L)((function(e){return e.struct({id:kn(e),meta:ue(e),kind:In(e),label:e.string,onClickActions:U(e)})})),Ke=(0,a.L)((function(e){return e.struct({type:e.literal("lensesSwitchPanel"),id:kn(e),meta:ue(e),lensSwitchButtons:e.readonly(e.array(De(e)))})})),Fe=(0,a.L)((function(e){return e.lazy("ContentStrongAlertRef",(function(){return $e(e)}))})),$e=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.struct({type:e.literal("strongAlertRef"),id:kn(e),alertIds:e.readonly(e.array(e.string)),onEmpty:U(e),child:fe(e)}))})),He=(0,a.L)((function(e){return e.lazy("ContentColumn",(function(){return Ge(e)}))})),Ge=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.intersect(e.partial({behaviors:ne(e)}))(e.struct({type:e.literal("column"),id:kn(e),children:e.readonly(e.array(fe(e)))})))})),We=(0,a.L)((function(e){return e.lazy("ContentRow",(function(){return Ve(e)}))})),Ve=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.intersect(e.partial({spacing:Vn(e)}))(e.intersect(e.partial({behaviors:ne(e)}))(e.struct({type:e.literal("row"),id:kn(e),left:e.readonly(e.array(fe(e))),right:e.readonly(e.array(fe(e))),verticalAlign:Qn(e)}))))})),qe=(0,a.L)((function(e){return e.struct({vertical:Wn(e),horizontal:Wn(e)})})),Ue=(0,a.L)((function(e){return e.lazy("ContentBlock",(function(){return je(e)}))})),je=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.intersect(e.partial({fraction:e.number}))(e.intersect(e.partial({spacing:Vn(e)}))(e.intersect(e.partial({innerSpacing:qe(e)}))(e.intersect(e.partial({horizontalAlign:_n(e)}))(e.intersect(e.partial({verticalAlign:Qn(e)}))(e.intersect(e.partial({maxLines:e.number}))(e.struct({type:e.literal("block"),id:kn(e),parts:e.readonly(e.array(fe(e)))}))))))))})),ze=(0,a.L)((function(e){return e.lazy("ContentBox",(function(){return Qe(e)}))})),Qe=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.intersect(e.partial({padding:Vn(e)}))(e.intersect(e.partial({borderRadius:ie(e)}))(e.intersect(e.partial({backgroundColor:le(e)}))(e.intersect(e.partial({minWidth:Fn(e)}))(e.intersect(e.partial({behaviors:ne(e)}))(e.struct({type:e.literal("box"),id:kn(e),child:fe(e)})))))))})),Ye=(0,a.L)((function(e){return e.lazy("ContentScroll",(function(){return Je(e)}))})),Je=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.struct({type:e.literal("scroll"),id:kn(e),child:fe(e),maxHeight:Fn(e)}))})),Ze=(0,a.L)((function(e){var t;return e.sum("type")(((t={}).text=Xe(e),t.icon=et(e),t))})),Xe=(0,a.L)((function(e){return e.struct({type:e.literal("text"),text:e.string})})),et=(0,a.L)((function(e){return e.struct({type:e.literal("icon"),icon:Cn(e)})})),tt=(0,a.L)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.struct({id:kn(e),meta:ue(e),label:Ze(e),onClickActions:U(e)}))})),nt=(0,a.L)((function(e){return e.lazy("ContentListItem",(function(){return rt(e)}))})),rt=(0,a.L)((function(e){return e.intersect(e.partial({behaviors:ne(e)}))(e.intersect(e.partial({tooltip:e.string}))(e.struct({id:kn(e),meta:ue(e),label:fe(e),actions:U(e),secondaryButtons:e.readonly(e.array(tt(e)))})))})),it=(0,a.L)((function(e){return e.lazy("ContentList",(function(){return at(e)}))})),at=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.intersect(e.partial({itemFocusedColor:le(e)}))(e.intersect(e.partial({itemHoveredColor:le(e)}))(e.struct({type:e.literal("list"),id:kn(e),meta:ue(e),items:e.readonly(e.array(nt(e)))}))))})),ot=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.intersect(e.partial({selectedItem:kn(e)}))(e.intersect(e.partial({placeholder:e.string}))(e.struct({type:e.literal("selectableDropDownMenu"),id:kn(e),meta:ue(e),onSelectActions:U(e),select:Hn(e)}))))})),st=(0,a.L)((function(e){return e.intersect(e.partial({name:de(e)}))(e.struct({type:e.literal("dropDownMenuButton"),id:kn(e),meta:ue(e),icon:Cn(e),onClickActions:U(e),menu:En(e)}))})),lt=(0,a.L)((function(e){var t;return e.sum("kind")(((t={}).known=ct(e),t.url=ut(e),t))})),ct=(0,a.L)((function(e){return e.struct({kind:e.literal("known"),name:Sn(e)})})),ut=(0,a.L)((function(e){return e.intersect(e.partial({size:Wn(e)}))(e.struct({kind:e.literal("url"),name:e.string,url:e.string}))})),dt=(0,a.L)((function(e){return e.intersect(e.partial({backgroundColor:le(e)}))(e.struct({type:e.literal("icon"),id:kn(e),meta:ue(e),source:lt(e)}))})),pt=(0,a.L)((function(e){return e.intersect(e.partial({backgroundColor:le(e)}))(e.intersect(e.partial({borderRadius:Fn(e)}))(e.struct({type:e.literal("image"),id:kn(e),meta:ue(e),name:de(e),url:e.string,width:Fn(e),height:Fn(e)})))})),ht=(0,a.L)((function(e){return e.lazy("ContentButton",(function(){return ft(e)}))})),ft=(0,a.L)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.intersect(e.partial({horizontalAlign:_n(e)}))(e.intersect(e.partial({behaviors:ne(e)}))(e.struct({type:e.literal("button"),id:kn(e),meta:ue(e),name:de(e),kind:ae(e),state:se(e),label:fe(e),actions:U(e),shape:oe(e)}))))})),mt=(0,a.L)((function(e){return e.lazy("ContentSticker",(function(){return gt(e)}))})),gt=(0,a.L)((function(e){return e.struct({type:e.literal("sticker"),id:kn(e),meta:ue(e),name:de(e),label:fe(e),child:fe(e),stickerColor:le(e),stickerReverseColor:le(e),onClickActions:U(e)})})),yt=(0,a.L)((function(e){return e.lazy("ContentOverlayObscuredContent",(function(){return vt(e)}))})),vt=(0,a.L)((function(e){return e.intersect(e.partial({blur:re(e)}))(e.struct({content:fe(e)}))})),bt=(0,a.L)((function(e){return e.intersect(e.partial({opacity:xn(e)}))(e.intersect(e.partial({borderRadius:ie(e)}))(e.struct({color:le(e)})))})),wt=(0,a.L)((function(e){return e.lazy("ContentOverlay",(function(){return _t(e)}))})),_t=(0,a.L)((function(e){return e.intersect(e.partial({visibleContent:fe(e)}))(e.struct({type:e.literal("overlay"),id:kn(e),meta:ue(e),name:de(e),obscuredContent:yt(e),overlay:bt(e)}))})),Ct=(0,a.L)((function(e){return e.lazy("ContentTooltip",(function(){return St(e)}))})),St=(0,a.L)((function(e){return e.struct({type:e.literal("tooltip"),id:kn(e),meta:ue(e),name:de(e),text:e.string,child:fe(e),alignment:zn(e)})})),kt=(0,a.L)((function(e){return e.struct({type:e.literal("clickableText"),id:kn(e),meta:ue(e),name:de(e),onClickActions:U(e),text:e.string,size:Un(e),textColor:le(e),format:e.readonly(e.array(qn(e)))})})),It=(0,a.L)((function(e){return e.intersect(e.partial({textColor:le(e)}))(e.struct({type:e.literal("count"),id:kn(e),meta:ue(e),value:e.string,backgroundColor:le(e)}))})),At=(0,a.L)((function(e){return e.intersect(e.partial({backgroundColor:le(e)}))(e.intersect(e.partial({outlineColor:le(e)}))(e.struct({type:e.literal("alertsCount"),id:kn(e),meta:ue(e),size:Un(e),textColor:le(e),format:e.readonly(e.array(qn(e)))})))})),Tt=(0,a.L)((function(e){return e.lazy("ContentAlternativeChoiceAlterna",(function(){return Et(e)}))})),Et=(0,a.L)((function(e){return e.struct({label:fe(e),preview:fe(e)})})),xt=(0,a.L)((function(e){return e.lazy("ContentAlternativeChoice",(function(){return Rt(e)}))})),Rt=(0,a.L)((function(e){return e.struct({type:e.literal("alternativeChoice"),id:kn(e),meta:ue(e),alternatives:e.readonly(e.array(Tt(e)))})})),Pt=(0,a.L)((function(e){var t;return e.sum("type")(((t={}).icon=Bt(e),t))})),Lt=(0,a.L)((function(e){var t;return e.sum("kind")(((t={}).known=ct(e),t.url=ut(e),t))})),Bt=(0,a.L)((function(e){return e.intersect(e.partial({backgroundColor:le(e)}))(e.struct({type:e.literal("icon"),id:kn(e),source:Lt(e)}))})),Nt=(0,a.L)((function(e){return e.struct({id:kn(e),icon:Pt(e),label:e.string,actions:U(e)})})),Mt=(0,a.L)((function(e){return e.struct({type:e.literal("slider"),id:kn(e),meta:ue(e),segmentSize:Fn(e),fillColor:le(e),choices:e.readonly(e.array(Nt(e)))})})),Ot=(0,a.L)((function(e){var t;return e.sum("type")(((t={}).icon=Bt(e),t))})),Dt=(0,a.L)((function(e){return e.lazy("ContentAlternativeSliderChoice",(function(){return Kt(e)}))})),Kt=(0,a.L)((function(e){return e.struct({id:kn(e),icon:Ot(e),label:e.string,actions:U(e),preview:fe(e)})})),Ft=(0,a.L)((function(e){return e.lazy("ContentAlternativeSlider",(function(){return $t(e)}))})),$t=(0,a.L)((function(e){return e.struct({type:e.literal("alternativeSlider"),id:kn(e),meta:ue(e),segmentSize:Fn(e),fillColor:le(e),choices:e.readonly(e.array(Dt(e)))})})),Ht=(0,a.L)((function(e){return e.struct({type:e.literal("nativeSkillsModal"),id:kn(e)})})),Gt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeSkillsList"),id:kn(e),onSelect:U(e)})})),Wt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeSkillsView"),id:kn(e)})})),Vt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeToneInsightsModal"),id:kn(e)})})),qt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeLearnMoreModal"),id:kn(e)})})),Ut=(0,a.L)((function(e){return e.struct({type:e.literal("nativeSettingsModal"),id:kn(e)})})),jt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeFeedbackModal"),id:kn(e)})})),zt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeGetStartedChecklistModal"),id:kn(e),onComplete:U(e)})})),Qt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeProofitModal"),id:kn(e)})})),Yt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeKeyTakeawaysAssistantCard"),id:kn(e)})})),Jt=(0,a.L)((function(e){return e.struct({type:e.literal("nativeInlineCardContent"),id:kn(e),onDetailsClick:U(e)})})),Zt=(0,a.L)((function(e){return e.struct({type:e.literal("nativePerformanceScoreButton"),id:kn(e)})})),Xt=(0,a.L)((function(e){return e.lazy("ContentViewStack",(function(){return en(e)}))})),en=(0,a.L)((function(e){return e.struct({type:e.literal("viewStack"),id:kn(e),views:e.readonly(e.record(fe(e))),selected:Gn(e)})})),tn=(0,a.L)((function(e){return e.struct({type:e.literal("nativeExperimentalGBConsistencyUpsellFooter"),id:kn(e)})})),nn=(0,a.L)((function(e){return e.struct({id:kn(e),meta:ue(e),label:e.string,onSelect:U(e)})})),rn=(0,a.L)((function(e){return e.struct({type:e.literal("radioButtonsGroup"),id:kn(e),meta:ue(e),options:e.readonly(e.array(nn(e)))})})),an=(0,a.L)((function(e){return e.struct({type:e.literal("nativeExperimentalGBToneInsightsUpsellFooter"),id:kn(e)})})),on=(0,a.L)((function(e){return e.lazy("ContentCollapsedCard",(function(){return sn(e)}))})),sn=(0,a.L)((function(e){return e.intersect(e.partial({quickActions:fe(e)}))(e.struct({type:e.literal("collapsedCard"),id:kn(e),meta:ue(e),child:fe(e)}))})),ln=(0,a.L)((function(e){return e.lazy("ContentShortFormCard",(function(){return cn(e)}))})),cn=(0,a.L)((function(e){return e.struct({type:e.literal("shortFormCard"),id:kn(e),child:fe(e)})})),un=(0,a.L)((function(e){return e.lazy("ContentLongFormCard",(function(){return dn(e)}))})),dn=(0,a.L)((function(e){return e.struct({type:e.literal("longFormCard"),id:kn(e),collapsedContent:fe(e),fullContent:fe(e),behaviors:ne(e),feedProperties:bn(e)})})),pn=Yn(i.R$),hn=(0,a.L)((function(e){return e.intersect(e.partial({pinPointValue:Rn(e)}))(e.intersect(e.partial({borderColor:le(e)}))(e.intersect(e.partial({height:Fn(e)}))(e.struct({type:e.literal("progressBar"),id:kn(e),meta:ue(e),backgroundColor:le(e),fillColor:le(e),value:Rn(e),state:pn(e)}))))})),fn=(0,a.L)((function(e){return e.struct({type:e.literal("horizontalRule"),id:kn(e),meta:ue(e)})})),mn=(0,a.L)((function(e){return e.lazy("ContentGlobalPart",(function(){return gn(e)}))})),gn=(0,a.L)((function(e){return e.struct({type:e.literal("globalPart"),id:kn(e),content:fe(e),name:de(e)})})),yn=(0,a.L)((function(e){return e.lazy("ContentGlobalPartPlaceholder",(function(){return vn(e)}))})),vn=(0,a.L)((function(e){return e.intersect(e.partial({child:fe(e)}))(e.struct({type:e.literal("globalPartPlaceholder"),id:kn(e),globalPartId:kn(e)}))})),bn=(0,a.L)((function(e){return e.readonly(e.record(e.nullable(e.number)))})),wn=(0,a.L)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({feedId:e.string}))})),_n=Yn(i.wq),Cn=(0,a.L)((function(e){var t;return e.sum("type")(((t={}).icon=dt(e),t))})),Sn=Yn(i.yg),kn=(0,a.L)((function(e){return e.string})),In=Yn(i.Tg),An=(0,a.L)((function(e){return e.intersect(e.partial({icon:Cn(e)}))(e.struct({id:kn(e),meta:ue(e),text:e.string,onClickActions:U(e)}))})),Tn=(0,a.L)((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({items:e.readonly(e.array(An(e)))}))})),En=(0,a.L)((function(e){return e.struct({meta:ue(e),label:e.string,sections:e.readonly(e.array(Tn(e)))})})),xn=Yn(i.Y4),Rn=(0,a.L)((function(e){return e.number})),Pn=(0,a.L)((function(e){var t;return e.sum("kind")(((t={}).component=Ln(e),t.gButton=Bn(e),t.nativeComponent=Nn(e),t))})),Ln=(0,a.L)((function(e){return e.struct({kind:e.literal("component"),id:kn(e)})})),Bn=(0,a.L)((function(e){return e.struct({kind:e.literal("gButton")})})),Nn=(0,a.L)((function(e){return e.struct({kind:e.literal("nativeComponent"),knownName:ce(e)})})),Mn=(0,a.L)((function(e){return e.lazy("PopoverView",(function(){return On(e)}))})),On=(0,a.L)((function(e){return e.intersect(e.partial({onShow:U(e)}))(e.intersect(e.partial({onDismiss:U(e)}))(e.intersect(e.partial({onFulfill:U(e)}))(e.struct({id:kn(e),rootPopoverId:kn(e),anchor:Pn(e),child:fe(e)}))))})),Dn=Yn(i.yX),Kn=Yn(i.TI),Fn=(0,a.L)((function(e){return e.number})),$n=(0,a.L)((function(e){return e.struct({id:kn(e),meta:ue(e),label:e.string,onClickActions:U(e)})})),Hn=(0,a.L)((function(e){return e.struct({meta:ue(e),label:e.string,items:e.readonly(e.array($n(e)))})})),Gn=(0,a.L)((function(e){return e.string})),Wn=Yn(i.$x),Vn=(0,a.L)((function(e){return e.struct({top:Wn(e),right:Wn(e),bottom:Wn(e),left:Wn(e)})})),qn=Yn(i.lk),Un=Yn(i.$C),jn=Yn(i.Di),zn=Yn(i.Fy),Qn=Yn(i.G4);function Yn(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],i=t.slice(1);return(0,a.L)((function(e){return e.literal.apply(e,(0,r.fX)([n],i,!1))}))}},53143:(e,t,n)=>{n.d(t,{I:()=>i,r:()=>r});var r="4.46.19",i=["proofitButton","newRevision","gButton:default","gButton:tone","gButton:proofit","gButton:get-started","gButton:plagiarism","gButton:writingExpert","nativePerformanceScoreButton","globalPart","enableWritingExpertCheck","disableWritingExpertCheck"]},82541:(e,t,n)=>{var r,i,a,o,s,l,c,u,d,p,h,f,m,g,y,v,b,w,_,C,S,k,I,A,T;n.d(t,{$C:()=>k,$x:()=>C,A7:()=>p,Ay:()=>o,Di:()=>I,Fy:()=>A,G4:()=>T,Q1:()=>d,R$:()=>m,TI:()=>_,TV:()=>f,Tg:()=>v,Y4:()=>b,ZN:()=>l,aH:()=>c,bk:()=>a,gm:()=>i,lk:()=>S,mY:()=>s,ne:()=>h,nm:()=>r,w:()=>u,wq:()=>g,yX:()=>w,yg:()=>y}),function(e){e.Click="click",e.SelectSliderChoice="selectSliderChoice",e.Focus="focus",e.CloseAssistant="closeAssistant"}(r||(r={})),function(e){e.Dismiss="dismiss",e.Fulfill="fulfill"}(i||(i={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite",e.PushRewrite="pushRewrite"}(a||(a={})),function(e){e.FadeIn="fadeIn",e.FadeOut="fadeOut",e.SlideLeft="slideLeft",e.SlideRight="slideRight"}(o||(o={})),function(e){e.Low="low",e.Medium="medium",e.High="high"}(s||(s={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Toggle="toggle",e.Yellow="yellow",e.Outlined="outlined",e.Link="link",e.DarkPrimary="darkPrimary",e.DarkSecondary="darkSecondary",e.GgoPrimary="ggoPrimary"}(l||(l={})),function(e){e.Round="round",e.Square="square"}(c||(c={})),function(e){e.Enabled="enabled",e.Disabled="disabled",e.Deselected="deselected",e.Selected="selected",e.Hidden="hidden"}(u||(u={})),function(e){e.CoreNeutral90="CoreNeutral90",e.CoreNeutral80="CoreNeutral80",e.CoreNeutral70="CoreNeutral70",e.CoreNeutral60="CoreNeutral60",e.CoreNeutral50="CoreNeutral50",e.CoreNeutral40="CoreNeutral40",e.CoreNeutral30="CoreNeutral30",e.CoreNeutral20="CoreNeutral20",e.CoreNeutral10="CoreNeutral10",e.CoreNeutral1="CoreNeutral1",e.CoreNeutral0="CoreNeutral0",e.CoreGreen70="CoreGreen70",e.CoreGreen60="CoreGreen60",e.CoreGreen50="CoreGreen50",e.CoreGreen40="CoreGreen40",e.CoreGreen30="CoreGreen30",e.CoreGreen20="CoreGreen20",e.CoreGreen10="CoreGreen10",e.CoreGreen1="CoreGreen1",e.CoreBlue70="CoreBlue70",e.CoreBlue60="CoreBlue60",e.CoreBlue50="CoreBlue50",e.CoreBlue40="CoreBlue40",e.CoreBlue30="CoreBlue30",e.CoreBlue20="CoreBlue20",e.CoreBlue10="CoreBlue10",e.CoreBlue1="CoreBlue1",e.CoreRed70="CoreRed70",e.CoreRed60="CoreRed60",e.CoreRed50="CoreRed50",e.CoreRed40="CoreRed40",e.CoreRed30="CoreRed30",e.CoreRed20="CoreRed20",e.CoreRed10="CoreRed10",e.CoreRed1="CoreRed1",e.CoreYellow80="CoreYellow80",e.CoreYellow70="CoreYellow70",e.CoreYellow60="CoreYellow60",e.CoreYellow50="CoreYellow50",e.CoreYellow40="CoreYellow40",e.CoreYellow30="CoreYellow30",e.CoreYellow20="CoreYellow20",e.CoreYellow10="CoreYellow10",e.CoreYellow1="CoreYellow1",e.CorePurple60="CorePurple60",e.CorePurple50="CorePurple50",e.CorePurple40="CorePurple40",e.CorePurple30="CorePurple30",e.CorePurple20="CorePurple20",e.CorePurple10="CorePurple10",e.CorePurple1="CorePurple1",e.CoreCyan60="CoreCyan60",e.CoreCyan50="CoreCyan50",e.CoreCyan40="CoreCyan40",e.CoreCyan30="CoreCyan30",e.CoreCyan20="CoreCyan20",e.CoreCyan10="CoreCyan10",e.CoreCyan1="CoreCyan1",e.CoreSky70="CoreSky70",e.CoreSky60="CoreSky60",e.CoreSky50="CoreSky50",e.CoreSky40="CoreSky40",e.CoreSky30="CoreSky30",e.CoreSky20="CoreSky20",e.CoreSky10="CoreSky10",e.CoreSky1="CoreSky1",e.CoreIndigo70="CoreIndigo70",e.CoreIndigo60="CoreIndigo60",e.CoreIndigo50="CoreIndigo50",e.CoreIndigo40="CoreIndigo40",e.CoreIndigo30="CoreIndigo30",e.CoreIndigo20="CoreIndigo20",e.CoreIndigo10="CoreIndigo10",e.CoreIndigo1="CoreIndigo1",e.CoreMagenta70="CoreMagenta70",e.CoreMagenta60="CoreMagenta60",e.CoreMagenta40="CoreMagenta40",e.CoreMagenta30="CoreMagenta30",e.CoreMagenta10="CoreMagenta10",e.CoreMagenta1="CoreMagenta1",e.CoreCoral60="CoreCoral60",e.CoreCoral50="CoreCoral50",e.CoreCoral40="CoreCoral40",e.CoreCoral30="CoreCoral30",e.CoreCoral10="CoreCoral10",e.CoreCoral1="CoreCoral1",e.CoreYellowBrand50="CoreYellowBrand50",e.CoreYellowBrand40="CoreYellowBrand40",e.CoreYellowBrand30="CoreYellowBrand30",e.CoreYellowBrand20="CoreYellowBrand20",e.CoreYellowBrand10="CoreYellowBrand10",e.CoreYellowBrand1="CoreYellowBrand1",e.CoreLime50="CoreLime50",e.CoreLime40="CoreLime40",e.CoreLime30="CoreLime30",e.CoreLime20="CoreLime20",e.CoreLime10="CoreLime10",e.CoreLime1="CoreLime1"}(d||(d={})),function(e){e.ButtonPrev="button:prev",e.ButtonNext="button:next",e.ButtonAccept="button:accept",e.ButtonDismiss="button:dismiss",e.StrongAlertRefBulkAccept="strongAlertRef:BulkAccept",e.StrongAlertRefBulkDismiss="strongAlertRef:BulkDismiss",e.StrongAlertRefBulkDismissBufferOuter="strongAlertRef:BulkDismissBufferOuter",e.StrongAlertRefUpgradeHook="strongAlertRef:UpgradeHook",e.StrongAlertRefConsolidatedLockedCard="strongAlertRef:ConsolidatedLockedCard",e.ButtonGoPremiumYellow="button:goPremiumYellow",e.AssistantCardToneInsights="assistantCard:toneInsights",e.AssistantCardPerformanceScore="assistantCard:performanceScore",e.AssistantFeedPerformanceScore="assistantFeed:performanceScore",e.ButtonPerformanceScore="button:performanceScore",e.GlobalPartPlagiarismWinFooter="globalPart:plagiarismWinFooter",e.GlobalPartPlagiarismWinHeader="globalPart:plagiarismWinHeader",e.GlobalPartWritingExpertWinFooter="globalPart:writingExpertWinFooter",e.GlobalPartWritingExpertWinHeader="globalPart:writingExpertWinHeader",e.GlobalPartPerformanceScoreCard="globalPart:performanceScoreCard",e.GlobalPartPerformanceScoreButton="globalPart:performanceScoreButton",e.GlobalPartWritingExpertState="globalPart:writingExpertState"}(p||(p={})),function(e){e.Asc="asc",e.Desc="desc"}(h||(h={})),function(e){e.EqualTo="equalTo",e.NotEqualTo="notEqualTo"}(f||(f={})),function(e){e.Default="default",e.Loading="loading"}(m||(m={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(g||(g={})),function(e){e.Close="close",e.ArrowRight="arrow-right",e.ArrowLeft="arrow-left",e.Dictionary="dictionary",e.Gear="gear",e.Clarity="clarity",e.Correctness="correctness",e.Engagement="engagement",e.Delivery="delivery",e.Diamond="diamond",e.DiamondSmall="diamondSmall",e.Feedback="feedback",e.Sensitivity="sensitivity",e.ExternalLink="external-link",e.Sparkles="sparkles",e.Ignore="ignore",e.Info="info",e.Proofreader="proofreader",e.More="more",e.Mute="mute",e.Report="report",e.Controls="controls",e.Performance="performance",e.BulletList="bullet-list",e.Accept="accept",e.Copy="copy",e.GButtonSmall="gButtonSmall",e.NewSmall="newSmall",e.Edit="edit",e.User="user",e.Plagiarism="plagiarism",e.QuestionMark="questionMark",e.NewFeature="newFeature",e.Assistant="assistant",e.Warning="warning"}(y||(y={})),function(e){e.AllSuggestions="allSuggestions",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.StyleGuide="styleGuide",e.SmartGuidelines="smartGuidelines",e.Premium="premium"}(v||(v={})),function(e){e.D0="0",e.D01="0.1",e.D02="0.2",e.D03="0.3",e.D04="0.4",e.D05="0.5",e.D06="0.6",e.D07="0.7",e.D08="0.8",e.D09="0.9",e.D1="1"}(b||(b={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(w||(w={})),function(e){e.Radius0="Radius0",e.RadiusHalf="RadiusHalf",e.Radius1="Radius1",e.Radius2="Radius2",e.Radius3="Radius3"}(_||(_={})),function(e){e.D0="0",e.D0125="0.125",e.D025="0.25",e.D03125="0.3125",e.D0375="0.375",e.D05="0.5",e.D075="0.75",e.D1="1",e.D125="1.25"}(C||(C={})),function(e){e.Italic="italic",e.Bold="bold",e.StrikeoutHorizontal="strikeoutHorizontal",e.StrikeoutDiagonal="strikeoutDiagonal",e.Outline="outline"}(S||(S={})),function(e){e.Small="small",e.Regular="regular",e.Medium="medium",e.HeadingLevel1="headingLevel1",e.HeadingLevel3="headingLevel3",e.HeadingLevel4="headingLevel4"}(k||(k={})),function(e){e.Linear="linear",e.EaseIn="easeIn",e.EaseOut="easeOut",e.EaseInOut="easeInOut"}(I||(I={})),function(e){e.Auto="auto",e.Center="center",e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.TopCenter="topCenter",e.TopLeft="topLeft",e.TopRight="topRight",e.BottomCenter="bottomCenter",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(A||(A={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(T||(T={}))},56453:(e,t,n)=>{n.d(t,{R:()=>D});var r=n(84647),i=n(38260),a=n(50659),o=n(86344),s=n(19772),l=n(19711),c=n(78339),u=n(95168),d=n(65390),p=n(86562),h=n(58193),f=n(80074),m=n(87574),g=n(82541),y=n(91283),v=n(11864),b=function(e){var t=e.parentKey,n=e.from,r=e.transition,i=e.to,o=e.onAnimationEnd,s=e.renderContent,l=w(r.animateFrom,"from"),c=w(r.animateTo,"to"),u=l.needFullWidth||c.needFullWidth;return a.createElement("div",{className:v.Ks.joinClasses([_,u?C:""])},n&&a.createElement("div",{onAnimationEnd:function(){return o(r.fromName)},className:v.Ks.joinClasses(l.className)},s(n,"from-".concat(t),[])),a.createElement("div",{onAnimationEnd:function(){return o(r.toName)},className:v.Ks.joinClasses(c.className)},s(i,"to-".concat(t),[])))};function w(e,t){switch(e){case"fadeOut":return{className:[k],needFullWidth:!1};case"fadeIn":return{className:[A],needFullWidth:!1};case"slideLeft":return{className:E(t,"left"),needFullWidth:!0};case"slideRight":return{className:E(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}var _=v.Ks.style({position:"relative",overflow:"hidden"}),C=v.Ks.style({width:"100%"}),S=v.Ks.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),k=v.Ks.style({position:"absolute",opacity:0,visibility:"hidden",animation:"".concat(S," ").concat(v.Ks.seconds(.3)," ease-out")}),I=v.Ks.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),A=v.Ks.style({animation:"".concat(I," ").concat(v.Ks.seconds(.3)," ease-out")}),T=function(e){return"calc(".concat(e,"px * var(--cardWidth))")},E=function(e,t){var n="to"===e?0:"".concat(T("left"===t?-1:1)),r="from"===e?0:"".concat(T("left"===t?1:-1)),i=v.Ks.keyframes({from:{transform:"translateX(".concat(r,")"),visibility:"visible"},to:{transform:"translateX(".concat(n,")"),visibility:"from"===e?"hidden":"visible"}}),a=v.Ks.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=v.Ks.style({position:"from"===e?"absolute":"relative",animation:"".concat(i," ").concat(v.Ks.seconds(.3)," ease-out")});return"from"===e?[a,o]:[o]},x=n(79605),R=n(55365);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}function M(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function O(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}var D=function(e){var t=e.content,n=e.prevContent,v=e.transitions,w=e.designSystem,_=e.notify,C=e.onMount,S=e.onAnimationEnd,k=e.sduiRootId,I=e.longFormCardState,A=void 0===I?{viewKind:"collapsed"}:I,T=function(e){return"name"in e},E=function(e){return(0,r.pipe)(e,i.Tj((function(e){return"applyAlerts"===e.type&&0===e.alternativeIndex?{type:"applyAlerts",alternativeIndex:F.get()}:"selectAlternative"===e.type?(F.set(e.alternativeIndex),e):e})))},L=function(e,t,n,i,s){return function(l){return(0,r.pipe)(e,d.fromNullable,d.chain(o.ci),d.map((function(e){var o,c=function(e){if(Array.isArray(e))return e}(o=e)||B(o)||O(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],h=c.slice(1);switch(u.type){case"behavior:strongAlertRef":return L(h,t,n,i,s)((function(e){return a.createElement(w.strongAlertRef,{key:"".concat(t,"-strongAlertRef"),alertIds:u.alertIds,children:l(M(N({},e),{alertRefs:u.alertIds}))})}));case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":return L(h,t,n,i,s)((function(e){return a.createElement(w.animation,M(N({key:"".concat(t,"-animation")},u),{children:l(e)}))}));case"behavior:popoverAnchor":return L(h,t,n,i,s)((function(e){return(0,r.pipe)(d.some(u),d.filter(R.G2.PopoverAnchor.nonEmpty),d.fold((function(){return l(e)}),(function(i){var o=i.id,s=i.positionHint,c=i.view;return a.createElement(w.popoverAnchor,{key:"".concat(t,"-popoverAnchor"),inlineWrapper:"inline"===(0,y.aF)(n),positionHint:s,popover:$(c.child,c.id,v,S,e),children:l(e),onShow:function(){return(0,r.pipe)(c.onShow,(function(t){return _(o,t||[],e)}))}})})))}));case"behavior:lifecycle":return L(h,t,n,i,s)((function(e){return a.createElement(w.lifecycle,{key:"".concat(t,"-lifecycle"),children:l(N({},e)),onMountHandler:G(e)(u.onMount,i),onUnmountHandler:G(e)(u.onUnmount,i)})}));default:(0,p.xb)(u)}})),d.getOrElse((0,r.constant)(l(s))))}},D=new Map,F=f.s.create(0),$=function(e,t,n,o,s){var l=T(e)?n.find((function(t){return t.toName===e.name.value})):void 0;if(void 0!==l){var c=D.get(l.fromName);return a.createElement(b,{key:K(t,e),parentKey:t,renderContent:function(e,t){return $(e,K(t,e),[],r.constVoid,s)},onAnimationEnd:o,from:c,to:e,transition:l})}return L(function(e){return"behaviors"in e}(e)?e.behaviors:void 0,K(t,e),e.type,e.id,s)((function(s){switch(e.type){case"text":return a.createElement(w.text,N({key:K(t,e)},e));case"clickableText":return a.createElement(w.clickableText,M(N({},e),{key:K(t,e),name:e.name.value,textView:w.text,onClick:G(s)(e.onClickActions,e.id)}));case"button":var l=$(e.label,t,n,o,s);return a.createElement(m.F.Fragment,{key:K(t,e)},F.view((function(n){return a.createElement(w.button[e.kind],{key:K(t,e),id:e.id,text:l,name:e.name.value,state:e.name.value===g.A7.ButtonAccept&&-1===n?g.w.Hidden:e.state,tooltip:e.tooltip,shape:e.shape,verticalAlign:"block"===e.label.type||"row"===e.label.type?e.label.verticalAlign:void 0,meta:e.meta,horizontalAlign:e.horizontalAlign,onClick:G(s)(e.actions,e.id)})})));case"alternativeChoice":return a.createElement(m.F.Fragment,{key:K(t,e)},F.view((function(n){return a.createElement(w.alternativeChoice,{key:K(t,e),id:e.id,designSystem:w,content:e.alternatives,activeIndex:n,notify:G(s),meta:e.meta})})));case"icon":return H(e.source,e.backgroundColor,K(t,e));case"image":return a.createElement(w.imageSized,N({key:K(t,e)},e));case"count":return a.createElement(w.count,N({key:K(t,e)},e));case"block":return a.createElement(w.block,M(N({key:K(t,e)},e),{children:e.parts.map((function(e,r){return $(e,K(t,{id:r.toString()}),n,o,s)}))}));case"row":return a.createElement(w.row,M(N({key:K(t,e)},e),{left:e.left.map((function(e,r){return $(e,K(t,{id:r.toString()}),n,o,s)})),right:e.right.map((function(e,r){return $(e,K(t,{id:r.toString()}),n,o,s)}))}));case"column":return a.createElement(w.column,M(N({key:K(t,e)},e),{children:e.children.map((function(e,r){return $(e,K(t,{id:r.toString()}),n,o,s)}))}));case"slider":return a.createElement(w.slider,N({key:K(t,e),designSystem:w,onChoiceSelected:G(s)},e));case"alternativeSlider":return a.createElement(w.alternativeSlider,N({key:K(t,e),designSystem:w,activeAltIndex:F.view(),notify:G(s)},e));case"strongAlertRef":var c=M(N({},s),{alertRefs:e.alertIds});return a.createElement(w.strongAlertRef,M(N({key:t},e),{children:$(e.child,t,n,o,c)}));case"scroll":return a.createElement(w.scroll,N({key:K(t,e),children:$(e.child,t,n,o,s)},e));case"box":return a.createElement(w.box,N({key:K(t,e),children:$(e.child,t,n,o,s)},e));case"list":return a.createElement(w.list,N({key:K(t,e),onSelect:function(e){var t=function(e,t){return e&&0!==e.length?(0,r.pipe)(e,i.d5,d.map((function(e){switch(e.type){case"behavior:strongAlertRef":return M(N({},t),{alertRefs:e.alertIds});case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":case"behavior:popoverAnchor":case"behavior:lifecycle":return t;default:(0,p.xb)(e)}})),d.getOrElse((function(){return t}))):t}(e.behaviors,s);return G(t)(e.actions,e.id)()},onClick:function(t){return G(s)([{type:"positionedClick",source:e.type,sourcePosition:t.clickPoint}],e.id)()},renderItem:function(r,i){var l=K(t,e)+"."+i.toString(),c=$(r.label,t,n,o,s);return L(r.behaviors,l,e.type,e.id,s)((function(e){return a.createElement(w.listItem,{key:l,id:r.id,label:c,tooltip:r.tooltip,behaviors:r.behaviors,secondaryButtons:r.secondaryButtons.map((function(t){return M(N({},t),{onClick:G(e)(t.onClickActions,t.id)})})),designSystem:w,meta:r.meta})}))}},e));case"alertsCount":return a.createElement(w.alertsCount,N({key:K(t,e),textView:w.text},e));case"assistantCard":return a.createElement(w.assistantCard,M(N({key:K(t,e)},e),{child:$(e.child,t,n,o,s),footer:e.footer?$(e.footer,t,n,o,s):null}));case"nativeSkillsModal":return a.createElement(w.nativeSkillsModal,N({key:K(t,e)},e));case"nativeSkillsList":return a.createElement(w.nativeSkillsList,N({key:K(t,e),designSystem:w,notify:function(){return _(e.id,e.onSelect,s)}},e));case"nativeSkillsView":return a.createElement(w.nativeSkillsView,N({key:K(t,e)},e));case"nativeToneInsightsModal":return a.createElement(w.nativeToneInsightsModal,N({key:K(t,e)},e));case"nativeLearnMoreModal":return a.createElement(w.nativeLearnMoreModal,N({key:K(t,e)},e));case"nativeSettingsModal":return a.createElement(w.nativeSettingsModal,N({key:K(t,e)},e));case"nativeFeedbackModal":return a.createElement(w.nativeFeedbackModal,N({key:K(t,e)},e));case"nativeGetStartedChecklistModal":return a.createElement(w.nativeGetStartedChecklistModal,N({key:K(t,e),designSystem:w,notify:function(){return _(e.id,e.onComplete,s)}},e));case"nativeKeyTakeawaysAssistantCard":return a.createElement(w.nativeKeyTakeawaysAssistantCard,N({key:K(t,e)},e));case"nativeProofitModal":return a.createElement(w.nativeProofitModal,N({key:K(t,e)},e));case"viewStack":return(0,r.pipe)(d.fromNullable(e.views[e.selected]),d.fold((function(){return a.createElement("div",null,"unknown selected view, corresponding view is missing")}),(function(e){return $(e,t,n,o,s)})));case"dropDownMenuButton":return a.createElement(w.dropDownMenuButton,N({key:K(t,e),designSystem:w,onClick:G(s)},e));case"selectableDropDownMenu":return a.createElement(w.selectableDropDownMenu,N({key:K(t,e),designSystem:w,onClick:G(s)},e));case"nativeExperimentalGBConsistencyUpsellFooter":return a.createElement(w.nativeExperimentalGBConsistencyUpsellFooter,N({key:K(t,e)},e));case"nativeExperimentalGBToneInsightsUpsellFooter":return a.createElement(w.nativeExperimentalGBToneInsightsUpsellFooter,N({key:K(t,e)},e));case"nativeInlineCardContent":return a.createElement(w.nativeInlineCardContent,N({key:K(t,e)},e));case"inlineCard":return a.createElement(w.inlineCard,M(N({key:K(t,e)},e),{child:$(e.child,t,n,o,s)}));case"radioButtonsGroup":return a.createElement(w.radioButtonsGroup,N({key:K(t,e),designSystem:w,onClick:G(s)},e));case"collapsedCard":return a.createElement(w.collapsedCard,M(N({},e),{child:$(e.child,t,n,o,s),quickActions:e.quickActions?$(e.quickActions,t,n,o,s):null,onHoverChanged:function(t){return _(e.id,[{type:"hoverStateChanged",hovered:t}],s)},onPress:function(t){return G(s)([{type:"positionedClick",source:e.type,sourcePosition:t}],e.id)()}}));case"shortFormCard":return $(e.child,t,n,o,s);case"longFormCard":return a.createElement(w.longFormCard,M(N({},e),{fullContent:$(e.fullContent,t,n,o,s),collapsedContent:$(e.collapsedContent,t,n,o,s),viewKind:A.viewKind}));case"progressBar":return a.createElement(w.progressBar,N({key:K(t,e)},e));case"tooltip":return a.createElement(w.tooltip,{text:e.text,child:$(e.child,t,n,o,s),alignment:e.alignment});case"sticker":return a.createElement(w.sticker,M(N({},e),{key:K(t,e),label:$(e.label,K("".concat(t,"-label"),e),n,o,s),children:$(e.child,K("".concat(t,"-child"),e),n,o,s),onClick:G(s)(e.onClickActions,e.id)}));case"overlay":return a.createElement(w.overlay,M(N({},e),{key:K(t,e),obscuredContent:$(e.obscuredContent.content,K("".concat(t,"-obscured-content"),e),n,o,s),visibleContent:e.visibleContent?$(e.visibleContent,K("".concat(t,"-visible-content"),e),n,o,s):null,obscuredContentBlur:e.obscuredContent.blur}));case"horizontalRule":return a.createElement(w.horizontalRule,N({key:K(t,e)},e));case"globalPartPlaceholder":return a.createElement(w.globalPartPlaceholder,{key:K(t,e),children:e.child?$(e.child,t,n,o,s):null});case"assistantFeed":case"lensesSwitchPanel":case"popoverStack":case"gButton":throw new Error("".concat(e.type," can not be rendered directly"));default:if((0,y.T)(e))throw new Error("".concat(e.type," component rendering is not implemented here"));return a.createElement("div",null,"unknown element")}}))},H=function(e,t,n){return"known"===e.kind?a.createElement(w.icon[e.name],{key:n,backgroundColor:t}):a.createElement(w.image,M(N({key:n},e),{backgroundColor:t}))},G=function(e){return function(t,n){return function(){return(0,r.pipe)(t,E,(function(t){return _(n,t,e)}))}}};d.isSome(n)&&y.cK.forEach(h.$v(n),(function(e){T(e)&&D.set(e.name.value,e)}));var W=v.reduce((function(e,t){return D.has(t.fromName)&&(e+=1),e+1}),0),V=f.s.create([]);return s.R.useSubscriptionTo((0,r.pipe)(V,l.$((function(e){return e.length===W})),c.p((function(){return W>0})),u.M(S))),s.R.useEffectOnDidMount(C),a.createElement(x.F.Context.Provider,{value:{alertIds:[]}},$(t,k,v,(function(e){return V.modify((function(t){return(n=t,function(e){if(Array.isArray(e))return P(e)}(n)||B(n)||O(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]);var n}))}),{alertRefs:[]}))};function K(e,t){return"".concat(e,".").concat(t.id)}},79605:(e,t,n)=>{n.d(t,{F:()=>r,m:()=>o});var r,i=n(59636),a=n(50659);!function(e){e.Context=a.createContext(i.o.invariantContent("AlertRefState"))}(r||(r={}));var o=function(e){var t=e.children,n=e.alertIds;return a.createElement(r.Context.Provider,{value:{alertIds:n}},t)}},55365:(e,t,n)=>{n.d(t,{$n:()=>f,G2:()=>o,Hh:()=>C,X2:()=>I,eB:()=>c,wM:()=>r});var r,i,a,o,s,l,c,u,d,p,h,f,m,g,y,v,b,w,_,C,S,k,I,A,T=n(38908),E=n(82444),x=n(82541),R=n(38791),P=n(62270);!function(e){e.isStrongAlertRefComponent=function(e){return"child"in e},e.isStrongAlertRefBehavior=function(e){return!("child"in e)}}(r||(r={})),function(e){e.isStrongAlertRef=function(e){return"strongAlertRef"===e.type},e.create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n,id:C.from("strongAlertRef")}}}(i||(i={})),function(e){e.isLongFormCard=function(e){return"longFormCard"===e.type},e.create=function(e,t,n){return{type:"longFormCard",fullContent:e,collapsedContent:t,id:C.from("longFormCard"),behaviors:[o.StrongAlertRef.create(n,[])],feedProperties:{}}}}(a||(a={})),function(e){var t,n;e.isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},(n=e.StrongAlertRef||(e.StrongAlertRef={})).create=function(e,t){return{id:C.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}},n.eq=R.n(P.Pw)(E.H6h),e.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},(t=e.PopoverAnchor||(e.PopoverAnchor={})).create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}},t.nonEmpty=function(e){return!!e.view}}(o||(o={})),function(e){e.create=function(e,t,n,r,i){return{type:"row",left:e,right:t,spacing:n,verticalAlign:r,id:C.from("row"),behaviors:i?[o.PopoverAnchor.create(i,x.yX.Top)]:void 0}},e.isRow=function(e){return"row"===e.type}}(s||(s={})),function(e){e.create=function(e){return{type:"column",children:e,id:C.from("column")}}}(l||(l={})),function(e){var t=e.Type="block";e.create=function(e,n,r){for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return{type:t,name:S.unknown(e),parts:a,spacing:n,innerSpacing:r,id:C.from(e)}},e.isBlock=function(e){return e.type===t},e.hasOnlyTextParts=function(e){return e.parts.every(u.isText)}}(c||(c={})),function(e){var t=e.Type="text";e.create=function(e,n,r,i,a,o,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};return{type:t,text:e,size:n,format:r,textColor:i,backgroundColor:a,outlineColor:o,id:C.from(t),selectable:s,meta:l}},e.isText=function(e){return e.type===t}}(u||(u={})),function(e){e.create=function(e,t){return{label:e,preview:t}}}(d||(d={})),function(e){e.create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:"alternativeChoice",alternatives:n,id:C.from("alternativeChoice"),meta:e}}}(p||(p={})),function(e){e.create=function(e,t){return{type:"viewStack",id:C.from("ViewStack"),views:t,selected:e}}}(h||(h={})),function(e){var t,n=e.Type="button";(t=e.Action||(e.Action={})).isTransitionAction=function(e){return"transition"===e.type},t.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},t.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}},e.isButton=function(e){return"button"===e.type},e.create=function(e,t,r,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:x.aH.Square,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},d=C.from(e);return{type:n,id:d,name:S.unknown(e),tooltip:a,kind:i,state:x.w.Enabled,label:{type:c.Type,name:S.unknown(""),parts:[u.create(t,x.$C.Regular,[],x.Q1.CoreNeutral0,void 0,void 0,!1)],spacing:o,id:C.from("label-button-"+d)},actions:r,shape:s,meta:l}},e.createIcon=function(e,t,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:x.aH.Square,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=C.from(e),u="icon-button-"+e;return{type:n,id:l,name:S.unknown(e),tooltip:a,kind:i,state:x.w.Enabled,label:{type:c.Type,name:S.unknown(u),spacing:g.create("0","0.25","0","0.25"),parts:[m.create(t,void 0)],id:C.from(u)},actions:r,shape:o,meta:s}}}(f||(f={})),function(e){var t,n=e.Type="icon";(t=e.Source||(e.Source={})).createKnown=function(e){return{kind:"known",name:e}},t.createUrl=function(e,t,n){return{kind:"url",name:t,url:e,size:n}},e.create=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:n,source:e,backgroundColor:t,id:C.from(n),meta:r}}}(m||(m={})),function(e){e.create=function(e,t,n,r){return{top:e,bottom:n,left:r,right:t}}}(g||(g={})),function(e){e.create=function(e,t){return{vertical:t,horizontal:e}}}(y||(y={})),function(e){var t=e.Type="count";e.create=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return{type:"count",backgroundColor:n,value:e,id:C.from(t),meta:r,textColor:i}}}(v||(v={})),function(e){(e.Choice||(e.Choice={})).create=function(e,t,n){return{type:"sliderChoice",id:C.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n}},e.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"slider",segmentSize:e,fillColor:t,choices:n,id:C.from("slider"),meta:r}}}(b||(b={})),function(e){(e.Choice||(e.Choice={})).create=function(e,t,n,r){return{id:C.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n,preview:r}},e.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:n,id:C.from("alternativeSlider"),meta:r}}}(w||(w={})),function(e){e.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"list",items:e,id:C.from("list"),meta:t}},(e.Item||(e.Item={})).create=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{id:C.from("listItem"),label:e,behaviors:n,actions:t,secondaryButtons:r,meta:i}}}(_||(_={})),function(e){e.from=function(e){return e+"#"+T.G7(6)}}(C||(C={})),function(e){e.unknown=function(e){return{kind:"unknown",value:e}}}(S||(S={})),function(e){e.create=function(e,t,n){return{type:"popoverStack",id:e,views:n,selected:t}},e.createView=function(e,t,n,r){return{id:e,rootPopoverId:t,child:n,anchor:{kind:"component",id:r||T.G7(3)}}}}(k||(k={})),function(e){var t=e.Type="globalPart";e.create=function(e,n,r){return{type:t,id:e,content:n,name:S.unknown(r)}},e.isGlobalPart=function(e){return e.type===t}}(I||(I={})),function(e){var t=e.Type="globalPartPlaceholder";e.create=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.from(t);return{type:t,id:n,globalPartId:e,child:arguments.length>2?arguments[2]:void 0}},e.isGlobalPartPlaceholder=function(e){return e.type===t}}(A||(A={}))},91283:(e,t,n)=>{n.d(t,{T:()=>L,aF:()=>B,cK:()=>r});var r,i=n(84647),a=n(38260),o=n(48120),s=n(62270),l=n(38791),c=n(86562),u=n(65390),d=n(36840),p=n(22835),h=n(38886),f=n(58193),m=n(66202),g=n(86344),y=n(82541),v=n(82444),b=n(53143),w=n(55365);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){if(Array.isArray(e))return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function T(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function E(e){return function(e){if(Array.isArray(e))return _(e)}(e)||k(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function R(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function P(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(e){return b.I.includes(e.type)}function B(e){switch(e){case"row":return"block";case"button":case"box":return"inline";default:throw new Error("Unsupported component")}}!function(e){var t,n=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=E(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).concat([e.id]);switch(r){case t.PreOrder:return n(e,i),X(e,n,r,i);case t.PostOrder:return X(e,n,r,i),n(e,i);default:(0,c.xb)(r)}},b=function(e){var n,r=arguments;return R(this,(function(i){switch(i.label){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:t.PreOrder,[5,P(K(e,n,[]))];case 1:return i.sent(),[2]}}))},_=function(e,t,n,i){var a=i;return r.forEach(e,(function(e,n){return a=t(a,e,n)}),n),a},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.TreeTraversal.PreOrder,i=!0,a=!1,o=void 0;try{for(var s,l=b(e,n)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;if(c.type===t)return u.some(c)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return u.none},N=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return(0,i.pipe)(n(e),(function(e){return j(e,n,r)}));case t.PostOrder:return(0,i.pipe)(j(e,n,r),u.map(n));default:(0,c.xb)(r)}},M=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return(0,i.pipe)(e,u.fromPredicate(n),u.chain((function(e){return(0,i.pipe)(z(e,n,r),u.map((function(t){return A({},e,t)})))})));case t.PostOrder:return(0,i.pipe)(z(e,n,r),u.chain((function(t){return u.fromPredicate(n)(A({},e,t))})));default:(0,c.xb)(r)}},O=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return(0,i.pipe)(n(e),u.chain((function(e){return(0,i.pipe)(Q(e,n,r),u.map((function(t){return A({},e,t)})))})));case t.PostOrder:return(0,i.pipe)(Q(e,n,r),u.chain((function(t){return n(A({},e,t))})));default:(0,c.xb)(r)}},D=function(e){return M(e,(0,d.AU)(U),t.PostOrder)},K=function(e){var n,r,i=arguments;return R(this,(function(a){switch(a.label){case 0:switch(n=i.length>1&&void 0!==i[1]?i[1]:t.PreOrder,r=E(i.length>2&&void 0!==i[2]?i[2]:[]).concat([e.id]),n){case t.PreOrder:return[3,1];case t.PostOrder:return[3,4]}return[3,7];case 1:return[4,e];case 2:return a.sent(),[5,P($(e,n,r))];case 3:return a.sent(),[3,8];case 4:return[5,P($(e,n,r))];case 5:return a.sent(),[4,e];case 6:return a.sent(),[3,8];case 7:(0,c.xb)(n),a.label=8;case 8:return[2]}}))},F=function(e){var n,r,i,a=arguments;return R(this,(function(o){switch(o.label){case 0:n=a.length>1&&void 0!==a[1]?a[1]:t.PreOrder,r=a.length>2?a[2]:void 0,i=0,o.label=1;case 1:return i<e.length?[5,P(K(e[i],n,r))]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}}))},$=function(e){var n,r,i,a,o,s,l,u,d=arguments;return R(this,(function(p){switch(p.label){case 0:switch(n=d.length>1&&void 0!==d[1]?d[1]:t.PreOrder,r=d.length>2?d[2]:void 0,e.type){case"column":return[3,1];case"assistantCard":return[3,3];case"popoverStack":return[3,8];case"strongAlertRef":return[3,10];case"row":return[3,12];case"block":return[3,15];case"box":case"scroll":case"inlineCard":case"shortFormCard":return[3,17];case"globalPart":return[3,19];case"globalPartPlaceholder":return[3,21];case"list":return[3,23];case"button":return[3,25];case"alternativeChoice":return[3,27];case"alternativeSlider":return[3,32];case"assistantFeed":return[3,37];case"viewStack":return[3,42];case"collapsedCard":return[3,44];case"longFormCard":return[3,49];case"sticker":return[3,52];case"overlay":return[3,55];case"tooltip":return[3,60];case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return[3,62]}return[3,63];case 1:return[5,P(F(e.children,n,r))];case 2:return p.sent(),[3,64];case 3:return null==e.footer?[3,5]:[5,P(K(e.footer,n,r))];case 4:return p.sent(),[3,6];case 5:p.label=6;case 6:return[5,P(K(e.child,n,r))];case 7:return p.sent(),[3,64];case 8:return[5,P(F(Object.values(e.views).map((function(e){return e.child})),n,r))];case 9:return p.sent(),[3,64];case 10:return[5,P(K(e.child,n,r))];case 11:return p.sent(),[3,64];case 12:return[5,P(F(e.left,n,r))];case 13:return p.sent(),[5,P(F(e.right,n,r))];case 14:return p.sent(),[3,64];case 15:return[5,P(F(e.parts,n,r))];case 16:return p.sent(),[3,64];case 17:return[5,P(K(e.child,n,r))];case 18:return p.sent(),[3,64];case 19:return[5,P(K(e.content,n,r))];case 20:return p.sent(),[3,64];case 21:return e.child?[5,P(K(e.child,n,r))]:[2];case 22:return p.sent(),[3,64];case 23:return[5,P(F(e.items.map((function(e){return e.label})),n,r))];case 24:return p.sent(),[3,64];case 25:return[5,P(K(e.label,n,r))];case 26:return p.sent(),[3,64];case 27:i=0,p.label=28;case 28:return i<e.alternatives.length?(a=e.alternatives[i],o=a.label,s=a.preview,[5,P(F([o,s],n,r))]):[3,31];case 29:p.sent(),p.label=30;case 30:return i++,[3,28];case 31:return[3,64];case 32:l=0,p.label=33;case 33:return l<e.choices.length?(u=e.choices[l].preview,[5,P(K(u,n,r))]):[3,36];case 34:p.sent(),p.label=35;case 35:return l++,[3,33];case 36:return[3,64];case 37:return null==e.footer?[3,39]:[5,P(K(e.footer,n,r))];case 38:return p.sent(),[3,40];case 39:p.label=40;case 40:return[5,P(K(e.header,n,r))];case 41:return p.sent(),[3,64];case 42:return[5,P(F(Object.values(e.views),n,r))];case 43:return p.sent(),[3,64];case 44:return null==e.quickActions?[3,46]:[5,P(K(e.quickActions,n,r))];case 45:return p.sent(),[3,47];case 46:p.label=47;case 47:return[5,P(K(e.child,n,r))];case 48:return p.sent(),[3,64];case 49:return[5,P(K(e.collapsedContent,n,r))];case 50:return p.sent(),[5,P(K(e.fullContent,n,r))];case 51:return p.sent(),[3,64];case 52:return[5,P(K(e.child,n,r))];case 53:return p.sent(),[5,P(K(e.label,n,r))];case 54:return p.sent(),[3,64];case 55:return null==e.visibleContent?[3,57]:[5,P(K(e.visibleContent,n,r))];case 56:return p.sent(),[3,58];case 57:p.label=58;case 58:return[5,P(K(e.obscuredContent.content,n,r))];case 59:return p.sent(),[3,64];case 60:return[5,P(K(e.child,n,r))];case 61:return p.sent(),[3,64];case 62:return[2];case 63:if(L(e))return[2];(0,c.xb)(e),p.label=64;case 64:return[2]}}))};!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=n,e.traverse=b,e.reduce=_,e.findFirst=B,e.findFirstWithPredicate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.TreeTraversal.PreOrder,i=!0,a=!1,o=void 0;try{for(var s,l=b(e,n)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;if(t(c))return u.some(c)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return u.none};var H=e.over=function(e,n,r){var a,o=C(a=n)||k(a)||x(a)||I(),s=o[0],l=o.slice(1);return h.Im(l)&&s===e.id?r(e):J(e,i.constVoid,t.PreOrder,(function(t){return e.id===s&&t.id===l[0]?H(t,l,r):u.some(t)}))};e.map=N,e.filter=M,e.filterMap=O,e.compact=D;var G=e.getAlertRefs=function(e){switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":case"globalPartPlaceholder":case"sticker":case"overlay":return u.none;case"shortFormCard":return G(e.child);case"longFormCard":return(0,i.pipe)(e.behaviors,a.pb(w.G2.isStrongAlertRef),g.ci);case"strongAlertRef":return u.some([e]);case"inlineCard":return(0,i.pipe)((0,i.pipe)(e.behaviors,u.fromNullable,u.chain((0,i.flow)(a.pb(w.G2.isStrongAlertRef),g.ci))));case"list":return(0,i.pipe)(e.items,a.Tj((function(e){return(0,i.pipe)(e.behaviors,u.fromNullable,u.chain((0,i.flow)(h.pb(w.G2.isStrongAlertRef),g.ci)))})),u.sequenceArray,u.map(g.Bq));default:if(L(e))return u.none;(0,c.xb)(e)}},W=(e.getAlertIds=(0,i.flow)(G,u.chain((0,i.flow)(a.cy(p.Up("alertIds")),g._S))),e.getAllAlertIds=function(e){return _(e,(function(e,t){return(0,i.pipe)(r.getAlertIds(t),u.map((function(t){return e.concat(t)})),u.getOrElse((function(){return e})))}),t.PreOrder,[])},e.getSDUIId=function(e){return u.fromNullable(e.id)},e.setPopoverView=function(e,t){return N(e,(function(e){switch(e.type){case"box":case"row":case"button":return(0,i.pipe)(u.fromNullable(e.behaviors),u.chain(a.i8(w.G2.isPopoverAnchor)),u.fold((0,i.constant)(e),(function(n){var r=n.view,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["view"]);return(0,i.pipe)(u.fromNullable(r),u.fold((function(){return(0,i.pipe)(t,u.filter((function(e){return"component"===e.anchor.kind&&e.anchor.id===a.id})),u.fold((0,i.constant)(e),(function(t){return T(A({},e),{behaviors:[T(A({},a),{view:t})]})})))}),(function(n){return(0,i.pipe)(t,u.filter((function(e){return p.n4(e.anchor,n.anchor)})),u.fold((function(){return T(A({},e),{behaviors:[a]})}),(function(t){return t.rootPopoverId===n.rootPopoverId&&t.id===n.id?e:T(A({},e),{behaviors:[T(A({},a),{view:t})]})})))})))})));default:return e}}))},e.setGlobalPartPlaceholderContent=function(e,t){return N(e,(function(e){return"globalPartPlaceholder"===e.type?(0,i.pipe)(t(e.globalPartId),u.fold((function(){return e}),(function(t){return T(A({},e),{child:t.content})}))):e}))},e.removeStrongAlertRef=function(e){return function(t){var n=(0,i.pipe)(t,a.Tj((function(e){return e.alertIds})),a.Bq,(function(e){return new Set(e)})),r=(0,i.pipe)(t,g.pb(w.wM.isStrongAlertRefComponent)),o=(0,i.pipe)(t,g.pb(w.wM.isStrongAlertRefBehavior));return(0,i.pipe)(O(e,V(n,r,o)),u.chain(D))}},function(e,t){var n;return T(A({},e),{behaviors:null===(n=e.behaviors)||void 0===n?void 0:n.map((function(e){return"behavior:strongAlertRef"===e.type?T(A({},e),{alertIds:e.alertIds.filter((function(e){return!t.has(e)}))}):e}))})}),V=function(e,t,n){return function(r){switch(r.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":case"globalPartPlaceholder":case"sticker":case"overlay":return u.some(r);case"shortFormCard":return V(e,t,n)(r.child);case"longFormCard":return u.some(T(A({},r),{behaviors:r.behaviors.map((function(t){return w.G2.isStrongAlertRef(t)?T(A({},t),{alertIds:t.alertIds.filter((function(t){return!e.has(t)}))}):t}))}));case"strongAlertRef":return(0,i.pipe)(t,u.exists((function(e){return e.some((function(e){return q.equals(r,e)}))})))?u.none:u.some(T(A({},r),{alertIds:r.alertIds.filter((function(t){return!e.has(t)}))}));case"inlineCard":return r.behaviors&&r.behaviors.some((function(e){return w.G2.isStrongAlertRef(e)&&(0,i.pipe)(n,u.exists((function(t){return t.some((function(t){return w.G2.StrongAlertRef.eq.equals(e,t)}))})))}))?u.none:u.some(W(r,e));case"list":var a=r.items.filter((function(e){return!e.behaviors||!e.behaviors.some((function(e){return w.G2.isStrongAlertRef(e)&&(0,i.pipe)(n,u.exists((function(t){return t.some((function(t){return w.G2.StrongAlertRef.eq.equals(e,t)}))})))}))}));return 0===a.length?u.none:u.some(T(A({},r),{items:a.map((function(t){return W(t,e)}))}));default:if(L(r))return u.some(r);(0,c.xb)(r)}}},q=(e.switchViewStack=function(e,t,n){return(0,i.pipe)(H(e,t,(function(e){return"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[n]?u.some(e):u.some(T(A({},e),{selected:n}))})),u.fold((function(){return e}),i.identity))},e.toContentMap=function(e){return r.reduce(e,(function(e,t,n){return e[t.id]={content:t,path:n},e}),t.PreOrder,{})},e.eq=l.n(s.Pw)(v.UCW)),U=e.isEmpty=function(e){if(null==e)return!0;switch(e.type){case"column":return a.Im(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":case"shortFormCard":case"globalPartPlaceholder":case"tooltip":return null==e.child;case"row":return a.Im(e.left)&&a.Im(e.right);case"block":return a.Im(e.parts);case"list":return a.Im(e.items);case"button":return null==e.label;case"alternativeChoice":return a.Im(e.alternatives);case"alternativeSlider":return a.Im(e.choices);case"assistantFeed":return null==e.header&&null==e.footer;case"sticker":return null==e.label&&null==e.child;case"overlay":return null==e.obscuredContent.content&&null==e.visibleContent;case"viewStack":return p.RI(e.views);case"longFormCard":return null==e.fullContent;case"globalPart":return null==e.content;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(L(e))return!1;(0,c.xb)(e)}};e.isSwitchViewAction=function(e){return"switchView"===e.type},e.bulkSwitchView=function(e,t,n){var a=null!=n?n:r.toContentMap(e);return t.reduce((function(e,t){var n=t.selected,o=t.where;return(0,i.pipe)(a[o],u.fromNullable,u.map(p.Up("path")),u.fold((function(){return e}),(function(t){return r.switchViewStack(e,t,n)})))}),e)},e.getCardPropsForFeed=function(e){return e.filtering.filter((function(e){return e.condition===y.TV.EqualTo})).reduce((function(e,t){return T(A({},e),S({},t.property,t.value))}),{})};var j=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return J(e,n,r,N)},z=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return J(e,n,r,M)},Q=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return J(e,n,r,O)},Y=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;return(0,i.pipe)(e,a.TS(new Array,(function(e,t){return(0,i.pipe)(o(t,n,r),u.fold(i.constVoid,(function(t){return e.push(t)}))),e})))},J=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return(0,i.pipe)(Y(e.children,n,r,o),(function(t){return T(A({},e),{children:t})}),u.some);case"assistantCard":var s=(0,i.pipe)(u.fromNullable(e.footer),u.chain((function(e){return o(e,n,r)})),u.getOrElse((function(){})));return(0,i.pipe)(o(e.child,n,r),u.map((function(t){return T(A({},e),{child:t,footer:s})})));case"strongAlertRef":case"scroll":case"inlineCard":case"shortFormCard":case"box":case"tooltip":return(0,i.pipe)(o(e.child,n,r),u.map((function(t){return T(A({},e),{child:t})})));case"row":var l=Y(e.right,n,r,o),d=Y(e.left,n,r,o);return u.some(T(A({},e),{left:d,right:l}));case"block":return(0,i.pipe)(Y(e.parts,n,r,o),(function(t){return T(A({},e),{parts:t})}),u.some);case"list":return(0,i.pipe)(e.items,a.Tj((function(e){return(0,i.pipe)(o(e.label,n,r),u.map((function(t){return T(A({},e),{label:t})})))})),a.pb(u.isSome),a.Tj(f.$v),(function(t){return T(A({},e),{items:t})}),u.some);case"button":return(0,i.pipe)(o(e.label,n,r),u.map((function(t){return T(A({},e),{label:t})})));case"alternativeChoice":return(0,i.pipe)(e.alternatives,a.Tj((function(e){return(0,i.pipe)([o(e.label,n,r),o(e.preview,n,r)],u.sequenceArray,u.map((function(e){return e})),u.map((function(t){var n,r,i=(r=2,C(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(n,r)||x(n,r)||I()),a=i[0],o=i[1];return T(A({},e),{label:a,preview:o})})))})),a.pb(u.isSome),a.Tj(f.$v),(function(t){return T(A({},e),{alternatives:t})}),u.some);case"alternativeSlider":return(0,i.pipe)(e.choices,a.Tj((function(e){return(0,i.pipe)(o(e.preview,n,r),u.map((function(t){return T(A({},e),{preview:t})})))})),a.pb(u.isSome),a.Tj(f.$v),(function(t){return T(A({},e),{choices:t})}),u.some);case"assistantFeed":return(0,i.pipe)(u.fromNullable(e.footer),u.chain((function(e){return o(e,n,r)})),u.map((function(t){return T(A({},e),{footer:t})})),u.alt((function(){return u.some(e)})),u.chain((function(e){return(0,i.pipe)(o(e.header,n,r),u.map((function(t){return T(A({},e),{header:t})})))})));case"popoverStack":return(0,i.pipe)(Object.keys(e.views),a.TS({},(function(t,a){return(0,i.pipe)(o(e.views[a].child,n,r),u.fold((function(){return delete t[a],t}),(function(n){return t[a]=T(A({},e.views[a]),{child:n}),t})))})),(function(t){return T(A({},e),{views:t})}),u.some);case"viewStack":return(0,i.pipe)(Object.keys(e.views),a.TS({},(function(t,a){return(0,i.pipe)(o(e.views[a],n,r),u.fold((function(){return delete t[a],t}),(function(e){return t[a]=e,t})))})),(function(t){return T(A({},e),{views:t})}),u.some);case"collapsedCard":var p=(0,i.pipe)(u.fromNullable(e.quickActions),u.chain((function(e){return o(e,n,r)})),u.getOrElse((function(){})));return(0,i.pipe)(o(e.child,n,r),u.map((function(t){return T(A({},e),{child:t,quickActions:p})})));case"longFormCard":return(0,i.pipe)(o(e.fullContent,n,r),u.chain((function(t){return(0,i.pipe)(o(e.collapsedContent,n,r),u.map((function(n){return T(A({},e),{fullContent:t,collapsedContent:n})})))})));case"sticker":return(0,i.pipe)(o(e.child,n,r),u.chain((function(t){return(0,i.pipe)(o(e.label,n,r),u.map((function(n){return T(A({},e),{child:t,label:n})})))})));case"overlay":var h=(0,i.pipe)(u.fromNullable(e.visibleContent),u.chain((function(e){return o(e,n,r)})),u.getOrElse((function(){})));return(0,i.pipe)(o(e.obscuredContent.content,n,r),u.map((function(t){return T(A({},e),{obscuredContent:T(A({},e.obscuredContent),{content:t}),visibleContent:h})})));case"globalPart":return(0,i.pipe)(o(e.content,n,r),u.map((function(t){return T(A({},e),{content:t})})));case"globalPartPlaceholder":return e.child?(0,i.pipe)(o(e.child,n,r),u.map((function(t){return T(A({},e),{child:t})}))):u.some(e);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return u.some(e);default:if(L(e))return u.some(e);(0,c.xb)(e)}},Z=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,a=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){return n(e,r,i,a)}))},X=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,a=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Z(e.children,r,i,a);case"assistantCard":return null!=e.footer&&n(e.footer,r,i,a),n(e.child,r,i,a);case"popoverStack":return Z(Object.values(e.views).map((function(e){return e.child})),r,i,a);case"strongAlertRef":case"box":case"scroll":case"inlineCard":case"shortFormCard":case"tooltip":return n(e.child,r,i,a);case"row":return Z(e.left,r,i,a),Z(e.right,r,i,a);case"block":return Z(e.parts,r,i,a);case"list":return Z(e.items.map((function(e){return e.label})),r,i,a);case"button":return n(e.label,r,i,a);case"alternativeChoice":return e.alternatives.forEach((function(e){var t=e.label,n=e.preview;return Z([t,n],r,i,a)}));case"alternativeSlider":return e.choices.forEach((function(e){var t=e.preview;return n(t,r,i,a)}));case"assistantFeed":return null!=e.footer&&n(e.footer,r,i,a),n(e.header,r,i,a);case"viewStack":return Z(Object.values(e.views),r,i,a);case"collapsedCard":return null!=e.quickActions&&n(e.quickActions,r,i,a),n(e.child,r,i,a);case"longFormCard":return n(e.collapsedContent,r,i,a),n(e.fullContent,r,i,a);case"sticker":return n(e.label,r,i,a),n(e.child,r,i,a);case"overlay":return null!=e.visibleContent&&n(e.visibleContent,r,i,a),n(e.obscuredContent.content,r,i,a);case"globalPart":return n(e.content,r,i,a);case"globalPartPlaceholder":return e.child?n(e.child,r,i,a):void 0;case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return;default:if(L(e))return;(0,c.xb)(e)}},ee=(e.Functor={map:function(e,n){return N(e,n,t.PreOrder)}},e.checkForGlobalPartWithPlaceholder=function(e){return w.X2.isGlobalPart(e)?(0,i.pipe)(B(e,"globalPartPlaceholder"),u.fold((function(){return m.right(e)}),(function(t){return m.left(new Error("globalPart can not contain globalPartPlaceholder. globalPartPlaceholder (id: ".concat(t.id,") found in globalPart (id: ").concat(e.id,")")))}))):m.right(e)}),te=l.n(o.Pw)(v.UCW);e.dslRootParser=(0,i.flow)(te.decode,m.mapLeft((function(e){return new Error(o.$2(e))})),m.chain(ee))}(r||(r={}))},90795:(e,t,n)=>{function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{A:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},29978:(e,t,n)=>{n.d(t,{Xo:()=>i});var r=n(83288),i={equals:r.ordNumber.equals,compare:r.ordNumber.compare,top:1/0,bottom:-1/0}},85982:(e,t,n)=>{n.d(t,{AU:()=>v,BK:()=>m,ED:()=>$,TX:()=>w,Tj:()=>k,W6:()=>G,WL:()=>b,bm:()=>F,cy:()=>H,g$:()=>B,kb:()=>h,oW:()=>L,pG:()=>f,wg:()=>_,wu:()=>I});var r=n(45819),i=n(52546),a=n(66202),o=n(99036),s=n(99650),l=n(27155),c=n(84647),u=n(21648),d=n(1986),p=n(84011),h=o.kb(p.gd),f=o.pG(p.gd),m=o.nT(p.WW),g=(p.WW,p.of),y=m,v=(p.WW,o.NU(p.Cu)),b=o.Do(p.Cu),w=function(e,t){return function(){return a.tryCatch(e,t)}},_=(p.WW,p.Cu,o.sF(p.Cu),p.Cu,o.wg(p.WW)),C=function(e,t){return(0,c.pipe)(e,k(t))},S=function(e,t){return(0,c.pipe)(e,A(t))},k=o.Tj(p.WW),I=(0,c.dual)(3,o.Uc(p.WW)),A=(o.xm(p.WW),o.ap(p.Zn)),T=f,E=(0,c.dual)(2,o.qI(p.Cu)),x=(p.Cu,"IOEither"),R={URI:x,map:C},P=((0,c.dual)(2,(0,u.as)(R)),(0,u.Pg)(R),{URI:x,map:C,ap:S}),L=(0,r.oW)(P),B=(0,r.g$)(P),N={URI:x,map:C,ap:S,chain:E},M={URI:x,fromEither:g},O={URI:x,fromIO:y},D=(0,c.dual)(2,i.Mi(N)),K=((0,s.j_)(M,N),(0,l.qf)(O,N),d.FR,T(d.rb)),F=function(e){return function(e){var t=function(e){return function(t){return function(){var n=e(0,d.d5(t))();if(d.OC(n))return n;for(var r=[n.right],i=1;i<t.length;i++){var a=e(i,t[i])();if(d.OC(a))return a;r.push(a.right)}return d.pG(r)}}}(e);return function(e){return d.J_(e)?t(e):K}}((function(t,n){return e(n)}))},$=F(c.identity),H=E,G=D},80993:(e,t,n)=>{n.d(t,{$I:()=>d,G1:()=>u,Im:()=>s,JI:()=>h,PT:()=>w,Tj:()=>b,cs:()=>o,nZ:()=>p,pb:()=>y,qt:()=>c,x1:()=>v,zu:()=>l});var r=n(84647),i=n(1986),a=n(47503),o=(n(31464),a.cs),s=(a.Ej,a.Im),l=(a.Dc,a.Mu,function(e){return function(t){return Array.from(t.values()).sort(e.compare)}}),c=function(e){var t=u(e);return function(e,n){return function(r){var a=t(e,r);if(i.$I(a))return i.dv;var o=new Map(r);return o.set(a.value[0],n(a.value[1])),i.zN(o)}}};function u(e){return function(t,n){if(void 0===n){var r=u(e);return function(e){return r(t,e)}}for(var a,o=n.entries();!(a=o.next()).done;){var s=a.value,l=s[0],c=s[1];if(e.equals(l,t))return i.zN([l,c])}return i.dv}}var d=a.$I,p=(a.NY,a.nZ);function h(e,t){var n=u(e);return{concat:function(e,r){if(s(e))return r;if(s(r))return e;for(var a,o=new Map(e),l=r.entries();!(a=l.next()).done;){var c=a.value,u=c[0],d=c[1],p=n(u,e);i.Ru(p)?o.set(p.value[0],t.concat(p.value[1],d)):o.set(u,d)}return o},empty:new Map}}var f=function(e,t){return function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var a=n.value,o=a[0],s=a[1];r.set(o,t(o,s))}return r}(e,(function(e,n){return t(n)}))},m=function(e,t){return(0,r.pipe)(e,function(e){return function(t){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var a=n.value,o=a[0],s=a[1];e(o,s)&&r.set(o,s)}return r}}(t))},g=function(e,t){return(0,r.pipe)(e,function(e){return function(t){for(var n,r=new Map,a=t.entries();!(n=a.next()).done;){var o=n.value,s=o[0],l=o[1],c=e(s,l);i.Ru(c)&&r.set(s,c.value)}return r}}(t))},y=function(e){return function(t){return function(e,t){return m(e,(function(e,n){return t(n)}))}(t,e)}},v=function(e){return function(t){return function(e,t){return g(e,(function(e,n){return t(n)}))}(t,e)}},b=function(e){return function(t){return f(t,e)}};a.TS,a.ue,a.XK,a.RE,a.yO,a.$v,new Map;var w=function(e){var t=u(e);return function(e,n){var r=t(e);return function(t){var a,o=r(t);return i.$I(o)?((a=new Map(t)).set(e,n),a):o.value[1]!==n?((a=new Map(t)).set(o.value[0],n),a):t}}}},47503:(e,t,n)=>{n.d(t,{$I:()=>m,$v:()=>S,Dc:()=>u,Ej:()=>l,Im:()=>c,Mu:()=>d,NY:()=>g,PT:()=>k,RE:()=>_,TS:()=>v,XK:()=>w,cs:()=>s,nZ:()=>y,qt:()=>h,ue:()=>b,yO:()=>C});var r=n(44869),i=n(84647),a=n(1986),o=n(65390);function s(e,t){return{show:function(n){var r=[];return n.forEach((function(n,i){r.push("[".concat(e.show(i),", ").concat(t.show(n),"]"))})),"new Map([".concat(r.sort().join(", "),"])")}}}n(31464);var l=function(e){return e.size},c=function(e){return 0===e.size};function u(e){var t=m(e);return function(n,r){if(void 0===r){var i=u(e);return function(e){return i(n,e)}}return a.Ru(t(n,r))}}function d(e){return function(t,n){if(void 0===n){var r=d(e);return function(e){return r(t,e)}}for(var i,a=n.values();!(i=a.next()).done;){var o=i.value;if(e.equals(t,o))return!0}return!1}}var p=function(e){return function(t){return Array.from(t.keys()).sort(e.compare)}},h=function(e){var t=f(e);return function(e,n){return function(r){var i=t(e,r);if(a.$I(i))return a.dv;var o=i.value,s=o[0],l=o[1],c=n(l);if(c===l)return a.zN(r);var u=new Map(r);return u.set(s,c),a.zN(u)}}};function f(e){return function(t,n){if(void 0===n){var r=f(e);return function(e){return r(t,e)}}for(var i,o=n.entries();!(i=o.next()).done;){var s=i.value,l=s[0],c=s[1];if(e.equals(l,t))return a.zN([l,c])}return a.dv}}function m(e){var t=f(e);return function(n,r){if(void 0===r){var a=m(e);return function(e){return a(n,e)}}return(0,i.pipe)(t(n,r),o.map((function(e){return e[0],e[1]})))}}function g(e,t){var n=f(e);return function(r,i){if(void 0===i){var o=g(e,t);return function(e){return o(e,r)}}for(var s,l=r.entries();!(s=l.next()).done;){var c=s.value,u=c[0],d=c[1],p=n(u,i);if(a.$I(p)||!e.equals(u,p.value[0])||!t.equals(d,p.value[1]))return!1}return!0}}function y(e,t){var n=g(e,t);return(0,r.ee)((function(e,t){return n(e,t)&&n(t,e)}))}new Map;var v=function(e){var t=_(e);return function(e,n){return t(e,(function(e,t,r){return n(t,r)}))}},b=function(e){var t=C(e);return function(e){var n=t(e);return function(e){return n((function(t,n){return e(n)}))}}},w=function(e){var t=S(e);return function(e,n){return t(e,(function(e,t,r){return n(t,r)}))}},_=function(e){var t=p(e);return function(e,n){return function(r){for(var i=e,a=0,o=t(r);a<o.length;a++){var s=o[a];i=n(s,i,r.get(s))}return i}}},C=function(e){var t=p(e);return function(e){return function(n){return function(r){for(var i=e.empty,a=0,o=t(r);a<o.length;a++){var s=o[a];i=e.concat(i,n(s,r.get(s)))}return i}}}},S=function(e){var t=p(e);return function(e,n){return function(r){for(var i=e,a=t(r),o=a.length-1;o>=0;o--){var s=a[o];i=n(s,r.get(s),i)}return i}}},k=function(e){var t=f(e);return function(e,n){var r=t(e);return function(t){var i,o=r(t);return a.$I(o)?((i=new Map(t)).set(e,n),i):o.value[1]!==n?((i=new Map(t)).set(o.value[0],n),i):t}}}},49490:(e,t,n)=>{n.d(t,{M4:()=>i,N4:()=>s,Zo:()=>l,c5:()=>o,pJ:()=>a});var r=n(1986),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{show:function(t){return"[".concat(t.map((function(t,n){return e[n].show(t)})).join(", "),"]")}}},a=function(e){return{show:function(t){var n="{";for(var i in e)r.zy.call(e,i)&&(n+=" ".concat(i,": ").concat(e[i].show(t[i]),","));return n.length>1&&(n=n.slice(0,-1)+" "),n+"}"}}},o={show:function(e){return JSON.stringify(e)}},s={show:function(e){return JSON.stringify(e)}},l={show:function(e){return JSON.stringify(e)}}},97254:(e,t,n)=>{n.d(t,{B:()=>r,J:()=>o});class r{getStringForLocale(e,t){let n=this.strings[t];n||(n=function(e,t,n="en-US"){if(t[e])return t[e];let r=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[r])return t[r];for(let e in t)if(e.startsWith(r+"-"))return t[e];return t[n]}(t,this.strings,this.defaultLocale),this.strings[t]=n);let r=n[e];if(!r)throw new Error(`Could not find intl message ${e} in ${t} locale`);return r}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const i=new Map,a=new Map;class o{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return"function"==typeof n?n(t,this):n}plural(e,t,n="cardinal"){let r=t["="+e];if(r)return"function"==typeof r?r():r;let a=this.locale+":"+n,o=i.get(a);return o||(o=new Intl.PluralRules(this.locale,{type:n}),i.set(a,o)),r=t[o.select(e)]||t.other,"function"==typeof r?r():r}number(e){let t=a.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),a.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return"function"==typeof n?n():n}constructor(e,t){this.locale=e,this.strings=t}}},66836:(e,t,n)=>{n.d(t,{Ge:()=>h,iQ:()=>f,o3:()=>g,q7:()=>o,ue:()=>m,vS:()=>b,wn:()=>l});var r=n(50659);function i(e){return null}function a(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&r.Children.count(e.children)>0)}i.getCollectionNode=function*(e,t){let{childItems:n,title:i,children:o}=e,s=e.title||e.children,l=e.textValue||("string"==typeof s?s:"")||e["aria-label"]||"";l||(null==t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:s,textValue:l,"aria-label":e["aria-label"],hasChildNodes:a(e),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(i){let e=[];r.Children.forEach(o,(t=>{e.push({type:"item",element:t})})),yield*e}}}};let o=i;function s(e){return null}s.getCollectionNode=function*(e){let{children:t,title:n,items:i}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof t){if(!i)throw new Error("props.children was a function but props.items is missing");for(let e of i)yield{type:"item",value:e,renderer:t}}else{let e=[];r.Children.forEach(t,(t=>{e.push({type:"item",element:t})})),yield*e}}}};let l=s;class c{build(e,t){return this.context=t,u((()=>this.iterateCollection(e)))}*iterateCollection(e){let{children:t,items:n}=e;if("function"==typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];r.Children.forEach(t,(t=>{e.push(t)}));let n=0;for(let t of e){let e=this.getFullNode({element:t,index:n},{});for(let t of e)n++,yield t}}}getKey(e,t,n,r){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${r}${t.key}`;let i=t.value;if(null!=i){var a;let e=null!==(a=i.key)&&void 0!==a?a:i.id;if(null==e)throw new Error("No key found for item");return e}return r?`${r}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,i){let a=e.element;if(!a&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context)))return n.index=e.index,n.parentKey=i?i.key:null,void(yield n);a=t.renderer(e.value)}if(r.isValidElement(a)){let r=a.type;if("function"!=typeof r&&"function"!=typeof r.getCollectionNode){let e="function"==typeof a.type?a.type.name:a.type;throw new Error(`Unknown element <${e}> in collection.`)}let o=r.getCollectionNode(a.props,this.context),s=e.index,l=o.next();for(;!l.done&&l.value;){let r=l.value;e.index=s;let c=r.key;c||(c=r.element?null:this.getKey(a,e,t,n));let u=[...this.getFullNode({...r,key:c,index:s,wrapper:d(e.wrapper,r.wrapper)},this.getChildState(t,r),n?`${n}${a.key}`:a.key,i)];for(let t of u){if(t.value=r.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error(`Unsupported type <${p(t.type)}> in <${p(i.type)}>. Only <${p(e.type)}> is supported.`);s++,yield t}l=o.next(u)}return}if(null==e.key)return;let o=this,s={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:e.value,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:u((function*(){if(!e.hasChildNodes)return;let n=0;for(let r of e.childNodes()){null!=r.key&&(r.key=`${s.key}${r.key}`),r.index=n;let e=o.getFullNode(r,o.getChildState(t,r),s.key,s);for(let t of e)n++,yield t}}))};yield s}constructor(){this.cache=new WeakMap}}function u(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;n||(n=e());for(let e of n)t.push(e),yield e}}}function d(e,t){return e&&t?n=>e(t(n)):e||t||void 0}function p(e){return e[0].toUpperCase()+e.slice(1)}function h(e,t,n){let i=(0,r.useMemo)((()=>new c),[]),{children:a,items:o,collection:s}=e;return(0,r.useMemo)((()=>{if(s)return s;let e=i.build({children:a,items:o},n);return t(e)}),[i,a,o,s,n,t])}function f(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function m(e){return function(e,t){let n=0;for(let t of e){if(0===n)return t;n++}}(e)}function g(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=y(e,t),i=y(e,n),a=r.slice(0,i.length).findIndex(((e,t)=>e!==i[t]));return-1!==a?(t=r[a],n=i[a],t.index-n.index):-1}function y(e,t){let n=[];for(;null!=(null==t?void 0:t.parentKey);)t=e.getItem(t.parentKey),n.unshift(t);return n}const v=new WeakMap;function b(e){let t=v.get(e);if(null!=t)return t;t=0;let n=r=>{for(let i of r)"section"===i.type?n(f(i,e)):t++};return n(e),v.set(e,t),t}},8071:(e,t,n)=>{n.d(t,{I:()=>a});var r=n(39694),i=n(50659);function a(e){let t=(0,r.T)(e),[n,a]=(0,i.useState)(null);return{focusStrategy:n,...t,open(e=null){a(e),t.open()},toggle(e=null){a(e),t.toggle()}}}},39694:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(50659),i=n(19037);function a(e){let[t,n]=(0,i.PW)(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const a=(0,r.useCallback)((()=>{n(!0)}),[n]),o=(0,r.useCallback)((()=>{n(!1)}),[n]),s=(0,r.useCallback)((()=>{n(!t)}),[n,t]);return{isOpen:t,setOpen:n,open:a,close:o,toggle:s}}},44451:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(19037),i=n(50659);let a=Math.round(1e10*Math.random()),o=0;function s(e){let t=(0,i.useMemo)((()=>e.name||`radio-group-${a}-${++o}`),[e.name]),[n,s]=(0,r.PW)(e.value,e.defaultValue,e.onChange),[l,c]=(0,i.useState)(null);return{name:t,selectedValue:n,setSelectedValue:t=>{e.isReadOnly||e.isDisabled||s(t)},lastFocusedValue:l,setLastFocusedValue:c,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||null}}},53759:(e,t,n)=>{n.d(t,{R:()=>s,Y:()=>c});var r=n(50659),i=n(19037),a=n(66836);class o extends Set{constructor(e,t,n){super(e),e instanceof o?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function s(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:a,selectionBehavior:s="toggle",disabledBehavior:c="all"}=e,u=(0,r.useRef)(!1),[,d]=(0,r.useState)(!1),p=(0,r.useRef)(null),h=(0,r.useRef)(null),[,f]=(0,r.useState)(null),m=(0,r.useMemo)((()=>l(e.selectedKeys)),[e.selectedKeys]),g=(0,r.useMemo)((()=>l(e.defaultSelectedKeys,new o)),[e.defaultSelectedKeys]),[y,v]=(0,i.PW)(m,g,e.onSelectionChange),b=(0,r.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),[w,_]=(0,r.useState)(s);"replace"===s&&"toggle"===w&&"object"==typeof y&&0===y.size&&_("replace");let C=(0,r.useRef)(s);return(0,r.useEffect)((()=>{s!==C.current&&(_(s),C.current=s)}),[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:w,setSelectionBehavior:_,get isFocused(){return u.current},setFocused(e){u.current=e,d(e)},get focusedKey(){return p.current},get childFocusStrategy(){return h.current},setFocusedKey(e,t="first"){p.current=e,h.current=t,f(e)},selectedKeys:y,setSelectedKeys(e){!a&&function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,y)||v(e)},disabledKeys:b,disabledBehavior:c}}function l(e,t){return e?"all"===e?"all":new o(e):t}class c{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every((e=>t.has(e))),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,a.o3)(this.collection,n,e)<0)&&(e=n)}return null==e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,a.o3)(this.collection,n,e)>0)&&(e=n)}return null==e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new o([e],e,e);else{let n=this.state.selectedKeys,r=n.anchorKey||e;t=new o(n,r,e);for(let i of this.getKeyRange(r,n.currentKey||e))t.delete(i);for(let n of this.getKeyRange(e,r))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let n=this.collection.getItem(e),r=this.collection.getItem(t);return n&&r?(0,a.o3)(this.collection,n,r)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],r=e;for(;r;){let e=this.collection.getItem(r);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);if(null==(e=this.getKey(e)))return;let t=new o("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode)return;if(null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new o([e],e,e):new o;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new o;for(let n of e)if(n=this.getKey(n),null!=n&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;n;){if(this.canSelectItem(n)){let r=this.collection.getItem(n);"item"===r.type&&e.push(n),r.hasChildNodes&&(this.allowsCellSelection||"item"!==r.type)&&t((0,a.ue)((0,a.iQ)(r,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new o)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}constructor(e,t,n){var r;this.collection=e,this.state=t,this.allowsCellSelection=null!==(r=null==n?void 0:n.allowsCellSelection)&&void 0!==r&&r,this._isSelectAll=null}}},92186:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(50659),i=n(53759),a=n(66836),o=n(19037);class s{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.iterable=e,t=t||new Set;let n,r=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||t.has(e.key)))for(let t of e.childNodes)r(t)};for(let t of e)r(t);let i=0;for(let[e,t]of this.keyMap)n?(n.nextKey=e,t.prevKey=n.key):(this.firstKey=e,t.prevKey=void 0),"item"===t.type&&(t.index=i++),n=t,n.nextKey=void 0;this.lastKey=null==n?void 0:n.key}}function l(e){let[t,n]=(0,o.PW)(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),l=(0,i.R)(e),c=(0,r.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),u=(0,a.Ge)(e,(0,r.useCallback)((e=>new s(e,{expandedKeys:t})),[t]),null);return(0,r.useEffect)((()=>{null==l.focusedKey||u.getItem(l.focusedKey)||l.setFocusedKey(null)}),[u,l.focusedKey]),{collection:u,expandedKeys:t,disabledKeys:c,toggleKey:e=>{n(function(e,t){let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}(t,e))},setExpandedKeys:n,selectionManager:new(0,i.Y)(u,l)}}},19037:(e,t,n)=>{n.d(t,{PW:()=>i,qE:()=>a});var r=n(50659);function i(e,t,n){let[i,a]=(0,r.useState)(e||t),o=(0,r.useRef)(void 0!==e),s=void 0!==e;(0,r.useEffect)((()=>{let e=o.current;e!==s&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),o.current=s}),[s]);let l=s?e:i,c=(0,r.useCallback)(((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(l,e)||n(e,...t)),s||(l=e)};"function"==typeof e?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),a(((n,...i)=>{let a=e(s?l:n,...i);return r(a,...t),s?n:a}))):(s||a(e),r(e,...t))}),[s,l,n]);return[l,c]}function a(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}},93263:(e,t,n)=>{n.d(t,{I:()=>i});var r=n(50659);const i=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.375 3.8H4.25C3.56 3.8 3 4.36 3 5.05v7.45m8.125 1.5H4.5A1.5 1.5 0 0 1 3 12.5v0m8.125-5.1V11H4.5A1.5 1.5 0 0 0 3 12.5v0m8 0H4.5M11.125 2v1.8m0 1.8V3.8m0 0H13 9.25"}))))},2617:(e,t,n)=>{n.d(t,{C:()=>i});var r=n(50659);const i=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h1.25M13 4h-1.25m0 0h-1.562m1.562 0-.552 8.828A1.25 1.25 0 0 1 9.951 14H6.049a1.25 1.25 0 0 1-1.247-1.172L4.25 4m0 0h1.563m0 0v-.75c0-.69.56-1.25 1.25-1.25v0h1.875v0c.69 0 1.25.56 1.25 1.25V4M5.812 4h4.376m-1.25 2.5v4.917M7.062 6.5v4.917"}))))},90718:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(50659);const i=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#646B81",d:"M8.001 6.8a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4M12.803 6.8a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4M3.2 6.8a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4"}))))},8966:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(50659);const i=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M2 6.448 4.526 3h2.527M2 6.448 8 13M2 6.448h3.474m8.526 0L11.474 3H8.947M14 6.448 8 13m6-6.552h-3.79M8 13 5.474 6.448M8 13l2.21-6.552m-4.736 0h4.736m-4.736 0L7.053 3m3.157 3.448L8.948 3m0 0H7.053"}))))},25514:(e,t,n)=>{function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{f:()=>r})},618:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(25514);function i(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,r.f)(e,t,"get"))}},40941:(e,t,n)=>{function r(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,{_:()=>r})},11536:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(25514);function i(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,(0,r.f)(e,t,"set"),n),n}}}]);