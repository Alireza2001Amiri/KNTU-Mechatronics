"use strict";(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[7977],{80172:(e,t,n)=>{n.d(t,{q2:()=>_,W6:()=>b,Ob:()=>T,DT:()=>y,Aj:()=>k,T0:()=>O,XG:()=>P,Mj:()=>i});function r(e,t=""){if(e<=0)return t;const n=Math.floor(61*Math.random());return r(e-1,t+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n))}class i{constructor(e,t){this._logger=e,this._metric=t}getValueStart(e){const t=this._metric.getTimer(`doGet${e}.timer`).start();return{getValueSuccess:()=>{t.stop(),this._metric.getCounter(`doGet${e}.success`).increment()},getValueFailure:n=>{t.stop(),this._metric.getCounter(`doGet${e}.failure`).increment(),this._logger.warn(`doGet${e}.failed`,n)}}}valueGenerated(){this._metric.getCounter("generated").increment()}valueRecovered(){this._metric.getCounter("recovered").increment()}}function o(e){try{return e()}catch(e){return}}function s(e,t=null,n={}){return arguments.length<2?function(e){const t=function(e){const t={},n=document.cookie.split(/ *; */);if(!n[0])return t;for(const e of n){const[n,r]=e.split("="),i=h(n),o=h(r);i&&o&&(t[i]=o)}return t}();return e?t[e]:""}(e):function(e,t,n={}){const r=[];null===t?(r.push(c(l(e),"null")),n.maxage=-1):r.push(c(l(e),l(t))),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&r.push(c(u.Path,n.path)),n.domain&&r.push(c(u.Domain,n.domain)),n.expires&&r.push(c(u.Expires,n.expires.toUTCString())),n.secure&&r.push(u.Secure),n.sameSite&&(r.push(c(u.SameSite,n.sameSite)),n.sameSite!==a.None||n.secure||r.push(u.Secure));const i=r.join(";");return document.cookie=i,i}(e,t,n)}var a,u;function c(e,t){return`${e}=${t}`}function l(e){try{return encodeURIComponent(e)}catch(e){return""}}function h(e){try{return decodeURIComponent(e)}catch(e){return null}}!function(e){e.None="None",e.Lax="Lax",e.Strict="Strict"}(a||(a={})),function(e){e.Path="Path",e.Domain="Domain",e.Expires="Expires",e.Secure="Secure",e.SameSite="SameSite"}(u||(u={}));const f=/^\.\w+\.\w+/;function d(e){return{type:"success",value:e}}function m(e){return{type:"failure",error:e}}function p(e){return e.then(d,m)}class g{constructor(e,t=[],n=null,r=3e5,i=0,o=(()=>Date.now())){this.primaryStorage=e,this.secondaryStorages=t,this._logger=n,this._cacheSuccessTimeoutMillis=r,this._cacheFailureTimeoutMillis=i,this._getTime=o,this._allStorages=[e,...t]}_expireCache(e){0===e?this._cacheExpireTimestamp=0:e>0&&(this._cacheExpireTimestamp=this._getTime()+e)}getValue(){if(void 0!==this._cache&&(void 0===this._cacheExpireTimestamp||this._getTime()<this._cacheExpireTimestamp))return this._cache;const e=o((()=>this._logger&&this._logger.getValueStart(this.valueLabel()))),t=this._valueFromStorage();return this._cache=t,this._cacheExpireTimestamp=void 0,t.then((e=>{e?this._expireCache(this._cacheSuccessTimeoutMillis):this._cache=void 0}),(e=>{this._cache=void 0})),t.then((t=>{e&&o((()=>e.getValueSuccess()))}),(t=>{e&&o((()=>e.getValueFailure(t)))})),t}_valueFromStorage(){return Promise.all(this._allStorages.map((e=>p(e.safeGetValue(this.key()))))).then((e=>{const[t]=e;if("failure"===t.type)return Promise.reject(`getting value from primary storage '${this.primaryStorage.name}' has failed: ${t.error}`);const n=e.find((e=>"success"===e.type&&void 0!==e.value));if(void 0===n)return Promise.resolve(void 0);const r=n.value,i="success"===t.type&&void 0===t.value,o=e.reduce(((e,t,n)=>"success"===t.type&&t.value!==r?e.concat(n):e),[]);return this.setValue(r,i,!1,o)}))}setValue(e,t=!1,n=!1,r=Array.from(Array(this._allStorages.length).keys())){const i=r.map((t=>p(this._allStorages[t].safeSetValue(this.key(),e))));return Promise.all(i).then((r=>{if(t||n){const[e]=r;if("success"!==e.type)return Promise.reject(`setting ${this.valueLabel()} to primary storage has failed:\n                ${e.error}`)}const i=Promise.resolve(e);return this._cache=i,this._expireCache(this._cacheSuccessTimeoutMillis),i})).then((e=>(t?o((()=>this._logger&&this._logger.valueRecovered())):n&&o((()=>this._logger&&this._logger.valueGenerated())),e)))}}class _ extends g{constructor(){super(...arguments),this.containerIdLength=12,this.initialSetPromise=void 0,this.generatedContainerId=void 0,this._key="gnar_containerId",this.getContainerId=()=>super.getValue().then((e=>{if(void 0===e){if(this.initialSetPromise)return this.initialSetPromise;{const e=super.setValue(this.getOrGenerateContainerId(),!1,!0);this.initialSetPromise=e;const t=()=>this.initialSetPromise=void 0;return e.then(t,t),e}}return e}))}key(){return this._key}setKey(e){this._key=e}valueLabel(){return"ContainerId"}getOrGenerateContainerId(){return this.generatedContainerId||(this.generatedContainerId=r(this.containerIdLength)),this.generatedContainerId}}class v{constructor(e){this.name=e}safeSetValue(e,t){return this.ensureAvailable(e).then((()=>this.setValue(e,t)))}safeGetValue(e){return this.ensureAvailable(e).then((()=>this.getValue(e))).then((e=>""===e?void 0:e))}}class y extends v{constructor(){super("localStorage"),this.ensureAvailable=e=>{const t=e+"_test",n=r(10);return new Promise(((e,r)=>{localStorage.setItem(t,n),localStorage.getItem(t)!==n?r(new Error(`LocalStorage is unavailable.\n          Availability test failed.\n          Tried to set ${n},\n          the result is ${localStorage.getItem(t)}.`)):e(),localStorage.removeItem(t)}))},this.getValue=e=>{const t=localStorage.getItem(e);return new Promise(((e,n)=>e(null===t?void 0:t)))},this.setValue=(e,t)=>new Promise(((n,r)=>{localStorage.setItem(e,t),n()}))}}class b extends v{constructor(e){if(super("cookie"),this._domain=e,this.ensureAvailable=()=>{const e=r(10);return new Promise(((t,n)=>{s(e,e),s(e)!==e?n(new Error(`CookieStorage is unavailable.\n          Availability test failed.\n          Tried to set ${e}, the result is ${s(e)}.`)):t(),s(e,null)}))},this.getValue=e=>new Promise(((t,n)=>t(s(e)))),!f.test(e))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."')}_getCookieOptions(){return{path:"/",domain:this._domain,expires:new Date((new Date).setFullYear((new Date).getFullYear()+10)),secure:!0,sameSite:a.None}}setValue(e,t){return new Promise(((n,r)=>{s(e,t,this._getCookieOptions()),n()}))}}class P extends v{constructor(e=void 0){super("memory"),this._value=e,this.ensureAvailable=()=>Promise.resolve()}getValue(e){return Promise.resolve(this._value)}setValue(e,t){return this._value=t,Promise.resolve()}}var w=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const I=()=>{const e=document.documentElement.clientWidth||document.body.clientWidth,t=document.documentElement.clientHeight||document.body.clientHeight;return{url:document.location.href,referrer:document.referrer,userAgent:navigator.userAgent,containerWidth:e,containerHeight:t,screenWidth:screen.width,screenHeight:screen.height,devicePixelRatio:window.devicePixelRatio}},S=["client","clientVersion","userId","isTest","containerId","instanceId","batchId"],x="gnar_nextPingTimestamp";class T{constructor(e,t,n,i,o,s=null,a=!1,u,c=I,l={}){this._url=e,this._client=t,this._clientVersion=n,this._fetch=i,this._containerIdManager=o,this._logger=s,this._storePingTimestamp=a,this._gaClientOpt=u,this._getWindowProps=c,this._extraPingParams=l,this._instanceId=r(8),this._batchId=0,this._isUserReady=!1,this._queue=[],this.userGetter=void 0,this._withBrowserProps=e=>{const{userAgent:t,containerHeight:n,containerWidth:r,screenHeight:i,screenWidth:o,devicePixelRatio:s}=this._getWindowProps();return Object.assign(Object.assign({},e),{userAgent:t,screenWidth:o,screenHeight:i,containerWidth:r,containerHeight:n,devicePixelRatio:s})},this._eventsUrl="events",this._liteUrl="lite",this._pingMaybe(),this._initTs=Date.now()}track(e,t={lite:!1}){if(0!==e.eventName.indexOf(this._client+"/"))throw new Error(`Event name ${e.eventName} should start with '${this._client}/'`);if(Object.keys(e).forEach((e=>{if(-1!==S.indexOf(e))throw new Error(`Event data should not contain '${e}' prop.`)})),!this._isUserReady&&this.userGetter)try{const e=this.userGetter();e&&this.setUser(e.userId,e.isTest)}catch(e){}return this._isUserReady||t.lite&&!t.sendUser?(e.eventName!==`${this._client}/ping`&&this._pingMaybe(),this._send(e,t)):(o((()=>this._logger&&this._logger.trackBeforeSetUser(Date.now()-this._initTs))),this._enqueue(e,t))}setUser(e,t){if(null===e||!/^-?\d+$/.test(e))throw new Error("Invalid userId: "+e);const n=this._userId&&this._userId!==e&&!(/^-/.test(e)&&/^-/.test(this._userId));this._isTest=t,this._userId=e,this._isUserReady||(this._isUserReady=!0,this._execQueue()),n&&this._pingMaybe(!0)}setJWT(e,t){if(null===e||""===e)throw new Error("Invalid JWT token: "+e);const[n,r]=e.split("."),i=JSON.parse(decodeURIComponent(atob(r.replace(/-/g,"+").replace(/_/g,"/")).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")));this._jwt=e,this.setUser(i.sub,t)}setGaClient(e){this._gaClientOpt=e}getContainerId(){return this._containerIdManager.getContainerId()}_setNextPingTimestamp(){const e=function(){const e=new Date;return e.getHours()>2&&e.setDate(e.getDate()+1),e.setHours(3),e.setMinutes(Math.floor(60*Math.random())),e.getTime()}();if(this._nextPingTimestamp=e,this._storePingTimestamp)try{localStorage.setItem(x,e.toString())}catch(e){o((()=>this._logger&&this._logger.nextPingDateWriteError(e)))}}_getNextPingTimestamp(){let e=this._nextPingTimestamp;if(void 0!==e||!this._storePingTimestamp)return e;try{const t=localStorage.getItem(x);e=null===t?void 0:parseInt(t,10)}catch(t){e=void 0,o((()=>this._logger&&this._logger.nextPingDateReadError(t)))}return e}_shouldPing(e){if(e)return!0;{const e=this._getNextPingTimestamp();return void 0===e||e<Date.now()}}_pingMaybe(e=!1){if(!this._shouldPing(e))return;this._setNextPingTimestamp();const{url:t,referrer:n}=this._getWindowProps(),r={eventName:`${this._client}/ping`,referrer:n,url:t};this._gaClientOpt?this._gaClientOpt.getClientId().then((e=>this.track(Object.assign(Object.assign(Object.assign({},r),this._extraPingParams),{gaClientId:e}))),(e=>this.track(Object.assign(Object.assign({},r),this._extraPingParams)))):this.track(Object.assign(Object.assign({},r),this._extraPingParams))}pingMaybe(){this._pingMaybe()}_enqueue(e,t){return new Promise(((n,r)=>{this._queue.push([e,t,{resolve:n,reject:r}])}))}_execQueue(){this._queue.forEach((([e,t,{resolve:n,reject:r}])=>{this._send(e,t).then((()=>n())).catch((e=>r(e)))})),this._queue=[]}_withClientProps(e){return Object.assign(Object.assign({},e),{client:this._client,clientVersion:this._clientVersion})}_withUserProps(e){return w(this,void 0,void 0,(function*(){const t=yield this.getContainerId().catch((()=>{}));return Object.assign(Object.assign({},e),{containerId:t,userId:this._userId,isTest:this._isTest})}))}_withInstanceProps(e){const t=this._batchId++;return Object.assign(Object.assign({},e),{instanceId:this._instanceId,batchId:t})}_trackUrl(e){return this._url+"/"+(e.lite?this._liteUrl:this._eventsUrl)+(this._jwt?"-with-token":"")}_send(e,t){return w(this,void 0,void 0,(function*(){try{return e=this._withClientProps(e),(!t.lite||t.lite&&t.sendInstance)&&(e=this._withInstanceProps(e)),(!t.lite||t.lite&&t.sendUser)&&(e=yield this._withUserProps(e)),(!t.lite||t.lite&&t.sendBrowser)&&(e=this._withBrowserProps(e)),yield this._doSend(this._trackUrl(t),e)}catch(e){throw o((()=>this._logger&&this._logger.sendError(e))),e}}))}_doSend(e,t){return this._fetch(e,{mode:"cors",credentials:"include",method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:[t],jwt:this._jwt})}).then((e=>e.ok?Promise.resolve():Promise.reject(new Error(e.statusText))))}setUserGetter(e){this.userGetter=e}}class O{constructor(){this.history=[]}track(e){return this.history.push(e),Promise.resolve()}pingMaybe(){}setUser(e,t){}setJWT(e,t){}setGaClient(e){}getContainerId(){return Promise.resolve("dummy_container_id")}setUserGetter(){}}class k{track(e){const t="trackingGnar";try{const n=JSON.parse(localStorage.getItem(t))||[];n.push(e),localStorage.setItem(t,JSON.stringify(n))}catch(e){}return Promise.resolve()}pingMaybe(){}setUser(e,t){}setJWT(e,t){}setGaClient(e){}getContainerId(){return Promise.resolve("dummy_container_id")}setUserGetter(){}}},99036:(e,t,n)=>{n.d(t,{CC:()=>_,Do:()=>w,EN:()=>d,JI:()=>f,NU:()=>P,NW:()=>I,Tj:()=>m,Uc:()=>v,Um:()=>l,YW:()=>b,ap:()=>p,k$:()=>h,kb:()=>u,nT:()=>c,pG:()=>a,qI:()=>g,sF:()=>S,tk:()=>x,v2:()=>O,wg:()=>T,xm:()=>y});var r=n(45819),i=n(66202),o=n(84647),s=n(21648);function a(e){return(0,o.flow)(i.right,e.of)}function u(e){return(0,o.flow)(i.left,e.of)}function c(e){return function(t){return e.map(t,i.right)}}function l(e){return function(t){return e.map(t,i.left)}}function h(e){return function(t){return(0,o.flow)(i.fromNullable(t),e.of)}}function f(e){var t=h(e);return function(e){var n=t(e);return function(e){return(0,o.flow)(e,n)}}}function d(e){var t=function(e){var t=g(e);return function(e){return function(n){return t(n,e)}}}(e),n=f(e);return function(e){var r=n(e);return function(e){return t(r(e))}}}function m(e){return(0,s.Tj)(e,i.Functor)}function p(e){return(0,r.ap)(e,i.Apply)}function g(e){return function(t,n){return e.chain(t,(function(t){return i.isLeft(t)?e.of(t):n(t.right)}))}}function _(e){return function(t){return function(n){return e.chain(n,(function(n){return i.isLeft(n)?t():e.of(n)}))}}}function v(e){return function(t,n,r){return e.map(t,i.bimap(n,r))}}function y(e){return function(t,n){return e.map(t,i.mapLeft(n))}}function b(e){return function(t,n){return function(r){return e.map(r,i.match(t,n))}}}function P(e){return function(t,n){return function(r){return e.chain(r,i.match(t,n))}}}function w(e){return function(t){return function(n){return e.chain(n,i.match(t,e.of))}}}function I(e){return function(t){return function(n){return e.chain(n,(function(n){return i.isLeft(n)?t(n.left):e.of(n)}))}}}function S(e){var t=I(e);return function(n,r){return(0,o.pipe)(n,t((function(t){return e.map(r(t),(function(e){return i.isLeft(e)?e:i.left(t)}))})))}}function x(e){return function(t){return function(n){return e.chain(n,i.match((function(n){return e.map(t(n),i.left)}),(function(t){return e.of(i.right(t))})))}}}function T(e){return function(t){return e.map(t,i.swap)}}function O(e){return function(t){return e.map(t,i.toUnion)}}},94855:(e,t,n)=>{n.d(t,{ys:()=>J,WW:()=>$,rz:()=>A,ap:()=>N,g$:()=>L,wu:()=>U,cy:()=>oe,Q5:()=>Z,W6:()=>ae,bK:()=>se,Pm:()=>te,AU:()=>I,Mr:()=>P,L9:()=>y,oF:()=>w,sV:()=>Y,aN:()=>ee,Gg:()=>b,WL:()=>S,kb:()=>m,rT:()=>_,Tj:()=>j,qE:()=>E,of:()=>G,NW:()=>T,pG:()=>p,BK:()=>v,M1:()=>g,Pz:()=>ie,bP:()=>ue,yE:()=>ce,_c:()=>re,TX:()=>x});var r=n(45819),i=n(52546),o=n(66202),s=n(99036),a=n(99650),u=n(27155),c=n(84647);var l,h=n(21648),f=n(1986),d=n(46238),m=s.kb(d.Pointed),p=s.pG(d.Pointed),g=s.nT(d.Functor),_=s.Um(d.Functor),v=(0,c.flow)(d.fromIO,g),y=(d.fromIO,v),b=g,P=d.of,w=d.fromIO,I=(d.Functor,s.NU(d.Monad)),S=s.Do(d.Monad),x=function(e,t){return function(){return n=void 0,r=void 0,o=function(){var n;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(f.pG)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,f.kb(t(n))];case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}u((o=o.apply(n,r||[])).next())}));var n,r,i,o}},T=(d.Functor,d.Pointed,d.Pointed,d.Monad,s.NW(d.Monad)),O=(s.sF(d.Monad),d.Monad,d.Functor,function(e,t){return(0,c.pipe)(e,j(t))}),k=function(e,t){return(0,c.pipe)(e,N(t))},M=function(e,t){return(0,c.pipe)(e,V(t))},j=s.Tj(d.Functor),C=(0,c.dual)(3,s.Uc(d.Functor)),U=C,D=(0,c.dual)(2,s.xm(d.Functor)),E=D,N=s.ap(d.ApplyPar),R=(0,c.dual)(2,s.qI(d.Monad)),V=s.CC(d.Monad),G=p,W=m,A="TaskEither",$={URI:A,map:O},F=((0,c.dual)(2,(0,h.as)($)),(0,h.Pg)($),{URI:A,map:O,ap:k}),L=(0,r.g$)(F),J={URI:A,map:O,ap:k,of:G},q={URI:A,map:O,ap:k,chain:R},B={URI:A,fromEither:P},H={URI:A,fromIO:y},K={URI:A,fromIO:y,fromTask:b},Q=(0,c.dual)(2,i.Mi(q)),Y=((0,a.j_)(B,q),(0,u.qf)(H,q),K,l=q,(0,i.Mi)(l),(0,a.sV)(B)),z={fromEither:B.fromEither},X={flatMap:R},Z=f.h8(z,X),ee=(0,a.aN)(B),te=(0,a.Pm)(B,q);f.FR;var ne=G(f.rb),re=function(e){return function(e){var t=function(e){return(0,c.flow)(d.traverseReadonlyNonEmptyArrayWithIndex(e),d.map(o.traverseReadonlyNonEmptyArrayWithIndex(c.SK)))}(e);return function(e){return f.J_(e)?t(e):ne}}((function(t,n){return e(n)}))},ie=re(c.identity),oe=R,se=R,ae=Q,ue={URI:A,bimap:C,mapLeft:D,map:O,of:G,ap:k,chain:R,alt:M,fromIO:y,fromTask:b,throwError:W},ce={URI:A,bimap:C,mapLeft:D,map:O,of:G,ap:function(e,t){return R(e,(function(e){return(0,c.pipe)(t,j(e))}))},chain:R,alt:M,fromIO:y,fromTask:b,throwError:W}},65011:(e,t,n)=>{n.d(t,{Es:()=>r,Tj:()=>s,gp:()=>i,wg:()=>o}),n(84647);var r=function(e){return e[0]},i=function(e){return e[1]},o=function(e){return[i(e),r(e)]},s=function(e){return function(t){return[e(r(t)),i(t)]}}},58508:(e,t,n)=>{n.d(t,{$H:()=>m,Ed:()=>h,Oh:()=>c,UI:()=>f,VC:()=>d,mR:()=>l});var r=n(53397),i=n(65390),o=n(15668),s=n(83288),a=n(69779),u=r.getFunctionMonoid(i.getApplyMonoid({concat:(0,o.getJoinSemigroup)(s.ordNumber).concat,empty:0}))();function c(e){return function(t){return t.iterNumber>=e?i.none:i.some(0)}}function l(e,t){return function(n){return(0,a.pipe)(n,t,i.map((function(t){return Math.min(e,t)})))}}function h(e){return function(t){return i.some(e*Math.pow(2,t.iterNumber))}}var f={iterNumber:0,cumulativeDelay:0,previousDelay:i.none};function d(e,t){var n=e(t);return{iterNumber:t.iterNumber+1,cumulativeDelay:t.cumulativeDelay+i.getOrElse((function(){return 0}))(n),previousDelay:n}}var m=u},72804:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.retrying=t.applyAndDelay=void 0;var s=o(n(46238)),a=o(n(65390)),u=n(69779),c=n(71665);function l(e,t){var n=c.applyPolicy(e,t);return u.pipe(n.previousDelay,a.fold((function(){return s.task.of(n)}),(function(e){return s.delay(e)(s.task.of(n))})))}t.applyAndDelay=l,t.retrying=function(e,t,n){var r=function(i){return u.pipe(i,t,s.chain((function(t){return n(t)?u.pipe(l(e,i),s.chain((function(e){return u.pipe(e.previousDelay,a.fold((function(){return s.task.of(t)}),(function(){return r(e)})))}))):s.task.of(t)})))};return r(c.defaultRetryStatus)}},71665:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.monoidRetryPolicy=t.applyPolicy=t.defaultRetryStatus=t.exponentialBackoff=t.capDelay=t.constantDelay=t.limitRetriesByDelay=t.limitRetries=t.Monoid=void 0;var s=o(n(53397)),a=o(n(65390)),u=n(15668),c=n(83288),l=n(69779);t.Monoid=s.getFunctionMonoid(a.getApplyMonoid({concat:u.getJoinSemigroup(c.ordNumber).concat,empty:0}))(),t.limitRetries=function(e){return function(t){return t.iterNumber>=e?a.none:a.some(0)}},t.limitRetriesByDelay=function(e,t){return function(n){return l.pipe(n,t,a.filter((function(t){return t<e})))}},t.constantDelay=function(e){return function(){return a.some(e)}},t.capDelay=function(e,t){return function(n){return l.pipe(n,t,a.map((function(t){return Math.min(e,t)})))}},t.exponentialBackoff=function(e){return function(t){return a.some(e*Math.pow(2,t.iterNumber))}},t.defaultRetryStatus={iterNumber:0,cumulativeDelay:0,previousDelay:a.none},t.applyPolicy=function(e,t){var n=e(t);return{iterNumber:t.iterNumber+1,cumulativeDelay:t.cumulativeDelay+a.getOrElse((function(){return 0}))(n),previousDelay:n}},t.monoidRetryPolicy=t.Monoid}}]);